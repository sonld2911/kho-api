{
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _app = require(\"./app\");\n\nvar _models = require(\"./models\");\n\nvar _logger = _interopRequireDefault(require(\"./logger\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_models.db.on('error', err => {\n  _logger.default.error(err);\n\n  process.exit();\n}).on('disconnected', _models.connect).once('open', _app.listen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiIiwib24iLCJlcnIiLCJsb2dnZXIiLCJlcnJvciIsInByb2Nlc3MiLCJleGl0IiwiY29ubmVjdCIsIm9uY2UiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUNBOztBQUNBOzs7O0FBRUFBLFdBQ0tDLEVBREwsQ0FDUSxPQURSLEVBQ2tCQyxHQUFELElBQVM7QUFDbEJDLGtCQUFPQyxLQUFQLENBQWFGLEdBQWI7O0FBQ0FHLEVBQUFBLE9BQU8sQ0FBQ0MsSUFBUjtBQUNILENBSkwsRUFLS0wsRUFMTCxDQUtRLGNBTFIsRUFLd0JNLGVBTHhCLEVBTUtDLElBTkwsQ0FNVSxNQU5WLEVBTWtCQyxXQU5sQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBsaXN0ZW4gfSBmcm9tICcuL2FwcCc7XG5pbXBvcnQgeyBkYiwgY29ubmVjdCB9IGZyb20gJy4vbW9kZWxzJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuXG5kYlxuICAgIC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihlcnIpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoKTtcbiAgICB9KVxuICAgIC5vbignZGlzY29ubmVjdGVkJywgY29ubmVjdClcbiAgICAub25jZSgnb3BlbicsIGxpc3Rlbik7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "db",
        "on",
        "err",
        "logger",
        "error",
        "process",
        "exit",
        "connect",
        "once",
        "listen"
      ],
      "mappings": "AAAA;;AAEA;;AACA;;AACA;;;;AAEAA,WACKC,EADL,CACQ,OADR,EACkBC,GAAD,IAAS;AAClBC,kBAAOC,KAAP,CAAaF,GAAb;;AACAG,EAAAA,OAAO,CAACC,IAAR;AACH,CAJL,EAKKL,EALL,CAKQ,cALR,EAKwBM,eALxB,EAMKC,IANL,CAMU,MANV,EAMkBC,WANlB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport { listen } from './app';\nimport { db, connect } from './models';\nimport logger from './logger';\n\ndb\n    .on('error', (err) => {\n        logger.error(err);\n        process.exit();\n    })\n    .on('disconnected', connect)\n    .once('open', listen);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/app.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/app.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/app.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.listen = listen;\nexports.app = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _throw = require(\"throw.js\");\n\nvar _config = require(\"./config\");\n\nvar _models = require(\"./models\");\n\nvar _logger = _interopRequireDefault(require(\"./logger\"));\n\nvar _routes = require(\"./routes\");\n\nvar _middleware = require(\"./middleware\");\n\nvar auth = _interopRequireWildcard(require(\"./auth\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\n/**\n * LOGGER MIDDLEWARE REGISTER\n */\n\nexports.app = app;\napp.use(_middleware.LoggerMiddleware);\n/**\n * SECURITY MIDDLEWARE\n */\n\napp.use((0, _cors.default)());\n/**\n * SINGLETON APP MODELS\n */\n\napp.set('models', _models.models);\n/**\n * OTHER MIDDLEWARE\n */\n\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\n/**\n * PASSPORT INITIALIZE\n */\n\napp.use(auth.initialize());\n/**\n * API ROUTES REGISTER\n */\n\napp.use('/api', _routes.apiRoutes);\n/**\n * CATCH 404 ERROR HANDLER\n */\n\napp.use((req, res, next) => {\n  return next(new _throw.NotFound());\n});\n/**\n * CATCH ALL ERRORS HANDLER\n */\n// eslint-disable-next-line no-unused-vars\n\napp.use((err, req, res, next) => {\n  _logger.default.error(err);\n\n  return res.status(err.statusCode || 500).json({\n    'status': 'error',\n    'message': err.message,\n    'code': err.errorCode\n  });\n});\n\nfunction listen() {\n  app.listen(_config.CONFIG.PORT, () => _logger.default.info(`App is listening on port ${_config.CONFIG.PORT}`));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJMb2dnZXJNaWRkbGV3YXJlIiwic2V0IiwibW9kZWxzIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJhdXRoIiwiaW5pdGlhbGl6ZSIsImFwaVJvdXRlcyIsInJlcSIsInJlcyIsIm5leHQiLCJOb3RGb3VuZCIsImVyciIsImxvZ2dlciIsImVycm9yIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsIm1lc3NhZ2UiLCJlcnJvckNvZGUiLCJsaXN0ZW4iLCJDT05GSUciLCJQT1JUIiwiaW5mbyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLE1BQU1BLEdBQUcsR0FBRyx1QkFBWjtBQUVBOzs7OztBQUdBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsNEJBQVI7QUFFQTs7OztBQUdBRixHQUFHLENBQUNDLEdBQUosQ0FBUSxvQkFBUjtBQUVBOzs7O0FBR0FELEdBQUcsQ0FBQ0csR0FBSixDQUFRLFFBQVIsRUFBa0JDLGNBQWxCO0FBRUE7Ozs7QUFHQUosR0FBRyxDQUFDQyxHQUFKLENBQVFJLG9CQUFXQyxJQUFYLEVBQVI7QUFDQU4sR0FBRyxDQUFDQyxHQUFKLENBQVFJLG9CQUFXRSxVQUFYLENBQXNCO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQXRCLENBQVI7QUFFQTs7OztBQUdBUixHQUFHLENBQUNDLEdBQUosQ0FBUVEsSUFBSSxDQUFDQyxVQUFMLEVBQVI7QUFFQTs7OztBQUdBVixHQUFHLENBQUNDLEdBQUosQ0FBUSxNQUFSLEVBQWdCVSxpQkFBaEI7QUFFQTs7OztBQUdBWCxHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDVyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN4QixTQUFPQSxJQUFJLENBQUMsSUFBSUMsZUFBSixFQUFELENBQVg7QUFDSCxDQUZEO0FBSUE7OztBQUdBOztBQUNBZixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDZSxHQUFELEVBQU1KLEdBQU4sRUFBV0MsR0FBWCxFQUFnQkMsSUFBaEIsS0FBeUI7QUFFN0JHLGtCQUFPQyxLQUFQLENBQWFGLEdBQWI7O0FBRUEsU0FBT0gsR0FBRyxDQUFDTSxNQUFKLENBQVdILEdBQUcsQ0FBQ0ksVUFBSixJQUFrQixHQUE3QixFQUFrQ2QsSUFBbEMsQ0FBdUM7QUFDMUMsY0FBVSxPQURnQztBQUUxQyxlQUFXVSxHQUFHLENBQUNLLE9BRjJCO0FBRzFDLFlBQVFMLEdBQUcsQ0FBQ007QUFIOEIsR0FBdkMsQ0FBUDtBQU1ILENBVkQ7O0FBWUEsU0FBU0MsTUFBVCxHQUFrQjtBQUNkdkIsRUFBQUEsR0FBRyxDQUFDdUIsTUFBSixDQUFXQyxlQUFPQyxJQUFsQixFQUNJLE1BQU1SLGdCQUFPUyxJQUFQLENBQWEsNEJBQTJCRixlQUFPQyxJQUFLLEVBQXBELENBRFY7QUFFSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHsgTm90Rm91bmQgfSBmcm9tICd0aHJvdy5qcyc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBtb2RlbHMgfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IGFwaVJvdXRlcyB9IGZyb20gJy4vcm91dGVzJztcbmltcG9ydCB7IExvZ2dlck1pZGRsZXdhcmUgfSBmcm9tICcuL21pZGRsZXdhcmUnO1xuaW1wb3J0ICogYXMgYXV0aCBmcm9tICcuL2F1dGgnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLyoqXG4gKiBMT0dHRVIgTUlERExFV0FSRSBSRUdJU1RFUlxuICovXG5hcHAudXNlKExvZ2dlck1pZGRsZXdhcmUpO1xuXG4vKipcbiAqIFNFQ1VSSVRZIE1JRERMRVdBUkVcbiAqL1xuYXBwLnVzZShjb3JzKCkpO1xuXG4vKipcbiAqIFNJTkdMRVRPTiBBUFAgTU9ERUxTXG4gKi9cbmFwcC5zZXQoJ21vZGVscycsIG1vZGVscyk7XG5cbi8qKlxuICogT1RIRVIgTUlERExFV0FSRVxuICovXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG4vKipcbiAqIFBBU1NQT1JUIElOSVRJQUxJWkVcbiAqL1xuYXBwLnVzZShhdXRoLmluaXRpYWxpemUoKSk7XG5cbi8qKlxuICogQVBJIFJPVVRFUyBSRUdJU1RFUlxuICovXG5hcHAudXNlKCcvYXBpJywgYXBpUm91dGVzKTtcblxuLyoqXG4gKiBDQVRDSCA0MDQgRVJST1IgSEFORExFUlxuICovXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJldHVybiBuZXh0KG5ldyBOb3RGb3VuZCgpKTtcbn0pO1xuXG4vKipcbiAqIENBVENIIEFMTCBFUlJPUlMgSEFORExFUlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcblxuICAgIGxvZ2dlci5lcnJvcihlcnIpO1xuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoZXJyLnN0YXR1c0NvZGUgfHwgNTAwKS5qc29uKHtcbiAgICAgICAgJ3N0YXR1cyc6ICdlcnJvcicsXG4gICAgICAgICdtZXNzYWdlJzogZXJyLm1lc3NhZ2UsXG4gICAgICAgICdjb2RlJzogZXJyLmVycm9yQ29kZSxcbiAgICB9KTtcblxufSk7XG5cbmZ1bmN0aW9uIGxpc3RlbigpIHtcbiAgICBhcHAubGlzdGVuKENPTkZJRy5QT1JULFxuICAgICAgICAoKSA9PiBsb2dnZXIuaW5mbyhgQXBwIGlzIGxpc3RlbmluZyBvbiBwb3J0ICR7Q09ORklHLlBPUlR9YCkpO1xufVxuXG5leHBvcnQge1xuICAgIGFwcCxcbiAgICBsaXN0ZW4sXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "use",
        "LoggerMiddleware",
        "set",
        "models",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "auth",
        "initialize",
        "apiRoutes",
        "req",
        "res",
        "next",
        "NotFound",
        "err",
        "logger",
        "error",
        "status",
        "statusCode",
        "message",
        "errorCode",
        "listen",
        "CONFIG",
        "PORT",
        "info"
      ],
      "mappings": "AAAA;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;AAEA;;;;;AAGAA,GAAG,CAACC,GAAJ,CAAQC,4BAAR;AAEA;;;;AAGAF,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AAEA;;;;AAGAD,GAAG,CAACG,GAAJ,CAAQ,QAAR,EAAkBC,cAAlB;AAEA;;;;AAGAJ,GAAG,CAACC,GAAJ,CAAQI,oBAAWC,IAAX,EAAR;AACAN,GAAG,CAACC,GAAJ,CAAQI,oBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AAEA;;;;AAGAR,GAAG,CAACC,GAAJ,CAAQQ,IAAI,CAACC,UAAL,EAAR;AAEA;;;;AAGAV,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBU,iBAAhB;AAEA;;;;AAGAX,GAAG,CAACC,GAAJ,CAAQ,CAACW,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxB,SAAOA,IAAI,CAAC,IAAIC,eAAJ,EAAD,CAAX;AACH,CAFD;AAIA;;;AAGA;;AACAf,GAAG,CAACC,GAAJ,CAAQ,CAACe,GAAD,EAAMJ,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAE7BG,kBAAOC,KAAP,CAAaF,GAAb;;AAEA,SAAOH,GAAG,CAACM,MAAJ,CAAWH,GAAG,CAACI,UAAJ,IAAkB,GAA7B,EAAkCd,IAAlC,CAAuC;AAC1C,cAAU,OADgC;AAE1C,eAAWU,GAAG,CAACK,OAF2B;AAG1C,YAAQL,GAAG,CAACM;AAH8B,GAAvC,CAAP;AAMH,CAVD;;AAYA,SAASC,MAAT,GAAkB;AACdvB,EAAAA,GAAG,CAACuB,MAAJ,CAAWC,eAAOC,IAAlB,EACI,MAAMR,gBAAOS,IAAP,CAAa,4BAA2BF,eAAOC,IAAK,EAApD,CADV;AAEH",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport path from 'path';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport { NotFound } from 'throw.js';\nimport { CONFIG } from './config';\nimport { models } from './models';\nimport logger from './logger';\nimport { apiRoutes } from './routes';\nimport { LoggerMiddleware } from './middleware';\nimport * as auth from './auth';\nimport cors from 'cors';\n\nconst app = express();\n\n/**\n * LOGGER MIDDLEWARE REGISTER\n */\napp.use(LoggerMiddleware);\n\n/**\n * SECURITY MIDDLEWARE\n */\napp.use(cors());\n\n/**\n * SINGLETON APP MODELS\n */\napp.set('models', models);\n\n/**\n * OTHER MIDDLEWARE\n */\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n/**\n * PASSPORT INITIALIZE\n */\napp.use(auth.initialize());\n\n/**\n * API ROUTES REGISTER\n */\napp.use('/api', apiRoutes);\n\n/**\n * CATCH 404 ERROR HANDLER\n */\napp.use((req, res, next) => {\n    return next(new NotFound());\n});\n\n/**\n * CATCH ALL ERRORS HANDLER\n */\n// eslint-disable-next-line no-unused-vars\napp.use((err, req, res, next) => {\n\n    logger.error(err);\n\n    return res.status(err.statusCode || 500).json({\n        'status': 'error',\n        'message': err.message,\n        'code': err.errorCode,\n    });\n\n});\n\nfunction listen() {\n    app.listen(CONFIG.PORT,\n        () => logger.info(`App is listening on port ${CONFIG.PORT}`));\n}\n\nexport {\n    app,\n    listen,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/config/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/config/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/config/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/config",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CONFIG = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire('dotenv').config();\n\nconst CONFIG = {\n  ROOT_DIR: _path.default.join(__dirname, '../..'),\n  ENV: (0, _lodash.get)(process.env, 'APP_ENV', 'development'),\n  PORT: (0, _lodash.get)(process.env, 'PORT', 3000),\n  SESSION_SECRET: (0, _lodash.get)(process.env, 'SESSION_SECRET', 'session secret'),\n  MONGODB_URI: (0, _lodash.get)(process.env, 'APP_MONGODB_URI'),\n  JWT_ENCRYPTION: (0, _lodash.get)(process.env, 'JWT_ENCRYPTION', 'jwt_secret'),\n  JWT_EXPIRATION: (0, _lodash.get)(process.env, 'JWT_EXPIRATION', '30d'),\n  LOG_LEVEL: (0, _lodash.get)(process.env, 'APP_LOG_LEVEL', 'debug'),\n  UPLOAD_TEMP_PATH: (0, _lodash.get)(process.env, 'UPLOAD_TEMP_PATH', 'uploads/_temp'),\n  // eslint-disable-next-line\n  AVATAR_UPLOAD_PATH: (0, _lodash.get)(process.env, 'AVATAR_UPLOAD_PATH', 'uploads/avatars'),\n  AVATAR_MAX_FILE_SIZE: (0, _lodash.get)(process.env, 'AVATAR_MAX_FILE_SIZE', 1000000)\n};\nexports.CONFIG = CONFIG;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJDT05GSUciLCJST09UX0RJUiIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiRU5WIiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJTRVNTSU9OX1NFQ1JFVCIsIk1PTkdPREJfVVJJIiwiSldUX0VOQ1JZUFRJT04iLCJKV1RfRVhQSVJBVElPTiIsIkxPR19MRVZFTCIsIlVQTE9BRF9URU1QX1BBVEgiLCJBVkFUQVJfVVBMT0FEX1BBVEgiLCJBVkFUQVJfTUFYX0ZJTEVfU0laRSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUVBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQSxNQUFNQyxNQUFNLEdBQUc7QUFDWEMsRUFBQUEsUUFBUSxFQUFFQyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsT0FBckIsQ0FEQztBQUdYQyxFQUFBQSxHQUFHLEVBQUUsaUJBQUlDLE9BQU8sQ0FBQ0MsR0FBWixFQUFpQixTQUFqQixFQUE0QixhQUE1QixDQUhNO0FBSVhDLEVBQUFBLElBQUksRUFBRSxpQkFBSUYsT0FBTyxDQUFDQyxHQUFaLEVBQWlCLE1BQWpCLEVBQXlCLElBQXpCLENBSks7QUFLWEUsRUFBQUEsY0FBYyxFQUFFLGlCQUFJSCxPQUFPLENBQUNDLEdBQVosRUFBaUIsZ0JBQWpCLEVBQW1DLGdCQUFuQyxDQUxMO0FBT1hHLEVBQUFBLFdBQVcsRUFBRSxpQkFBSUosT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGlCQUFqQixDQVBGO0FBU1hJLEVBQUFBLGNBQWMsRUFBRSxpQkFBSUwsT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGdCQUFqQixFQUFtQyxZQUFuQyxDQVRMO0FBVVhLLEVBQUFBLGNBQWMsRUFBRSxpQkFBSU4sT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGdCQUFqQixFQUFtQyxLQUFuQyxDQVZMO0FBWVhNLEVBQUFBLFNBQVMsRUFBRSxpQkFBSVAsT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGVBQWpCLEVBQWtDLE9BQWxDLENBWkE7QUFjWE8sRUFBQUEsZ0JBQWdCLEVBQUUsaUJBQUlSLE9BQU8sQ0FBQ0MsR0FBWixFQUFpQixrQkFBakIsRUFBcUMsZUFBckMsQ0FkUDtBQWVYO0FBQ0FRLEVBQUFBLGtCQUFrQixFQUFFLGlCQUFJVCxPQUFPLENBQUNDLEdBQVosRUFBaUIsb0JBQWpCLEVBQXVDLGlCQUF2QyxDQWhCVDtBQWlCWFMsRUFBQUEsb0JBQW9CLEVBQUUsaUJBQUlWLE9BQU8sQ0FBQ0MsR0FBWixFQUFpQixzQkFBakIsRUFBeUMsT0FBekM7QUFqQlgsQ0FBZiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuY29uc3QgQ09ORklHID0ge1xuICAgIFJPT1RfRElSOiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4nKSxcblxuICAgIEVOVjogZ2V0KHByb2Nlc3MuZW52LCAnQVBQX0VOVicsICdkZXZlbG9wbWVudCcpLFxuICAgIFBPUlQ6IGdldChwcm9jZXNzLmVudiwgJ1BPUlQnLCAzMDAwKSxcbiAgICBTRVNTSU9OX1NFQ1JFVDogZ2V0KHByb2Nlc3MuZW52LCAnU0VTU0lPTl9TRUNSRVQnLCAnc2Vzc2lvbiBzZWNyZXQnKSxcblxuICAgIE1PTkdPREJfVVJJOiBnZXQocHJvY2Vzcy5lbnYsICdBUFBfTU9OR09EQl9VUkknKSxcblxuICAgIEpXVF9FTkNSWVBUSU9OOiBnZXQocHJvY2Vzcy5lbnYsICdKV1RfRU5DUllQVElPTicsICdqd3Rfc2VjcmV0JyksXG4gICAgSldUX0VYUElSQVRJT046IGdldChwcm9jZXNzLmVudiwgJ0pXVF9FWFBJUkFUSU9OJywgJzMwZCcpLFxuXG4gICAgTE9HX0xFVkVMOiBnZXQocHJvY2Vzcy5lbnYsICdBUFBfTE9HX0xFVkVMJywgJ2RlYnVnJyksXG5cbiAgICBVUExPQURfVEVNUF9QQVRIOiBnZXQocHJvY2Vzcy5lbnYsICdVUExPQURfVEVNUF9QQVRIJywgJ3VwbG9hZHMvX3RlbXAnKSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBBVkFUQVJfVVBMT0FEX1BBVEg6IGdldChwcm9jZXNzLmVudiwgJ0FWQVRBUl9VUExPQURfUEFUSCcsICd1cGxvYWRzL2F2YXRhcnMnKSxcbiAgICBBVkFUQVJfTUFYX0ZJTEVfU0laRTogZ2V0KHByb2Nlc3MuZW52LCAnQVZBVEFSX01BWF9GSUxFX1NJWkUnLCAxMDAwMDAwKSxcbn07XG5cbmV4cG9ydCB7XG4gICAgQ09ORklHLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "require",
        "config",
        "CONFIG",
        "ROOT_DIR",
        "path",
        "join",
        "__dirname",
        "ENV",
        "process",
        "env",
        "PORT",
        "SESSION_SECRET",
        "MONGODB_URI",
        "JWT_ENCRYPTION",
        "JWT_EXPIRATION",
        "LOG_LEVEL",
        "UPLOAD_TEMP_PATH",
        "AVATAR_UPLOAD_PATH",
        "AVATAR_MAX_FILE_SIZE"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,QAAQ,EAAEC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CADC;AAGXC,EAAAA,GAAG,EAAE,iBAAIC,OAAO,CAACC,GAAZ,EAAiB,SAAjB,EAA4B,aAA5B,CAHM;AAIXC,EAAAA,IAAI,EAAE,iBAAIF,OAAO,CAACC,GAAZ,EAAiB,MAAjB,EAAyB,IAAzB,CAJK;AAKXE,EAAAA,cAAc,EAAE,iBAAIH,OAAO,CAACC,GAAZ,EAAiB,gBAAjB,EAAmC,gBAAnC,CALL;AAOXG,EAAAA,WAAW,EAAE,iBAAIJ,OAAO,CAACC,GAAZ,EAAiB,iBAAjB,CAPF;AASXI,EAAAA,cAAc,EAAE,iBAAIL,OAAO,CAACC,GAAZ,EAAiB,gBAAjB,EAAmC,YAAnC,CATL;AAUXK,EAAAA,cAAc,EAAE,iBAAIN,OAAO,CAACC,GAAZ,EAAiB,gBAAjB,EAAmC,KAAnC,CAVL;AAYXM,EAAAA,SAAS,EAAE,iBAAIP,OAAO,CAACC,GAAZ,EAAiB,eAAjB,EAAkC,OAAlC,CAZA;AAcXO,EAAAA,gBAAgB,EAAE,iBAAIR,OAAO,CAACC,GAAZ,EAAiB,kBAAjB,EAAqC,eAArC,CAdP;AAeX;AACAQ,EAAAA,kBAAkB,EAAE,iBAAIT,OAAO,CAACC,GAAZ,EAAiB,oBAAjB,EAAuC,iBAAvC,CAhBT;AAiBXS,EAAAA,oBAAoB,EAAE,iBAAIV,OAAO,CAACC,GAAZ,EAAiB,sBAAjB,EAAyC,OAAzC;AAjBX,CAAf",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/config",
      "sourcesContent": [
        "'use strict';\n\nimport { get } from 'lodash';\nimport path from 'path';\n\nrequire('dotenv').config();\n\nconst CONFIG = {\n    ROOT_DIR: path.join(__dirname, '../..'),\n\n    ENV: get(process.env, 'APP_ENV', 'development'),\n    PORT: get(process.env, 'PORT', 3000),\n    SESSION_SECRET: get(process.env, 'SESSION_SECRET', 'session secret'),\n\n    MONGODB_URI: get(process.env, 'APP_MONGODB_URI'),\n\n    JWT_ENCRYPTION: get(process.env, 'JWT_ENCRYPTION', 'jwt_secret'),\n    JWT_EXPIRATION: get(process.env, 'JWT_EXPIRATION', '30d'),\n\n    LOG_LEVEL: get(process.env, 'APP_LOG_LEVEL', 'debug'),\n\n    UPLOAD_TEMP_PATH: get(process.env, 'UPLOAD_TEMP_PATH', 'uploads/_temp'),\n    // eslint-disable-next-line\n    AVATAR_UPLOAD_PATH: get(process.env, 'AVATAR_UPLOAD_PATH', 'uploads/avatars'),\n    AVATAR_MAX_FILE_SIZE: get(process.env, 'AVATAR_MAX_FILE_SIZE', 1000000),\n};\n\nexport {\n    CONFIG,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.models = exports.db = void 0;\n\nvar _config = require(\"../config\");\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _camelcase = _interopRequireDefault(require(\"camelcase\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst basename = _path.default.basename(__filename);\n\nconst models = {};\nexports.models = models;\n\n_fs.default.readdirSync(__dirname).filter(file => {\n  return file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js';\n}).forEach(file => {\n  const filename = file.split('.')[0];\n  const modelName = (0, _camelcase.default)(filename, {\n    pascalCase: true\n  });\n\n  const model = require(`./${file}`);\n\n  models[modelName] = model[modelName];\n});\n\n_mongoose.default.Promise = global.Promise;\n\nfunction connect() {\n  _mongoose.default.connect(_config.CONFIG.MONGODB_URI);\n\n  return _mongoose.default.connection;\n}\n\n_mongoose.default.set('useCreateIndex', true);\n\n_mongoose.default.set('useNewUrlParser', true);\n\nconst db = connect();\nexports.db = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImJhc2VuYW1lIiwicGF0aCIsIl9fZmlsZW5hbWUiLCJtb2RlbHMiLCJmcyIsInJlYWRkaXJTeW5jIiwiX19kaXJuYW1lIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJmaWxlbmFtZSIsInNwbGl0IiwibW9kZWxOYW1lIiwicGFzY2FsQ2FzZSIsIm1vZGVsIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImNvbm5lY3QiLCJDT05GSUciLCJNT05HT0RCX1VSSSIsImNvbm5lY3Rpb24iLCJzZXQiLCJkYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFFBQVEsR0FBR0MsY0FBS0QsUUFBTCxDQUFjRSxVQUFkLENBQWpCOztBQUVBLE1BQU1DLE1BQU0sR0FBRyxFQUFmOzs7QUFFQUMsWUFBR0MsV0FBSCxDQUFlQyxTQUFmLEVBQ0tDLE1BREwsQ0FDWUMsSUFBSSxJQUFJO0FBQ1osU0FBUUEsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF2QixJQUNDRCxJQUFJLEtBQUtSLFFBRFYsSUFDd0JRLElBQUksQ0FBQ0UsS0FBTCxDQUFXLENBQUMsQ0FBWixNQUFtQixLQURsRDtBQUVILENBSkwsRUFLS0MsT0FMTCxDQUthSCxJQUFJLElBQUk7QUFDYixRQUFNSSxRQUFRLEdBQUdKLElBQUksQ0FBQ0ssS0FBTCxDQUFXLEdBQVgsRUFBZ0IsQ0FBaEIsQ0FBakI7QUFDQSxRQUFNQyxTQUFTLEdBQUcsd0JBQVVGLFFBQVYsRUFBb0I7QUFBQ0csSUFBQUEsVUFBVSxFQUFFO0FBQWIsR0FBcEIsQ0FBbEI7O0FBQ0EsUUFBTUMsS0FBSyxHQUFHQyxPQUFPLENBQUUsS0FBSVQsSUFBSyxFQUFYLENBQXJCOztBQUVBTCxFQUFBQSxNQUFNLENBQUNXLFNBQUQsQ0FBTixHQUFvQkUsS0FBSyxDQUFDRixTQUFELENBQXpCO0FBQ0gsQ0FYTDs7QUFhQUksa0JBQVNDLE9BQVQsR0FBbUJDLE1BQU0sQ0FBQ0QsT0FBMUI7O0FBRUEsU0FBU0UsT0FBVCxHQUFtQjtBQUNmSCxvQkFBU0csT0FBVCxDQUFpQkMsZUFBT0MsV0FBeEI7O0FBRUEsU0FBT0wsa0JBQVNNLFVBQWhCO0FBQ0g7O0FBRUROLGtCQUFTTyxHQUFULENBQWEsZ0JBQWIsRUFBK0IsSUFBL0I7O0FBRUFQLGtCQUFTTyxHQUFULENBQWEsaUJBQWIsRUFBZ0MsSUFBaEM7O0FBRUEsTUFBTUMsRUFBRSxHQUFHTCxPQUFPLEVBQWxCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ09ORklHIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgY2FtZWxDYXNlIGZyb20gJ2NhbWVsY2FzZSc7XG5cbmNvbnN0IGJhc2VuYW1lID0gcGF0aC5iYXNlbmFtZShfX2ZpbGVuYW1lKTtcblxuY29uc3QgbW9kZWxzID0ge307XG5cbmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSlcbiAgICAuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICByZXR1cm4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKVxuICAgICAgICAgICAgJiYgKGZpbGUgIT09IGJhc2VuYW1lKSAmJiAoZmlsZS5zbGljZSgtMykgPT09ICcuanMnKTtcbiAgICB9KVxuICAgIC5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGZpbGUuc3BsaXQoJy4nKVswXTtcbiAgICAgICAgY29uc3QgbW9kZWxOYW1lID0gY2FtZWxDYXNlKGZpbGVuYW1lLCB7cGFzY2FsQ2FzZTogdHJ1ZX0pO1xuICAgICAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUoYC4vJHtmaWxlfWApO1xuXG4gICAgICAgIG1vZGVsc1ttb2RlbE5hbWVdID0gbW9kZWxbbW9kZWxOYW1lXTtcbiAgICB9KTtcblxubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuXG5mdW5jdGlvbiBjb25uZWN0KCkge1xuICAgIG1vbmdvb3NlLmNvbm5lY3QoQ09ORklHLk1PTkdPREJfVVJJKTtcblxuICAgIHJldHVybiBtb25nb29zZS5jb25uZWN0aW9uO1xufVxuXG5tb25nb29zZS5zZXQoJ3VzZUNyZWF0ZUluZGV4JywgdHJ1ZSk7XG5cbm1vbmdvb3NlLnNldCgndXNlTmV3VXJsUGFyc2VyJywgdHJ1ZSk7XG5cbmNvbnN0IGRiID0gY29ubmVjdCgpO1xuXG5leHBvcnQge1xuICAgIGRiLFxuICAgIGNvbm5lY3QsXG4gICAgbW9kZWxzLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "basename",
        "path",
        "__filename",
        "models",
        "fs",
        "readdirSync",
        "__dirname",
        "filter",
        "file",
        "indexOf",
        "slice",
        "forEach",
        "filename",
        "split",
        "modelName",
        "pascalCase",
        "model",
        "require",
        "mongoose",
        "Promise",
        "global",
        "connect",
        "CONFIG",
        "MONGODB_URI",
        "connection",
        "set",
        "db"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAGC,cAAKD,QAAL,CAAcE,UAAd,CAAjB;;AAEA,MAAMC,MAAM,GAAG,EAAf;;;AAEAC,YAAGC,WAAH,CAAeC,SAAf,EACKC,MADL,CACYC,IAAI,IAAI;AACZ,SAAQA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IACCD,IAAI,KAAKR,QADV,IACwBQ,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADlD;AAEH,CAJL,EAKKC,OALL,CAKaH,IAAI,IAAI;AACb,QAAMI,QAAQ,GAAGJ,IAAI,CAACK,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAjB;AACA,QAAMC,SAAS,GAAG,wBAAUF,QAAV,EAAoB;AAACG,IAAAA,UAAU,EAAE;AAAb,GAApB,CAAlB;;AACA,QAAMC,KAAK,GAAGC,OAAO,CAAE,KAAIT,IAAK,EAAX,CAArB;;AAEAL,EAAAA,MAAM,CAACW,SAAD,CAAN,GAAoBE,KAAK,CAACF,SAAD,CAAzB;AACH,CAXL;;AAaAI,kBAASC,OAAT,GAAmBC,MAAM,CAACD,OAA1B;;AAEA,SAASE,OAAT,GAAmB;AACfH,oBAASG,OAAT,CAAiBC,eAAOC,WAAxB;;AAEA,SAAOL,kBAASM,UAAhB;AACH;;AAEDN,kBAASO,GAAT,CAAa,gBAAb,EAA+B,IAA/B;;AAEAP,kBAASO,GAAT,CAAa,iBAAb,EAAgC,IAAhC;;AAEA,MAAMC,EAAE,GAAGL,OAAO,EAAlB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "sourcesContent": [
        "import { CONFIG } from '../config';\nimport mongoose from 'mongoose';\nimport fs from 'fs';\nimport path from 'path';\nimport camelCase from 'camelcase';\n\nconst basename = path.basename(__filename);\n\nconst models = {};\n\nfs.readdirSync(__dirname)\n    .filter(file => {\n        return (file.indexOf('.') !== 0)\n            && (file !== basename) && (file.slice(-3) === '.js');\n    })\n    .forEach(file => {\n        const filename = file.split('.')[0];\n        const modelName = camelCase(filename, {pascalCase: true});\n        const model = require(`./${file}`);\n\n        models[modelName] = model[modelName];\n    });\n\nmongoose.Promise = global.Promise;\n\nfunction connect() {\n    mongoose.connect(CONFIG.MONGODB_URI);\n\n    return mongoose.connection;\n}\n\nmongoose.set('useCreateIndex', true);\n\nmongoose.set('useNewUrlParser', true);\n\nconst db = connect();\n\nexport {\n    db,\n    connect,\n    models,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models/product.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/product.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/product.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/product.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
        "sourceFileName": "product.model.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Product = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nvar _lodash = require(\"lodash\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst ProductSchema = new _mongoose.default.Schema({\n  code: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  name: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  description: {\n    type: String,\n    trim: true,\n    default: ''\n  },\n  manufacturer: {\n    type: String,\n    trim: true,\n    default: ''\n  },\n  machinePart: {\n    type: String,\n    trim: true,\n    default: ''\n  },\n  warehouseId: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Warehouse',\n    required: false\n  }\n}, {\n  timestamps: true\n});\nProductSchema.plugin(_mongoosePaginateV.default);\nProductSchema.plugin(_mongooseUniqueValidator.default);\n\nProductSchema.statics.findByProductCode = function findByProductCode(code) {\n  return this.findOne({\n    code\n  });\n};\n\nProductSchema.statics.isProductCodeExists = function isProductCodeExists(code, warehouseId) {\n  return this.findOne({\n    code,\n    warehouseId\n  });\n};\n\nProductSchema.set('toJSON', {\n  virtual: true,\n  transform: function (doc, props) {\n    props.id = props._id;\n    props = (0, _lodash.omit)(props, ['_id', '__v']);\n    return props;\n  }\n});\n\nconst Product = _mongoose.default.model('Product', ProductSchema);\n\nexports.Product = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QubW9kZWwuanMiXSwibmFtZXMiOlsiUHJvZHVjdFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwiY29kZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJkZWZhdWx0IiwibWFudWZhY3R1cmVyIiwibWFjaGluZVBhcnQiLCJ3YXJlaG91c2VJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0aW1lc3RhbXBzIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsInN0YXRpY3MiLCJmaW5kQnlQcm9kdWN0Q29kZSIsImZpbmRPbmUiLCJpc1Byb2R1Y3RDb2RlRXhpc3RzIiwic2V0IiwidmlydHVhbCIsInRyYW5zZm9ybSIsImRvYyIsInByb3BzIiwiaWQiLCJfaWQiLCJQcm9kdWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDdENDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxJQUFJLEVBQUVDLE1BREo7QUFFRkMsSUFBQUEsUUFBUSxFQUFFLElBRlI7QUFHRkMsSUFBQUEsSUFBSSxFQUFFO0FBSEosR0FEZ0M7QUFNdENDLEVBQUFBLElBQUksRUFBRTtBQUNGSixJQUFBQSxJQUFJLEVBQUVDLE1BREo7QUFFRkMsSUFBQUEsUUFBUSxFQUFFLElBRlI7QUFHRkMsSUFBQUEsSUFBSSxFQUFFO0FBSEosR0FOZ0M7QUFZdENFLEVBQUFBLFdBQVcsRUFBRTtBQUNUTCxJQUFBQSxJQUFJLEVBQUVDLE1BREc7QUFFVEUsSUFBQUEsSUFBSSxFQUFFLElBRkc7QUFHVEcsSUFBQUEsT0FBTyxFQUFFO0FBSEEsR0FaeUI7QUFpQnRDQyxFQUFBQSxZQUFZLEVBQUU7QUFDVlAsSUFBQUEsSUFBSSxFQUFFQyxNQURJO0FBRVZFLElBQUFBLElBQUksRUFBRSxJQUZJO0FBR1ZHLElBQUFBLE9BQU8sRUFBRTtBQUhDLEdBakJ3QjtBQXNCdENFLEVBQUFBLFdBQVcsRUFBRTtBQUNUUixJQUFBQSxJQUFJLEVBQUVDLE1BREc7QUFFVEUsSUFBQUEsSUFBSSxFQUFFLElBRkc7QUFHVEcsSUFBQUEsT0FBTyxFQUFFO0FBSEEsR0F0QnlCO0FBMkJ0Q0csRUFBQUEsV0FBVyxFQUFFO0FBQ1RULElBQUFBLElBQUksRUFBRUgsa0JBQVNDLE1BQVQsQ0FBZ0JZLEtBQWhCLENBQXNCQyxRQURuQjtBQUVUQyxJQUFBQSxHQUFHLEVBQUUsV0FGSTtBQUdUVixJQUFBQSxRQUFRLEVBQUU7QUFIRDtBQTNCeUIsQ0FBcEIsRUFnQ25CO0FBQUVXLEVBQUFBLFVBQVUsRUFBRTtBQUFkLENBaENtQixDQUF0QjtBQWtDQWpCLGFBQWEsQ0FBQ2tCLE1BQWQsQ0FBcUJDLDBCQUFyQjtBQUNBbkIsYUFBYSxDQUFDa0IsTUFBZCxDQUFxQkUsZ0NBQXJCOztBQUVBcEIsYUFBYSxDQUFDcUIsT0FBZCxDQUFzQkMsaUJBQXRCLEdBQTBDLFNBQVNBLGlCQUFULENBQTJCbkIsSUFBM0IsRUFBaUM7QUFDdkUsU0FBTyxLQUFLb0IsT0FBTCxDQUFhO0FBQUVwQixJQUFBQTtBQUFGLEdBQWIsQ0FBUDtBQUNILENBRkQ7O0FBSUFILGFBQWEsQ0FBQ3FCLE9BQWQsQ0FBc0JHLG1CQUF0QixHQUE0QyxTQUFTQSxtQkFBVCxDQUN4Q3JCLElBRHdDLEVBQ2xDVSxXQURrQyxFQUUxQztBQUNFLFNBQU8sS0FBS1UsT0FBTCxDQUFhO0FBQUVwQixJQUFBQSxJQUFGO0FBQVFVLElBQUFBO0FBQVIsR0FBYixDQUFQO0FBQ0gsQ0FKRDs7QUFNQWIsYUFBYSxDQUFDeUIsR0FBZCxDQUFrQixRQUFsQixFQUE0QjtBQUN4QkMsRUFBQUEsT0FBTyxFQUFFLElBRGU7QUFFeEJDLEVBQUFBLFNBQVMsRUFBRSxVQUFVQyxHQUFWLEVBQWVDLEtBQWYsRUFBc0I7QUFDN0JBLElBQUFBLEtBQUssQ0FBQ0MsRUFBTixHQUFXRCxLQUFLLENBQUNFLEdBQWpCO0FBRUFGLElBQUFBLEtBQUssR0FBRyxrQkFBS0EsS0FBTCxFQUFZLENBQUMsS0FBRCxFQUFRLEtBQVIsQ0FBWixDQUFSO0FBRUEsV0FBT0EsS0FBUDtBQUNIO0FBUnVCLENBQTVCOztBQVdBLE1BQU1HLE9BQU8sR0FBRy9CLGtCQUFTZ0MsS0FBVCxDQUFlLFNBQWYsRUFBMEJqQyxhQUExQixDQUFoQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB1bmlxdWVWYWxpZGF0b3IgZnJvbSAnbW9uZ29vc2UtdW5pcXVlLXZhbGlkYXRvcic7XG5pbXBvcnQgbW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiBmcm9tICdtb25nb29zZS1wYWdpbmF0ZS12Mic7XG5pbXBvcnQgeyBvbWl0IH0gZnJvbSAnbG9kYXNoJztcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIGNvZGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIG5hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHJpbTogdHJ1ZSxcblxuICAgIH0sXG4gICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICAgIG1hbnVmYWN0dXJlcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHRyaW06IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICcnLFxuICAgIH0sXG4gICAgbWFjaGluZVBhcnQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICAgIHdhcmVob3VzZUlkOiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiAnV2FyZWhvdXNlJyxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0sXG59LCB7IHRpbWVzdGFtcHM6IHRydWUgfSk7XG5cblByb2R1Y3RTY2hlbWEucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGVQbHVnaW4pO1xuUHJvZHVjdFNjaGVtYS5wbHVnaW4odW5pcXVlVmFsaWRhdG9yKTtcblxuUHJvZHVjdFNjaGVtYS5zdGF0aWNzLmZpbmRCeVByb2R1Y3RDb2RlID0gZnVuY3Rpb24gZmluZEJ5UHJvZHVjdENvZGUoY29kZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmRPbmUoeyBjb2RlIH0pO1xufTtcblxuUHJvZHVjdFNjaGVtYS5zdGF0aWNzLmlzUHJvZHVjdENvZGVFeGlzdHMgPSBmdW5jdGlvbiBpc1Byb2R1Y3RDb2RlRXhpc3RzKFxuICAgIGNvZGUsIHdhcmVob3VzZUlkLFxuKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGNvZGUsIHdhcmVob3VzZUlkIH0pO1xufTtcblxuUHJvZHVjdFNjaGVtYS5zZXQoJ3RvSlNPTicsIHtcbiAgICB2aXJ0dWFsOiB0cnVlLFxuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gKGRvYywgcHJvcHMpIHtcbiAgICAgICAgcHJvcHMuaWQgPSBwcm9wcy5faWQ7XG5cbiAgICAgICAgcHJvcHMgPSBvbWl0KHByb3BzLCBbJ19pZCcsICdfX3YnXSk7XG5cbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH0sXG59KTtcblxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKCdQcm9kdWN0JywgUHJvZHVjdFNjaGVtYSk7XG5cbmV4cG9ydCB7XG4gICAgUHJvZHVjdCxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "product.model.js"
      ],
      "names": [
        "ProductSchema",
        "mongoose",
        "Schema",
        "code",
        "type",
        "String",
        "required",
        "trim",
        "name",
        "description",
        "default",
        "manufacturer",
        "machinePart",
        "warehouseId",
        "Types",
        "ObjectId",
        "ref",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "uniqueValidator",
        "statics",
        "findByProductCode",
        "findOne",
        "isProductCodeExists",
        "set",
        "virtual",
        "transform",
        "doc",
        "props",
        "id",
        "_id",
        "Product",
        "model"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,IAAI,EAAE;AAHJ,GADgC;AAMtCC,EAAAA,IAAI,EAAE;AACFJ,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,IAAI,EAAE;AAHJ,GANgC;AAYtCE,EAAAA,WAAW,EAAE;AACTL,IAAAA,IAAI,EAAEC,MADG;AAETE,IAAAA,IAAI,EAAE,IAFG;AAGTG,IAAAA,OAAO,EAAE;AAHA,GAZyB;AAiBtCC,EAAAA,YAAY,EAAE;AACVP,IAAAA,IAAI,EAAEC,MADI;AAEVE,IAAAA,IAAI,EAAE,IAFI;AAGVG,IAAAA,OAAO,EAAE;AAHC,GAjBwB;AAsBtCE,EAAAA,WAAW,EAAE;AACTR,IAAAA,IAAI,EAAEC,MADG;AAETE,IAAAA,IAAI,EAAE,IAFG;AAGTG,IAAAA,OAAO,EAAE;AAHA,GAtByB;AA2BtCG,EAAAA,WAAW,EAAE;AACTT,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBY,KAAhB,CAAsBC,QADnB;AAETC,IAAAA,GAAG,EAAE,WAFI;AAGTV,IAAAA,QAAQ,EAAE;AAHD;AA3ByB,CAApB,EAgCnB;AAAEW,EAAAA,UAAU,EAAE;AAAd,CAhCmB,CAAtB;AAkCAjB,aAAa,CAACkB,MAAd,CAAqBC,0BAArB;AACAnB,aAAa,CAACkB,MAAd,CAAqBE,gCAArB;;AAEApB,aAAa,CAACqB,OAAd,CAAsBC,iBAAtB,GAA0C,SAASA,iBAAT,CAA2BnB,IAA3B,EAAiC;AACvE,SAAO,KAAKoB,OAAL,CAAa;AAAEpB,IAAAA;AAAF,GAAb,CAAP;AACH,CAFD;;AAIAH,aAAa,CAACqB,OAAd,CAAsBG,mBAAtB,GAA4C,SAASA,mBAAT,CACxCrB,IADwC,EAClCU,WADkC,EAE1C;AACE,SAAO,KAAKU,OAAL,CAAa;AAAEpB,IAAAA,IAAF;AAAQU,IAAAA;AAAR,GAAb,CAAP;AACH,CAJD;;AAMAb,aAAa,CAACyB,GAAd,CAAkB,QAAlB,EAA4B;AACxBC,EAAAA,OAAO,EAAE,IADe;AAExBC,EAAAA,SAAS,EAAE,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC7BA,IAAAA,KAAK,CAACC,EAAN,GAAWD,KAAK,CAACE,GAAjB;AAEAF,IAAAA,KAAK,GAAG,kBAAKA,KAAL,EAAY,CAAC,KAAD,EAAQ,KAAR,CAAZ,CAAR;AAEA,WAAOA,KAAP;AACH;AARuB,CAA5B;;AAWA,MAAMG,OAAO,GAAG/B,kBAASgC,KAAT,CAAe,SAAf,EAA0BjC,aAA1B,CAAhB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\nimport uniqueValidator from 'mongoose-unique-validator';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\nimport { omit } from 'lodash';\n\nconst ProductSchema = new mongoose.Schema({\n    code: {\n        type: String,\n        required: true,\n        trim: true,\n    },\n    name: {\n        type: String,\n        required: true,\n        trim: true,\n\n    },\n    description: {\n        type: String,\n        trim: true,\n        default: '',\n    },\n    manufacturer: {\n        type: String,\n        trim: true,\n        default: '',\n    },\n    machinePart: {\n        type: String,\n        trim: true,\n        default: '',\n    },\n    warehouseId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Warehouse',\n        required: false,\n    },\n}, { timestamps: true });\n\nProductSchema.plugin(mongoosePaginatePlugin);\nProductSchema.plugin(uniqueValidator);\n\nProductSchema.statics.findByProductCode = function findByProductCode(code) {\n    return this.findOne({ code });\n};\n\nProductSchema.statics.isProductCodeExists = function isProductCodeExists(\n    code, warehouseId,\n) {\n    return this.findOne({ code, warehouseId });\n};\n\nProductSchema.set('toJSON', {\n    virtual: true,\n    transform: function (doc, props) {\n        props.id = props._id;\n\n        props = omit(props, ['_id', '__v']);\n\n        return props;\n    },\n});\n\nconst Product = mongoose.model('Product', ProductSchema);\n\nexport {\n    Product,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models/purchase-order.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/purchase-order.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/purchase-order.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/purchase-order.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
        "sourceFileName": "purchase-order.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PurchaseOrder = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst PurchaseOrderSchema = new _mongoose.default.Schema({\n  areas: String,\n  location: String,\n  subtotal: {\n    type: Number,\n    default: 0,\n    min: 0\n  },\n  managerDepartment: String,\n  products: [{\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product'\n    },\n    price: {\n      type: Number,\n      min: 0,\n      default: 0,\n      required: true\n    },\n    quantity: {\n      type: Number,\n      min: 0,\n      default: 0,\n      required: true\n    },\n    productType: {\n      type: String,\n      enum: (0, _lodash.values)(_enums.PRODUCT_TYPES),\n      required: true,\n      default: _enums.PRODUCT_TYPES.NEW\n    },\n    amount: {\n      type: Number,\n      min: 0,\n      default: 0\n    }\n  }],\n  inputDate: {\n    type: Date\n    /*required: true,*/\n\n    /*default: new Date(),*/\n\n  },\n  outputDate: {\n    type: Date\n    /*required: false,*/\n\n  },\n  orderType: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.PURCHASE_ORDER_TYPES),\n    required: true\n  },\n  status: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.PURCHASE_ORDER_STATUS),\n    required: true,\n    default: _enums.PURCHASE_ORDER_STATUS.PENDING\n  },\n  warehouseId: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Warehouse',\n    required: true\n  },\n  createdBy: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    default: null\n  },\n  updatedBy: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    default: null\n  }\n}, {\n  timestamps: true\n});\nPurchaseOrderSchema.plugin(_mongoosePaginateV.default);\nPurchaseOrderSchema.set('toJSON', {\n  transform: function (doc, props) {\n    props.id = props._id;\n    props.products = props.products.map(product => {\n      product.id = product._id;\n      product = (0, _lodash.omit)(product, ['_id']);\n      return product;\n    });\n    props = (0, _lodash.omit)(props, ['_id', '__v']);\n    return props;\n  }\n});\nPurchaseOrderSchema.pre('find', function () {\n  this.populate('products.product');\n});\nPurchaseOrderSchema.pre('save', function (next) {\n  this.products = this.products.map(product => {\n    product.price = parseInt(product.price, 10);\n    product.quantity = parseInt(product.quantity, 10);\n    product.amount = product.price * product.quantity;\n    return product;\n  });\n  this.subtotal = (0, _lodash.sumBy)(this.products, 'amount');\n  next();\n});\nPurchaseOrderSchema.post('save', async function (document, next) {\n  await document.populate('products.product').execPopulate();\n  next();\n});\n\nconst PurchaseOrder = _mongoose.default.model('PurchaseOrder', PurchaseOrderSchema);\n\nexports.PurchaseOrder = PurchaseOrder;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIlB1cmNoYXNlT3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImFyZWFzIiwiU3RyaW5nIiwibG9jYXRpb24iLCJzdWJ0b3RhbCIsInR5cGUiLCJOdW1iZXIiLCJkZWZhdWx0IiwibWluIiwibWFuYWdlckRlcGFydG1lbnQiLCJwcm9kdWN0cyIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicHJpY2UiLCJyZXF1aXJlZCIsInF1YW50aXR5IiwicHJvZHVjdFR5cGUiLCJlbnVtIiwiUFJPRFVDVF9UWVBFUyIsIk5FVyIsImFtb3VudCIsImlucHV0RGF0ZSIsIkRhdGUiLCJvdXRwdXREYXRlIiwib3JkZXJUeXBlIiwiUFVSQ0hBU0VfT1JERVJfVFlQRVMiLCJzdGF0dXMiLCJQVVJDSEFTRV9PUkRFUl9TVEFUVVMiLCJQRU5ESU5HIiwid2FyZWhvdXNlSWQiLCJjcmVhdGVkQnkiLCJ1cGRhdGVkQnkiLCJ0aW1lc3RhbXBzIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiIsInNldCIsInRyYW5zZm9ybSIsImRvYyIsInByb3BzIiwiaWQiLCJfaWQiLCJtYXAiLCJwcmUiLCJwb3B1bGF0ZSIsIm5leHQiLCJwYXJzZUludCIsInBvc3QiLCJkb2N1bWVudCIsImV4ZWNQb3B1bGF0ZSIsIlB1cmNoYXNlT3JkZXIiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBTUEsTUFBTUEsbUJBQW1CLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDNUNDLEVBQUFBLEtBQUssRUFBRUMsTUFEcUM7QUFFNUNDLEVBQUFBLFFBQVEsRUFBRUQsTUFGa0M7QUFHNUNFLEVBQUFBLFFBQVEsRUFBRTtBQUNOQyxJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTkMsSUFBQUEsT0FBTyxFQUFFLENBRkg7QUFHTkMsSUFBQUEsR0FBRyxFQUFFO0FBSEMsR0FIa0M7QUFRNUNDLEVBQUFBLGlCQUFpQixFQUFFUCxNQVJ5QjtBQVM1Q1EsRUFBQUEsUUFBUSxFQUFFLENBQUM7QUFDUEMsSUFBQUEsT0FBTyxFQUFFO0FBQ0xOLE1BQUFBLElBQUksRUFBRU4sa0JBQVNDLE1BQVQsQ0FBZ0JZLEtBQWhCLENBQXNCQyxRQUR2QjtBQUVMQyxNQUFBQSxHQUFHLEVBQUU7QUFGQSxLQURGO0FBS1BDLElBQUFBLEtBQUssRUFBRTtBQUNIVixNQUFBQSxJQUFJLEVBQUVDLE1BREg7QUFFSEUsTUFBQUEsR0FBRyxFQUFFLENBRkY7QUFHSEQsTUFBQUEsT0FBTyxFQUFFLENBSE47QUFJSFMsTUFBQUEsUUFBUSxFQUFFO0FBSlAsS0FMQTtBQVdQQyxJQUFBQSxRQUFRLEVBQUU7QUFDTlosTUFBQUEsSUFBSSxFQUFFQyxNQURBO0FBRU5FLE1BQUFBLEdBQUcsRUFBRSxDQUZDO0FBR05ELE1BQUFBLE9BQU8sRUFBRSxDQUhIO0FBSU5TLE1BQUFBLFFBQVEsRUFBRTtBQUpKLEtBWEg7QUFpQlBFLElBQUFBLFdBQVcsRUFBRTtBQUNUYixNQUFBQSxJQUFJLEVBQUVILE1BREc7QUFFVGlCLE1BQUFBLElBQUksRUFBRSxvQkFBT0Msb0JBQVAsQ0FGRztBQUdUSixNQUFBQSxRQUFRLEVBQUUsSUFIRDtBQUlUVCxNQUFBQSxPQUFPLEVBQUVhLHFCQUFjQztBQUpkLEtBakJOO0FBdUJQQyxJQUFBQSxNQUFNLEVBQUU7QUFDSmpCLE1BQUFBLElBQUksRUFBRUMsTUFERjtBQUVKRSxNQUFBQSxHQUFHLEVBQUUsQ0FGRDtBQUdKRCxNQUFBQSxPQUFPLEVBQUU7QUFITDtBQXZCRCxHQUFELENBVGtDO0FBc0M1Q2dCLEVBQUFBLFNBQVMsRUFBRTtBQUNQbEIsSUFBQUEsSUFBSSxFQUFFbUI7QUFDTjs7QUFDQTs7QUFITyxHQXRDaUM7QUEyQzVDQyxFQUFBQSxVQUFVLEVBQUU7QUFDUnBCLElBQUFBLElBQUksRUFBRW1CO0FBQ047O0FBRlEsR0EzQ2dDO0FBK0M1Q0UsRUFBQUEsU0FBUyxFQUFFO0FBQ1ByQixJQUFBQSxJQUFJLEVBQUVILE1BREM7QUFFUGlCLElBQUFBLElBQUksRUFBRSxvQkFBT1EsMkJBQVAsQ0FGQztBQUdQWCxJQUFBQSxRQUFRLEVBQUU7QUFISCxHQS9DaUM7QUFvRDVDWSxFQUFBQSxNQUFNLEVBQUU7QUFDSnZCLElBQUFBLElBQUksRUFBRUgsTUFERjtBQUVKaUIsSUFBQUEsSUFBSSxFQUFFLG9CQUFPVSw0QkFBUCxDQUZGO0FBR0piLElBQUFBLFFBQVEsRUFBRSxJQUhOO0FBSUpULElBQUFBLE9BQU8sRUFBRXNCLDZCQUFzQkM7QUFKM0IsR0FwRG9DO0FBMEQ1Q0MsRUFBQUEsV0FBVyxFQUFFO0FBQ1QxQixJQUFBQSxJQUFJLEVBQUVOLGtCQUFTQyxNQUFULENBQWdCWSxLQUFoQixDQUFzQkMsUUFEbkI7QUFFVEMsSUFBQUEsR0FBRyxFQUFFLFdBRkk7QUFHVEUsSUFBQUEsUUFBUSxFQUFFO0FBSEQsR0ExRCtCO0FBK0Q1Q2dCLEVBQUFBLFNBQVMsRUFBRTtBQUNQM0IsSUFBQUEsSUFBSSxFQUFFTixrQkFBU0MsTUFBVCxDQUFnQlksS0FBaEIsQ0FBc0JDLFFBRHJCO0FBRVBDLElBQUFBLEdBQUcsRUFBRSxNQUZFO0FBR1BQLElBQUFBLE9BQU8sRUFBRTtBQUhGLEdBL0RpQztBQW9FNUMwQixFQUFBQSxTQUFTLEVBQUU7QUFDUDVCLElBQUFBLElBQUksRUFBRU4sa0JBQVNDLE1BQVQsQ0FBZ0JZLEtBQWhCLENBQXNCQyxRQURyQjtBQUVQQyxJQUFBQSxHQUFHLEVBQUUsTUFGRTtBQUdQUCxJQUFBQSxPQUFPLEVBQUU7QUFIRjtBQXBFaUMsQ0FBcEIsRUF5RXpCO0FBQ0MyQixFQUFBQSxVQUFVLEVBQUU7QUFEYixDQXpFeUIsQ0FBNUI7QUE2RUFwQyxtQkFBbUIsQ0FBQ3FDLE1BQXBCLENBQTJCQywwQkFBM0I7QUFFQXRDLG1CQUFtQixDQUFDdUMsR0FBcEIsQ0FBd0IsUUFBeEIsRUFBa0M7QUFDOUJDLEVBQUFBLFNBQVMsRUFBRSxVQUFVQyxHQUFWLEVBQWVDLEtBQWYsRUFBc0I7QUFFN0JBLElBQUFBLEtBQUssQ0FBQ0MsRUFBTixHQUFXRCxLQUFLLENBQUNFLEdBQWpCO0FBRUFGLElBQUFBLEtBQUssQ0FBQzlCLFFBQU4sR0FBaUI4QixLQUFLLENBQUM5QixRQUFOLENBQWVpQyxHQUFmLENBQW1CaEMsT0FBTyxJQUFJO0FBQzNDQSxNQUFBQSxPQUFPLENBQUM4QixFQUFSLEdBQWE5QixPQUFPLENBQUMrQixHQUFyQjtBQUNBL0IsTUFBQUEsT0FBTyxHQUFHLGtCQUFLQSxPQUFMLEVBQWMsQ0FBQyxLQUFELENBQWQsQ0FBVjtBQUVBLGFBQU9BLE9BQVA7QUFDSCxLQUxnQixDQUFqQjtBQU9BNkIsSUFBQUEsS0FBSyxHQUFHLGtCQUFLQSxLQUFMLEVBQVksQ0FBQyxLQUFELEVBQVEsS0FBUixDQUFaLENBQVI7QUFFQSxXQUFPQSxLQUFQO0FBQ0g7QUFmNkIsQ0FBbEM7QUFrQkExQyxtQkFBbUIsQ0FBQzhDLEdBQXBCLENBQXdCLE1BQXhCLEVBQWdDLFlBQVk7QUFDeEMsT0FBS0MsUUFBTCxDQUFjLGtCQUFkO0FBQ0gsQ0FGRDtBQUlBL0MsbUJBQW1CLENBQUM4QyxHQUFwQixDQUF3QixNQUF4QixFQUFnQyxVQUFVRSxJQUFWLEVBQWdCO0FBQzVDLE9BQUtwQyxRQUFMLEdBQWdCLEtBQUtBLFFBQUwsQ0FBY2lDLEdBQWQsQ0FBa0JoQyxPQUFPLElBQUk7QUFDekNBLElBQUFBLE9BQU8sQ0FBQ0ksS0FBUixHQUFnQmdDLFFBQVEsQ0FBQ3BDLE9BQU8sQ0FBQ0ksS0FBVCxFQUFnQixFQUFoQixDQUF4QjtBQUNBSixJQUFBQSxPQUFPLENBQUNNLFFBQVIsR0FBbUI4QixRQUFRLENBQUNwQyxPQUFPLENBQUNNLFFBQVQsRUFBbUIsRUFBbkIsQ0FBM0I7QUFDQU4sSUFBQUEsT0FBTyxDQUFDVyxNQUFSLEdBQWlCWCxPQUFPLENBQUNJLEtBQVIsR0FBZ0JKLE9BQU8sQ0FBQ00sUUFBekM7QUFFQSxXQUFPTixPQUFQO0FBQ0gsR0FOZSxDQUFoQjtBQVFBLE9BQUtQLFFBQUwsR0FBZ0IsbUJBQU0sS0FBS00sUUFBWCxFQUFxQixRQUFyQixDQUFoQjtBQUVBb0MsRUFBQUEsSUFBSTtBQUNQLENBWkQ7QUFjQWhELG1CQUFtQixDQUFDa0QsSUFBcEIsQ0FBeUIsTUFBekIsRUFBaUMsZ0JBQWdCQyxRQUFoQixFQUEwQkgsSUFBMUIsRUFBZ0M7QUFDN0QsUUFBTUcsUUFBUSxDQUFDSixRQUFULENBQWtCLGtCQUFsQixFQUFzQ0ssWUFBdEMsRUFBTjtBQUVBSixFQUFBQSxJQUFJO0FBQ1AsQ0FKRDs7QUFNQSxNQUFNSyxhQUFhLEdBQUdwRCxrQkFBU3FELEtBQVQsQ0FBZSxlQUFmLEVBQWdDdEQsbUJBQWhDLENBQXRCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlUGx1Z2luIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlLXYyJztcbmltcG9ydCB7IHZhbHVlcywgb21pdCwgc3VtQnkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtcbiAgICBQUk9EVUNUX1RZUEVTLFxuICAgIFBVUkNIQVNFX09SREVSX1NUQVRVUyxcbiAgICBQVVJDSEFTRV9PUkRFUl9UWVBFUyxcbn0gZnJvbSAnLi4vZW51bXMnO1xuXG5jb25zdCBQdXJjaGFzZU9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgYXJlYXM6IFN0cmluZyxcbiAgICBsb2NhdGlvbjogU3RyaW5nLFxuICAgIHN1YnRvdGFsOiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgZGVmYXVsdDogMCxcbiAgICAgICAgbWluOiAwLFxuICAgIH0sXG4gICAgbWFuYWdlckRlcGFydG1lbnQ6IFN0cmluZyxcbiAgICBwcm9kdWN0czogW3tcbiAgICAgICAgcHJvZHVjdDoge1xuICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICAgICAgcmVmOiAnUHJvZHVjdCcsXG4gICAgICAgIH0sXG4gICAgICAgIHByaWNlOiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBkZWZhdWx0OiAwLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHF1YW50aXR5OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBkZWZhdWx0OiAwLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHByb2R1Y3RUeXBlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBlbnVtOiB2YWx1ZXMoUFJPRFVDVF9UWVBFUyksXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFBST0RVQ1RfVFlQRVMuTkVXLFxuICAgICAgICB9LFxuICAgICAgICBhbW91bnQ6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICAgIH0sXG4gICAgfV0sXG4gICAgaW5wdXREYXRlOiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIC8qcmVxdWlyZWQ6IHRydWUsKi9cbiAgICAgICAgLypkZWZhdWx0OiBuZXcgRGF0ZSgpLCovXG4gICAgfSxcbiAgICBvdXRwdXREYXRlOiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIC8qcmVxdWlyZWQ6IGZhbHNlLCovXG4gICAgfSxcbiAgICBvcmRlclR5cGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBlbnVtOiB2YWx1ZXMoUFVSQ0hBU0VfT1JERVJfVFlQRVMpLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGVudW06IHZhbHVlcyhQVVJDSEFTRV9PUkRFUl9TVEFUVVMpLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogUFVSQ0hBU0VfT1JERVJfU1RBVFVTLlBFTkRJTkcsXG4gICAgfSxcbiAgICB3YXJlaG91c2VJZDoge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1dhcmVob3VzZScsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlZEJ5OiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiAnVXNlcicsXG4gICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcbiAgICB1cGRhdGVkQnk6IHtcbiAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdVc2VyJyxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxufSwge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG59KTtcblxuUHVyY2hhc2VPcmRlclNjaGVtYS5wbHVnaW4obW9uZ29vc2VQYWdpbmF0ZVBsdWdpbik7XG5cblB1cmNoYXNlT3JkZXJTY2hlbWEuc2V0KCd0b0pTT04nLCB7XG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAoZG9jLCBwcm9wcykge1xuXG4gICAgICAgIHByb3BzLmlkID0gcHJvcHMuX2lkO1xuXG4gICAgICAgIHByb3BzLnByb2R1Y3RzID0gcHJvcHMucHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgICAgICAgICAgcHJvZHVjdC5pZCA9IHByb2R1Y3QuX2lkO1xuICAgICAgICAgICAgcHJvZHVjdCA9IG9taXQocHJvZHVjdCwgWydfaWQnXSk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0O1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9wcyA9IG9taXQocHJvcHMsIFsnX2lkJywgJ19fdiddKTtcblxuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgfSxcbn0pO1xuXG5QdXJjaGFzZU9yZGVyU2NoZW1hLnByZSgnZmluZCcsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBvcHVsYXRlKCdwcm9kdWN0cy5wcm9kdWN0Jyk7XG59KTtcblxuUHVyY2hhc2VPcmRlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICAgIHRoaXMucHJvZHVjdHMgPSB0aGlzLnByb2R1Y3RzLm1hcChwcm9kdWN0ID0+IHtcbiAgICAgICAgcHJvZHVjdC5wcmljZSA9IHBhcnNlSW50KHByb2R1Y3QucHJpY2UsIDEwKTtcbiAgICAgICAgcHJvZHVjdC5xdWFudGl0eSA9IHBhcnNlSW50KHByb2R1Y3QucXVhbnRpdHksIDEwKTtcbiAgICAgICAgcHJvZHVjdC5hbW91bnQgPSBwcm9kdWN0LnByaWNlICogcHJvZHVjdC5xdWFudGl0eTtcblxuICAgICAgICByZXR1cm4gcHJvZHVjdDtcbiAgICB9KTtcblxuICAgIHRoaXMuc3VidG90YWwgPSBzdW1CeSh0aGlzLnByb2R1Y3RzLCAnYW1vdW50Jyk7XG5cbiAgICBuZXh0KCk7XG59KTtcblxuUHVyY2hhc2VPcmRlclNjaGVtYS5wb3N0KCdzYXZlJywgYXN5bmMgZnVuY3Rpb24gKGRvY3VtZW50LCBuZXh0KSB7XG4gICAgYXdhaXQgZG9jdW1lbnQucG9wdWxhdGUoJ3Byb2R1Y3RzLnByb2R1Y3QnKS5leGVjUG9wdWxhdGUoKTtcblxuICAgIG5leHQoKTtcbn0pO1xuXG5jb25zdCBQdXJjaGFzZU9yZGVyID0gbW9uZ29vc2UubW9kZWwoJ1B1cmNoYXNlT3JkZXInLCBQdXJjaGFzZU9yZGVyU2NoZW1hKTtcblxuZXhwb3J0IHtcbiAgICBQdXJjaGFzZU9yZGVyLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order.model.js"
      ],
      "names": [
        "PurchaseOrderSchema",
        "mongoose",
        "Schema",
        "areas",
        "String",
        "location",
        "subtotal",
        "type",
        "Number",
        "default",
        "min",
        "managerDepartment",
        "products",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "price",
        "required",
        "quantity",
        "productType",
        "enum",
        "PRODUCT_TYPES",
        "NEW",
        "amount",
        "inputDate",
        "Date",
        "outputDate",
        "orderType",
        "PURCHASE_ORDER_TYPES",
        "status",
        "PURCHASE_ORDER_STATUS",
        "PENDING",
        "warehouseId",
        "createdBy",
        "updatedBy",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "set",
        "transform",
        "doc",
        "props",
        "id",
        "_id",
        "map",
        "pre",
        "populate",
        "next",
        "parseInt",
        "post",
        "document",
        "execPopulate",
        "PurchaseOrder",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\nimport { values, omit, sumBy } from 'lodash';\nimport {\n    PRODUCT_TYPES,\n    PURCHASE_ORDER_STATUS,\n    PURCHASE_ORDER_TYPES,\n} from '../enums';\n\nconst PurchaseOrderSchema = new mongoose.Schema({\n    areas: String,\n    location: String,\n    subtotal: {\n        type: Number,\n        default: 0,\n        min: 0,\n    },\n    managerDepartment: String,\n    products: [{\n        product: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: 'Product',\n        },\n        price: {\n            type: Number,\n            min: 0,\n            default: 0,\n            required: true,\n        },\n        quantity: {\n            type: Number,\n            min: 0,\n            default: 0,\n            required: true,\n        },\n        productType: {\n            type: String,\n            enum: values(PRODUCT_TYPES),\n            required: true,\n            default: PRODUCT_TYPES.NEW,\n        },\n        amount: {\n            type: Number,\n            min: 0,\n            default: 0,\n        },\n    }],\n    inputDate: {\n        type: Date,\n        /*required: true,*/\n        /*default: new Date(),*/\n    },\n    outputDate: {\n        type: Date,\n        /*required: false,*/\n    },\n    orderType: {\n        type: String,\n        enum: values(PURCHASE_ORDER_TYPES),\n        required: true,\n    },\n    status: {\n        type: String,\n        enum: values(PURCHASE_ORDER_STATUS),\n        required: true,\n        default: PURCHASE_ORDER_STATUS.PENDING,\n    },\n    warehouseId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Warehouse',\n        required: true,\n    },\n    createdBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User',\n        default: null,\n    },\n    updatedBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User',\n        default: null,\n    },\n}, {\n    timestamps: true,\n});\n\nPurchaseOrderSchema.plugin(mongoosePaginatePlugin);\n\nPurchaseOrderSchema.set('toJSON', {\n    transform: function (doc, props) {\n\n        props.id = props._id;\n\n        props.products = props.products.map(product => {\n            product.id = product._id;\n            product = omit(product, ['_id']);\n\n            return product;\n        });\n\n        props = omit(props, ['_id', '__v']);\n\n        return props;\n    },\n});\n\nPurchaseOrderSchema.pre('find', function () {\n    this.populate('products.product');\n});\n\nPurchaseOrderSchema.pre('save', function (next) {\n    this.products = this.products.map(product => {\n        product.price = parseInt(product.price, 10);\n        product.quantity = parseInt(product.quantity, 10);\n        product.amount = product.price * product.quantity;\n\n        return product;\n    });\n\n    this.subtotal = sumBy(this.products, 'amount');\n\n    next();\n});\n\nPurchaseOrderSchema.post('save', async function (document, next) {\n    await document.populate('products.product').execPopulate();\n\n    next();\n});\n\nconst PurchaseOrder = mongoose.model('PurchaseOrder', PurchaseOrderSchema);\n\nexport {\n    PurchaseOrder,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  PURCHASE_ORDER_STATUS: true\n};\nObject.defineProperty(exports, \"PURCHASE_ORDER_STATUS\", {\n  enumerable: true,\n  get: function () {\n    return _purchaseOrderStatus.PURCHASE_ORDER_STATUS;\n  }\n});\n\nvar _gender = require(\"./gender.enum\");\n\nObject.keys(_gender).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _gender[key];\n    }\n  });\n});\n\nvar _role = require(\"./role.enum\");\n\nObject.keys(_role).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _role[key];\n    }\n  });\n});\n\nvar _errorCodes = require(\"./error-codes.enum\");\n\nObject.keys(_errorCodes).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _errorCodes[key];\n    }\n  });\n});\n\nvar _validateErrorCode = require(\"./validate-error-code.enum\");\n\nObject.keys(_validateErrorCode).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _validateErrorCode[key];\n    }\n  });\n});\n\nvar _paginate = require(\"./paginate.enum\");\n\nObject.keys(_paginate).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _paginate[key];\n    }\n  });\n});\n\nvar _productTypes = require(\"./product-types.enum\");\n\nObject.keys(_productTypes).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _productTypes[key];\n    }\n  });\n});\n\nvar _purchaseOrderTypes = require(\"./purchase-order-types.enum\");\n\nObject.keys(_purchaseOrderTypes).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _purchaseOrderTypes[key];\n    }\n  });\n});\n\nvar _purchaseOrderStatus = require(\"./purchase-order-status.enum\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2dlbmRlci5lbnVtJztcbmV4cG9ydCAqIGZyb20gJy4vcm9sZS5lbnVtJztcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3ItY29kZXMuZW51bSc7XG5leHBvcnQgKiBmcm9tICcuL3ZhbGlkYXRlLWVycm9yLWNvZGUuZW51bSc7XG5leHBvcnQgKiBmcm9tICcuL3BhZ2luYXRlLmVudW0nO1xuZXhwb3J0ICogZnJvbSAnLi9wcm9kdWN0LXR5cGVzLmVudW0nO1xuZXhwb3J0ICogZnJvbSAnLi9wdXJjaGFzZS1vcmRlci10eXBlcy5lbnVtJztcbmV4cG9ydCB7IFBVUkNIQVNFX09SREVSX1NUQVRVUyB9IGZyb20gJy4vcHVyY2hhc2Utb3JkZXItc3RhdHVzLmVudW0nO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export * from './gender.enum';\nexport * from './role.enum';\nexport * from './error-codes.enum';\nexport * from './validate-error-code.enum';\nexport * from './paginate.enum';\nexport * from './product-types.enum';\nexport * from './purchase-order-types.enum';\nexport { PURCHASE_ORDER_STATUS } from './purchase-order-status.enum';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/gender.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/gender.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/gender.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/gender.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "gender.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GENDER = void 0;\nconst GENDER = {\n  MALE: 'MALE',\n  FEMALE: 'FEMALE',\n  OTHER: 'OTHER'\n};\nexports.GENDER = GENDER;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmRlci5lbnVtLmpzIl0sIm5hbWVzIjpbIkdFTkRFUiIsIk1BTEUiLCJGRU1BTEUiLCJPVEhFUiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsTUFBTSxHQUFHO0FBQ2xCQyxFQUFBQSxJQUFJLEVBQUUsTUFEWTtBQUVsQkMsRUFBQUEsTUFBTSxFQUFFLFFBRlU7QUFHbEJDLEVBQUFBLEtBQUssRUFBRTtBQUhXLENBQWYiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYy9lbnVtcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBHRU5ERVIgPSB7XG4gICAgTUFMRTogJ01BTEUnLFxuICAgIEZFTUFMRTogJ0ZFTUFMRScsXG4gICAgT1RIRVI6ICdPVEhFUicsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "gender.enum.js"
      ],
      "names": [
        "GENDER",
        "MALE",
        "FEMALE",
        "OTHER"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,MAAM,GAAG;AAClBC,EAAAA,IAAI,EAAE,MADY;AAElBC,EAAAA,MAAM,EAAE,QAFU;AAGlBC,EAAAA,KAAK,EAAE;AAHW,CAAf",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export const GENDER = {\n    MALE: 'MALE',\n    FEMALE: 'FEMALE',\n    OTHER: 'OTHER',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/role.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/role.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/role.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/role.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "role.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ROLE = void 0;\nconst ROLE = {\n  ADMIN: 'admin',\n  MANAGER: 'manager',\n  STOCKER: 'stocker',\n  USER: 'user'\n};\nexports.ROLE = ROLE;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuZW51bS5qcyJdLCJuYW1lcyI6WyJST0xFIiwiQURNSU4iLCJNQU5BR0VSIiwiU1RPQ0tFUiIsIlVTRVIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLElBQUksR0FBRztBQUNoQkMsRUFBQUEsS0FBSyxFQUFFLE9BRFM7QUFFaEJDLEVBQUFBLE9BQU8sRUFBRSxTQUZPO0FBR2hCQyxFQUFBQSxPQUFPLEVBQUUsU0FITztBQUloQkMsRUFBQUEsSUFBSSxFQUFFO0FBSlUsQ0FBYiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL2VudW1zIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFJPTEUgPSB7XG4gICAgQURNSU46ICdhZG1pbicsXG4gICAgTUFOQUdFUjogJ21hbmFnZXInLFxuICAgIFNUT0NLRVI6ICdzdG9ja2VyJyxcbiAgICBVU0VSOiAndXNlcicsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "role.enum.js"
      ],
      "names": [
        "ROLE",
        "ADMIN",
        "MANAGER",
        "STOCKER",
        "USER"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,IAAI,GAAG;AAChBC,EAAAA,KAAK,EAAE,OADS;AAEhBC,EAAAA,OAAO,EAAE,SAFO;AAGhBC,EAAAA,OAAO,EAAE,SAHO;AAIhBC,EAAAA,IAAI,EAAE;AAJU,CAAb",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export const ROLE = {\n    ADMIN: 'admin',\n    MANAGER: 'manager',\n    STOCKER: 'stocker',\n    USER: 'user',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/error-codes.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/error-codes.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/error-codes.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/error-codes.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "error-codes.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ERROR_CODES = void 0;\nconst ERROR_CODES = {\n  FORMAT_NOT_SUPPORTED: 'FORMAT_NOT_SUPPORTED'\n};\nexports.ERROR_CODES = ERROR_CODES;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLWNvZGVzLmVudW0uanMiXSwibmFtZXMiOlsiRVJST1JfQ09ERVMiLCJGT1JNQVRfTk9UX1NVUFBPUlRFRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsV0FBVyxHQUFHO0FBQ3ZCQyxFQUFBQSxvQkFBb0IsRUFBRTtBQURDLENBQXBCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRVJST1JfQ09ERVMgPSB7XG4gICAgRk9STUFUX05PVF9TVVBQT1JURUQ6ICdGT1JNQVRfTk9UX1NVUFBPUlRFRCcsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "error-codes.enum.js"
      ],
      "names": [
        "ERROR_CODES",
        "FORMAT_NOT_SUPPORTED"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,WAAW,GAAG;AACvBC,EAAAA,oBAAoB,EAAE;AADC,CAApB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export const ERROR_CODES = {\n    FORMAT_NOT_SUPPORTED: 'FORMAT_NOT_SUPPORTED',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/validate-error-code.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/validate-error-code.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/validate-error-code.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/validate-error-code.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "validate-error-code.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VALIDATE_ERROR_CODE = void 0;\nconst VALIDATE_ERROR_CODE = {\n  REQUIRED: 'required',\n  UNIQUE: 'unique',\n  EMAIL: 'email',\n  DATE: 'date',\n  DATE_FORMAT: 'date_format'\n};\nexports.VALIDATE_ERROR_CODE = VALIDATE_ERROR_CODE;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlLWVycm9yLWNvZGUuZW51bS5qcyJdLCJuYW1lcyI6WyJWQUxJREFURV9FUlJPUl9DT0RFIiwiUkVRVUlSRUQiLCJVTklRVUUiLCJFTUFJTCIsIkRBVEUiLCJEQVRFX0ZPUk1BVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsbUJBQW1CLEdBQUc7QUFDL0JDLEVBQUFBLFFBQVEsRUFBRSxVQURxQjtBQUUvQkMsRUFBQUEsTUFBTSxFQUFFLFFBRnVCO0FBRy9CQyxFQUFBQSxLQUFLLEVBQUUsT0FId0I7QUFJL0JDLEVBQUFBLElBQUksRUFBRSxNQUp5QjtBQUsvQkMsRUFBQUEsV0FBVyxFQUFFO0FBTGtCLENBQTVCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVkFMSURBVEVfRVJST1JfQ09ERSA9IHtcbiAgICBSRVFVSVJFRDogJ3JlcXVpcmVkJyxcbiAgICBVTklRVUU6ICd1bmlxdWUnLFxuICAgIEVNQUlMOiAnZW1haWwnLFxuICAgIERBVEU6ICdkYXRlJyxcbiAgICBEQVRFX0ZPUk1BVDogJ2RhdGVfZm9ybWF0Jyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "validate-error-code.enum.js"
      ],
      "names": [
        "VALIDATE_ERROR_CODE",
        "REQUIRED",
        "UNIQUE",
        "EMAIL",
        "DATE",
        "DATE_FORMAT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,mBAAmB,GAAG;AAC/BC,EAAAA,QAAQ,EAAE,UADqB;AAE/BC,EAAAA,MAAM,EAAE,QAFuB;AAG/BC,EAAAA,KAAK,EAAE,OAHwB;AAI/BC,EAAAA,IAAI,EAAE,MAJyB;AAK/BC,EAAAA,WAAW,EAAE;AALkB,CAA5B",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export const VALIDATE_ERROR_CODE = {\n    REQUIRED: 'required',\n    UNIQUE: 'unique',\n    EMAIL: 'email',\n    DATE: 'date',\n    DATE_FORMAT: 'date_format',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/paginate.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/paginate.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/paginate.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/paginate.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "paginate.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_PAGE_LIMIT = void 0;\nconst DEFAULT_PAGE_LIMIT = 10;\nexports.DEFAULT_PAGE_LIMIT = DEFAULT_PAGE_LIMIT;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2luYXRlLmVudW0uanMiXSwibmFtZXMiOlsiREVGQVVMVF9QQUdFX0xJTUlUIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxrQkFBa0IsR0FBRyxFQUEzQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL2VudW1zIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IERFRkFVTFRfUEFHRV9MSU1JVCA9IDEwO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "paginate.enum.js"
      ],
      "names": [
        "DEFAULT_PAGE_LIMIT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,kBAAkB,GAAG,EAA3B",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export const DEFAULT_PAGE_LIMIT = 10;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/product-types.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/product-types.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/product-types.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/product-types.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "product-types.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PRODUCT_TYPES = void 0;\nconst PRODUCT_TYPES = {\n  NEW: 'new',\n  RECOVERY: 'recovery',\n  GUARANTEE: 'guarantee'\n};\nexports.PRODUCT_TYPES = PRODUCT_TYPES;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QtdHlwZXMuZW51bS5qcyJdLCJuYW1lcyI6WyJQUk9EVUNUX1RZUEVTIiwiTkVXIiwiUkVDT1ZFUlkiLCJHVUFSQU5URUUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLGFBQWEsR0FBRztBQUN6QkMsRUFBQUEsR0FBRyxFQUFFLEtBRG9CO0FBRXpCQyxFQUFBQSxRQUFRLEVBQUUsVUFGZTtBQUd6QkMsRUFBQUEsU0FBUyxFQUFFO0FBSGMsQ0FBdEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYy9lbnVtcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQUk9EVUNUX1RZUEVTID0ge1xuICAgIE5FVzogJ25ldycsXG4gICAgUkVDT1ZFUlk6ICdyZWNvdmVyeScsXG4gICAgR1VBUkFOVEVFOiAnZ3VhcmFudGVlJyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "product-types.enum.js"
      ],
      "names": [
        "PRODUCT_TYPES",
        "NEW",
        "RECOVERY",
        "GUARANTEE"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,aAAa,GAAG;AACzBC,EAAAA,GAAG,EAAE,KADoB;AAEzBC,EAAAA,QAAQ,EAAE,UAFe;AAGzBC,EAAAA,SAAS,EAAE;AAHc,CAAtB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export const PRODUCT_TYPES = {\n    NEW: 'new',\n    RECOVERY: 'recovery',\n    GUARANTEE: 'guarantee',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-types.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-types.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-types.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-types.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "purchase-order-types.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PURCHASE_ORDER_TYPES = void 0;\nconst PURCHASE_ORDER_TYPES = {\n  IN: 'in',\n  OUT: 'out'\n};\nexports.PURCHASE_ORDER_TYPES = PURCHASE_ORDER_TYPES;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLXR5cGVzLmVudW0uanMiXSwibmFtZXMiOlsiUFVSQ0hBU0VfT1JERVJfVFlQRVMiLCJJTiIsIk9VVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsb0JBQW9CLEdBQUc7QUFDaENDLEVBQUFBLEVBQUUsRUFBRSxJQUQ0QjtBQUVoQ0MsRUFBQUEsR0FBRyxFQUFFO0FBRjJCLENBQTdCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUFVSQ0hBU0VfT1JERVJfVFlQRVMgPSB7XG4gICAgSU46ICdpbicsXG4gICAgT1VUOiAnb3V0Jyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order-types.enum.js"
      ],
      "names": [
        "PURCHASE_ORDER_TYPES",
        "IN",
        "OUT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,oBAAoB,GAAG;AAChCC,EAAAA,EAAE,EAAE,IAD4B;AAEhCC,EAAAA,GAAG,EAAE;AAF2B,CAA7B",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "export const PURCHASE_ORDER_TYPES = {\n    IN: 'in',\n    OUT: 'out',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-status.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-status.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-status.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums/purchase-order-status.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
        "sourceFileName": "purchase-order-status.enum.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PURCHASE_ORDER_STATUS = void 0;\nconst PURCHASE_ORDER_STATUS = {\n  PENDING: 'pending',\n  ACCEPTED: 'accepted',\n  REJECTED: 'rejected'\n};\nexports.PURCHASE_ORDER_STATUS = PURCHASE_ORDER_STATUS;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLXN0YXR1cy5lbnVtLmpzIl0sIm5hbWVzIjpbIlBVUkNIQVNFX09SREVSX1NUQVRVUyIsIlBFTkRJTkciLCJBQ0NFUFRFRCIsIlJFSkVDVEVEIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBRU8sTUFBTUEscUJBQXFCLEdBQUc7QUFDakNDLEVBQUFBLE9BQU8sRUFBRSxTQUR3QjtBQUVqQ0MsRUFBQUEsUUFBUSxFQUFFLFVBRnVCO0FBR2pDQyxFQUFBQSxRQUFRLEVBQUU7QUFIdUIsQ0FBOUIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYy9lbnVtcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IFBVUkNIQVNFX09SREVSX1NUQVRVUyA9IHtcbiAgICBQRU5ESU5HOiAncGVuZGluZycsXG4gICAgQUNDRVBURUQ6ICdhY2NlcHRlZCcsXG4gICAgUkVKRUNURUQ6ICdyZWplY3RlZCcsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order-status.enum.js"
      ],
      "names": [
        "PURCHASE_ORDER_STATUS",
        "PENDING",
        "ACCEPTED",
        "REJECTED"
      ],
      "mappings": "AAAA;;;;;;AAEO,MAAMA,qBAAqB,GAAG;AACjCC,EAAAA,OAAO,EAAE,SADwB;AAEjCC,EAAAA,QAAQ,EAAE,UAFuB;AAGjCC,EAAAA,QAAQ,EAAE;AAHuB,CAA9B",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/enums",
      "sourcesContent": [
        "'use strict';\n\nexport const PURCHASE_ORDER_STATUS = {\n    PENDING: 'pending',\n    ACCEPTED: 'accepted',\n    REJECTED: 'rejected',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models/user.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/user.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/user.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/user.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
        "sourceFileName": "user.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _config = require(\"../config\");\n\nvar _bcryptNodejs = _interopRequireDefault(require(\"bcrypt-nodejs\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SALT_WORK_FACTOR = 10;\nconst UserSchema = new _mongoose.default.Schema({\n  username: {\n    type: String,\n    unique: true,\n    required: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    unique: true,\n    required: true,\n    lowercase: true,\n    trim: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String,\n    trim: true\n  },\n  gender: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.GENDER)\n  },\n  isActive: {\n    type: Boolean,\n    default: true\n  },\n  role: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.ROLE),\n    default: _enums.ROLE.USER\n  },\n  warehouseId: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Warehouse',\n    required: false,\n    default: null\n  }\n}, {\n  timestamps: true\n});\nUserSchema.plugin(_mongoosePaginateV.default);\nUserSchema.plugin(_mongooseUniqueValidator.default);\n/**\n * Helper method for validating user's password.\n */\n\nUserSchema.methods.comparePassword = function comparePassword(candidatePassword) {\n  return new Promise(resolve => {\n    _bcryptNodejs.default.compare(candidatePassword, this.password, (err, isMatched) => {\n      return resolve(isMatched);\n    });\n  });\n};\n/**\n * Helper method for generate access token\n */\n\n\nUserSchema.methods.generateJWT = function generateJWT() {\n  const payload = {\n    id: this.id\n  };\n  const options = {\n    expiresIn: _config.CONFIG.JWT_EXPIRATION\n  };\n  return _jsonwebtoken.default.sign(payload, _config.CONFIG.JWT_ENCRYPTION, options);\n};\n\nUserSchema.methods.hasRole = function hasRole(name) {\n  return this.role === name;\n};\n/**\n * Helper method for find a user by email\n * @param {String} email\n */\n\n\nUserSchema.statics.findByEmail = function findByEmail(email) {\n  return this.findOne({\n    email\n  });\n};\n/**\n * Helper method for find a user by username\n * @param username\n */\n\n\nUserSchema.statics.findByUsername = function findByUsername(username) {\n  return this.findOne({\n    username\n  });\n};\n\nUserSchema.set('toJSON', {\n  transform: function (doc, ret) {\n    return mappingResponse(ret);\n  }\n});\n/**\n * BEFORE SAVE MIDDLEWARE\n */\n\nUserSchema.pre('save', function (next) {\n  const self = this;\n\n  if (!self.isModified('password')) {\n    return next();\n  }\n\n  _bcryptNodejs.default.genSalt(SALT_WORK_FACTOR, function (err, salt) {\n    if (err) return next(err);\n\n    _bcryptNodejs.default.hash(self.password, salt, null, function (err, hash) {\n      if (err) return next(err);\n      self.password = hash;\n      next();\n    });\n  });\n});\n\nfunction mappingResponse(props = {}) {\n  const data = {\n    id: props._id,\n    username: props.username,\n    email: props.email,\n    name: props.name,\n    gender: props.gender,\n    role: props.role,\n    is_active: props.isActive,\n    created_at: props.createdAt,\n    updated_at: props.updatedAt,\n    warehouse: props.warehouseId\n  };\n  return data;\n}\n\nconst User = _mongoose.default.model('User', UserSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiU0FMVF9XT1JLX0ZBQ1RPUiIsIlVzZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsInVuaXF1ZSIsInJlcXVpcmVkIiwidHJpbSIsImVtYWlsIiwibG93ZXJjYXNlIiwicGFzc3dvcmQiLCJuYW1lIiwiZ2VuZGVyIiwiZW51bSIsIkdFTkRFUiIsImlzQWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJyb2xlIiwiUk9MRSIsIlVTRVIiLCJ3YXJlaG91c2VJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0aW1lc3RhbXBzIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsIm1ldGhvZHMiLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYmNyeXB0IiwiY29tcGFyZSIsImVyciIsImlzTWF0Y2hlZCIsImdlbmVyYXRlSldUIiwicGF5bG9hZCIsImlkIiwib3B0aW9ucyIsImV4cGlyZXNJbiIsIkNPTkZJRyIsIkpXVF9FWFBJUkFUSU9OIiwiand0Iiwic2lnbiIsIkpXVF9FTkNSWVBUSU9OIiwiaGFzUm9sZSIsInN0YXRpY3MiLCJmaW5kQnlFbWFpbCIsImZpbmRPbmUiLCJmaW5kQnlVc2VybmFtZSIsInNldCIsInRyYW5zZm9ybSIsImRvYyIsInJldCIsIm1hcHBpbmdSZXNwb25zZSIsInByZSIsIm5leHQiLCJzZWxmIiwiaXNNb2RpZmllZCIsImdlblNhbHQiLCJzYWx0IiwiaGFzaCIsInByb3BzIiwiZGF0YSIsIl9pZCIsImlzX2FjdGl2ZSIsImNyZWF0ZWRfYXQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkX2F0IiwidXBkYXRlZEF0Iiwid2FyZWhvdXNlIiwiVXNlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7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QUFTLE9BQU91QixJQUFJLENBQUN2QixHQUFELENBQVg7QUFFVHdCLE1BQUFBLElBQUksQ0FBQ2xELFFBQUwsR0FBZ0JzRCxJQUFoQjtBQUNBTCxNQUFBQSxJQUFJO0FBQ1AsS0FMRDtBQU1ILEdBVEQ7QUFVSCxDQWhCRDs7QUFrQkEsU0FBU0YsZUFBVCxDQUF5QlEsS0FBSyxHQUFHLEVBQWpDLEVBQXFDO0FBQ2pDLFFBQU1DLElBQUksR0FBRztBQUNUMUIsSUFBQUEsRUFBRSxFQUFFeUIsS0FBSyxDQUFDRSxHQUREO0FBRVRqRSxJQUFBQSxRQUFRLEVBQUUrRCxLQUFLLENBQUMvRCxRQUZQO0FBR1RNLElBQUFBLEtBQUssRUFBRXlELEtBQUssQ0FBQ3pELEtBSEo7QUFJVEcsSUFBQUEsSUFBSSxFQUFFc0QsS0FBSyxDQUFDdEQsSUFKSDtBQUtUQyxJQUFBQSxNQUFNLEVBQUVxRCxLQUFLLENBQUNyRCxNQUxMO0FBTVRNLElBQUFBLElBQUksRUFBRStDLEtBQUssQ0FBQy9DLElBTkg7QUFPVGtELElBQUFBLFNBQVMsRUFBRUgsS0FBSyxDQUFDbEQsUUFQUjtBQVFUc0QsSUFBQUEsVUFBVSxFQUFFSixLQUFLLENBQUNLLFNBUlQ7QUFTVEMsSUFBQUEsVUFBVSxFQUFFTixLQUFLLENBQUNPLFNBVFQ7QUFVVEMsSUFBQUEsU0FBUyxFQUFFUixLQUFLLENBQUM1QztBQVZSLEdBQWI7QUFhQSxTQUFPNkMsSUFBUDtBQUNIOztBQUVELE1BQU1RLElBQUksR0FBRzFFLGtCQUFTMkUsS0FBVCxDQUFlLE1BQWYsRUFBdUI1RSxVQUF2QixDQUFiIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlUGx1Z2luIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlLXYyJztcbmltcG9ydCB1bmlxdWVWYWxpZGF0b3IgZnJvbSAnbW9uZ29vc2UtdW5pcXVlLXZhbGlkYXRvcic7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQtbm9kZWpzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IHZhbHVlcyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBHRU5ERVIsIFJPTEUgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmNvbnN0IFNBTFRfV09SS19GQUNUT1IgPSAxMDtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgbG93ZXJjYXNlOiB0cnVlLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHRyaW06IHRydWUsXG4gICAgfSxcbiAgICBnZW5kZXI6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBlbnVtOiB2YWx1ZXMoR0VOREVSKSxcbiAgICB9LFxuICAgIGlzQWN0aXZlOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgfSxcbiAgICByb2xlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZW51bTogdmFsdWVzKFJPTEUpLFxuICAgICAgICBkZWZhdWx0OiBST0xFLlVTRVIsXG4gICAgfSxcbiAgICB3YXJlaG91c2VJZDoge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1dhcmVob3VzZScsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxufSwgeyB0aW1lc3RhbXBzOiB0cnVlIH0pO1xuXG5Vc2VyU2NoZW1hLnBsdWdpbihtb25nb29zZVBhZ2luYXRlUGx1Z2luKTtcblVzZXJTY2hlbWEucGx1Z2luKHVuaXF1ZVZhbGlkYXRvcik7XG5cbi8qKlxuICogSGVscGVyIG1ldGhvZCBmb3IgdmFsaWRhdGluZyB1c2VyJ3MgcGFzc3dvcmQuXG4gKi9cblVzZXJTY2hlbWEubWV0aG9kcy5jb21wYXJlUGFzc3dvcmQgPVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVQYXNzd29yZChjYW5kaWRhdGVQYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGJjcnlwdC5jb21wYXJlKGNhbmRpZGF0ZVBhc3N3b3JkLCB0aGlzLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIChlcnIsIGlzTWF0Y2hlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpc01hdGNoZWQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4vKipcbiAqIEhlbHBlciBtZXRob2QgZm9yIGdlbmVyYXRlIGFjY2VzcyB0b2tlblxuICovXG5Vc2VyU2NoZW1hLm1ldGhvZHMuZ2VuZXJhdGVKV1QgPSBmdW5jdGlvbiBnZW5lcmF0ZUpXVCgpIHtcbiAgICBjb25zdCBwYXlsb2FkID0geyBpZDogdGhpcy5pZCB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgZXhwaXJlc0luOiBDT05GSUcuSldUX0VYUElSQVRJT04gfTtcblxuICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBDT05GSUcuSldUX0VOQ1JZUFRJT04sIG9wdGlvbnMpO1xufTtcblxuVXNlclNjaGVtYS5tZXRob2RzLmhhc1JvbGUgPSBmdW5jdGlvbiBoYXNSb2xlKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xlID09PSBuYW1lO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgbWV0aG9kIGZvciBmaW5kIGEgdXNlciBieSBlbWFpbFxuICogQHBhcmFtIHtTdHJpbmd9IGVtYWlsXG4gKi9cblVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlFbWFpbCA9IGZ1bmN0aW9uIGZpbmRCeUVtYWlsKGVtYWlsKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGVtYWlsIH0pO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgbWV0aG9kIGZvciBmaW5kIGEgdXNlciBieSB1c2VybmFtZVxuICogQHBhcmFtIHVzZXJuYW1lXG4gKi9cblVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlVc2VybmFtZSA9IGZ1bmN0aW9uIGZpbmRCeVVzZXJuYW1lKHVzZXJuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xufTtcblxuVXNlclNjaGVtYS5zZXQoJ3RvSlNPTicsIHtcbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIChkb2MsIHJldCkge1xuICAgICAgICByZXR1cm4gbWFwcGluZ1Jlc3BvbnNlKHJldCk7XG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIEJFRk9SRSBTQVZFIE1JRERMRVdBUkVcbiAqL1xuVXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmlzTW9kaWZpZWQoJ3Bhc3N3b3JkJykpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG5cbiAgICBiY3J5cHQuZ2VuU2FsdChTQUxUX1dPUktfRkFDVE9SLCBmdW5jdGlvbiAoZXJyLCBzYWx0KSB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiBuZXh0KGVycik7XG5cbiAgICAgICAgYmNyeXB0Lmhhc2goc2VsZi5wYXNzd29yZCwgc2FsdCwgbnVsbCwgZnVuY3Rpb24gKGVyciwgaGFzaCkge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIG5leHQoZXJyKTtcblxuICAgICAgICAgICAgc2VsZi5wYXNzd29yZCA9IGhhc2g7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG5cbmZ1bmN0aW9uIG1hcHBpbmdSZXNwb25zZShwcm9wcyA9IHt9KSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6IHByb3BzLl9pZCxcbiAgICAgICAgdXNlcm5hbWU6IHByb3BzLnVzZXJuYW1lLFxuICAgICAgICBlbWFpbDogcHJvcHMuZW1haWwsXG4gICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgIGdlbmRlcjogcHJvcHMuZ2VuZGVyLFxuICAgICAgICByb2xlOiBwcm9wcy5yb2xlLFxuICAgICAgICBpc19hY3RpdmU6IHByb3BzLmlzQWN0aXZlLFxuICAgICAgICBjcmVhdGVkX2F0OiBwcm9wcy5jcmVhdGVkQXQsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHByb3BzLnVwZGF0ZWRBdCxcbiAgICAgICAgd2FyZWhvdXNlOiBwcm9wcy53YXJlaG91c2VJZCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIFVzZXJTY2hlbWEpO1xuXG5leHBvcnQge1xuICAgIFVzZXIsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "SALT_WORK_FACTOR",
        "UserSchema",
        "mongoose",
        "Schema",
        "username",
        "type",
        "String",
        "unique",
        "required",
        "trim",
        "email",
        "lowercase",
        "password",
        "name",
        "gender",
        "enum",
        "GENDER",
        "isActive",
        "Boolean",
        "default",
        "role",
        "ROLE",
        "USER",
        "warehouseId",
        "Types",
        "ObjectId",
        "ref",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "uniqueValidator",
        "methods",
        "comparePassword",
        "candidatePassword",
        "Promise",
        "resolve",
        "bcrypt",
        "compare",
        "err",
        "isMatched",
        "generateJWT",
        "payload",
        "id",
        "options",
        "expiresIn",
        "CONFIG",
        "JWT_EXPIRATION",
        "jwt",
        "sign",
        "JWT_ENCRYPTION",
        "hasRole",
        "statics",
        "findByEmail",
        "findOne",
        "findByUsername",
        "set",
        "transform",
        "doc",
        "ret",
        "mappingResponse",
        "pre",
        "next",
        "self",
        "isModified",
        "genSalt",
        "salt",
        "hash",
        "props",
        "data",
        "_id",
        "is_active",
        "created_at",
        "createdAt",
        "updated_at",
        "updatedAt",
        "warehouse",
        "User",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\nimport uniqueValidator from 'mongoose-unique-validator';\nimport { CONFIG } from '../config';\nimport bcrypt from 'bcrypt-nodejs';\nimport jwt from 'jsonwebtoken';\nimport { values } from 'lodash';\nimport { GENDER, ROLE } from '../enums';\n\nconst SALT_WORK_FACTOR = 10;\n\nconst UserSchema = new mongoose.Schema({\n    username: {\n        type: String,\n        unique: true,\n        required: true,\n        trim: true,\n    },\n    email: {\n        type: String,\n        unique: true,\n        required: true,\n        lowercase: true,\n        trim: true,\n    },\n    password: {\n        type: String,\n    },\n    name: {\n        type: String,\n        trim: true,\n    },\n    gender: {\n        type: String,\n        enum: values(GENDER),\n    },\n    isActive: {\n        type: Boolean,\n        default: true,\n    },\n    role: {\n        type: String,\n        enum: values(ROLE),\n        default: ROLE.USER,\n    },\n    warehouseId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Warehouse',\n        required: false,\n        default: null,\n    },\n}, { timestamps: true });\n\nUserSchema.plugin(mongoosePaginatePlugin);\nUserSchema.plugin(uniqueValidator);\n\n/**\n * Helper method for validating user's password.\n */\nUserSchema.methods.comparePassword =\n    function comparePassword(candidatePassword) {\n        return new Promise((resolve) => {\n            bcrypt.compare(candidatePassword, this.password,\n                (err, isMatched) => {\n                    return resolve(isMatched);\n                },\n            );\n        });\n    };\n\n/**\n * Helper method for generate access token\n */\nUserSchema.methods.generateJWT = function generateJWT() {\n    const payload = { id: this.id };\n\n    const options = { expiresIn: CONFIG.JWT_EXPIRATION };\n\n    return jwt.sign(payload, CONFIG.JWT_ENCRYPTION, options);\n};\n\nUserSchema.methods.hasRole = function hasRole(name) {\n    return this.role === name;\n};\n\n/**\n * Helper method for find a user by email\n * @param {String} email\n */\nUserSchema.statics.findByEmail = function findByEmail(email) {\n    return this.findOne({ email });\n};\n\n/**\n * Helper method for find a user by username\n * @param username\n */\nUserSchema.statics.findByUsername = function findByUsername(username) {\n    return this.findOne({ username });\n};\n\nUserSchema.set('toJSON', {\n    transform: function (doc, ret) {\n        return mappingResponse(ret);\n    },\n});\n\n/**\n * BEFORE SAVE MIDDLEWARE\n */\nUserSchema.pre('save', function(next) {\n    const self = this;\n    if (!self.isModified('password')) {\n        return next();\n    }\n\n    bcrypt.genSalt(SALT_WORK_FACTOR, function (err, salt) {\n        if (err) return next(err);\n\n        bcrypt.hash(self.password, salt, null, function (err, hash) {\n            if (err) return next(err);\n\n            self.password = hash;\n            next();\n        });\n    });\n});\n\nfunction mappingResponse(props = {}) {\n    const data = {\n        id: props._id,\n        username: props.username,\n        email: props.email,\n        name: props.name,\n        gender: props.gender,\n        role: props.role,\n        is_active: props.isActive,\n        created_at: props.createdAt,\n        updated_at: props.updatedAt,\n        warehouse: props.warehouseId,\n    };\n\n    return data;\n}\n\nconst User = mongoose.model('User', UserSchema);\n\nexport {\n    User,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/models/warehouse.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/warehouse.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/warehouse.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/models/warehouse.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
        "sourceFileName": "warehouse.model.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Warehouse = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst WarehouseSchema = new Schema({\n  name: {\n    type: String,\n    required: true,\n    trim: true\n  }\n}, {\n  timestamps: true\n});\nWarehouseSchema.plugin(_mongoosePaginateV.default);\nWarehouseSchema.set('toJSON', {\n  transform: function (doc, ret) {\n    return mappingResponse(ret);\n  }\n});\n\nfunction mappingResponse(props) {\n  return {\n    id: props._id,\n    name: props.name,\n    created_at: props.createdAt,\n    updated_at: props.updatedAt\n  };\n}\n\nconst Warehouse = _mongoose.default.model('Warehouse', WarehouseSchema);\n\nexports.Warehouse = Warehouse;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhcmVob3VzZS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIldhcmVob3VzZVNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwidGltZXN0YW1wcyIsInBsdWdpbiIsIm1vbmdvb3NlUGFnaW5hdGVQbHVnaW4iLCJzZXQiLCJ0cmFuc2Zvcm0iLCJkb2MiLCJyZXQiLCJtYXBwaW5nUmVzcG9uc2UiLCJwcm9wcyIsImlkIiwiX2lkIiwiY3JlYXRlZF9hdCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRfYXQiLCJ1cGRhdGVkQXQiLCJXYXJlaG91c2UiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsTUFBTUUsZUFBZSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUMvQkcsRUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLElBQUFBLElBQUksRUFBRUMsTUFESjtBQUVGQyxJQUFBQSxRQUFRLEVBQUUsSUFGUjtBQUdGQyxJQUFBQSxJQUFJLEVBQUU7QUFISjtBQUR5QixDQUFYLEVBTXJCO0FBQUVDLEVBQUFBLFVBQVUsRUFBRTtBQUFkLENBTnFCLENBQXhCO0FBUUFOLGVBQWUsQ0FBQ08sTUFBaEIsQ0FBdUJDLDBCQUF2QjtBQUVBUixlQUFlLENBQUNTLEdBQWhCLENBQW9CLFFBQXBCLEVBQThCO0FBQzFCQyxFQUFBQSxTQUFTLEVBQUUsVUFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQzNCLFdBQU9DLGVBQWUsQ0FBQ0QsR0FBRCxDQUF0QjtBQUNIO0FBSHlCLENBQTlCOztBQU1BLFNBQVNDLGVBQVQsQ0FBeUJDLEtBQXpCLEVBQWdDO0FBQzVCLFNBQU87QUFDSEMsSUFBQUEsRUFBRSxFQUFFRCxLQUFLLENBQUNFLEdBRFA7QUFFSGYsSUFBQUEsSUFBSSxFQUFFYSxLQUFLLENBQUNiLElBRlQ7QUFHSGdCLElBQUFBLFVBQVUsRUFBRUgsS0FBSyxDQUFDSSxTQUhmO0FBSUhDLElBQUFBLFVBQVUsRUFBRUwsS0FBSyxDQUFDTTtBQUpmLEdBQVA7QUFNSDs7QUFFRCxNQUFNQyxTQUFTLEdBQUd0QixrQkFBU3VCLEtBQVQsQ0FBZSxXQUFmLEVBQTRCdEIsZUFBNUIsQ0FBbEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYy9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgbW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiBmcm9tICdtb25nb29zZS1wYWdpbmF0ZS12Mic7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgV2FyZWhvdXNlU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgIH0sXG59LCB7IHRpbWVzdGFtcHM6IHRydWUgfSk7XG5cbldhcmVob3VzZVNjaGVtYS5wbHVnaW4obW9uZ29vc2VQYWdpbmF0ZVBsdWdpbik7XG5cbldhcmVob3VzZVNjaGVtYS5zZXQoJ3RvSlNPTicsIHtcbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIChkb2MsIHJldCkge1xuICAgICAgICByZXR1cm4gbWFwcGluZ1Jlc3BvbnNlKHJldCk7XG4gICAgfSxcbn0pO1xuXG5mdW5jdGlvbiBtYXBwaW5nUmVzcG9uc2UocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogcHJvcHMuX2lkLFxuICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICBjcmVhdGVkX2F0OiBwcm9wcy5jcmVhdGVkQXQsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHByb3BzLnVwZGF0ZWRBdCxcbiAgICB9O1xufVxuXG5jb25zdCBXYXJlaG91c2UgPSBtb25nb29zZS5tb2RlbCgnV2FyZWhvdXNlJywgV2FyZWhvdXNlU2NoZW1hKTtcblxuZXhwb3J0IHtcbiAgICBXYXJlaG91c2UsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "warehouse.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "WarehouseSchema",
        "name",
        "type",
        "String",
        "required",
        "trim",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "set",
        "transform",
        "doc",
        "ret",
        "mappingResponse",
        "props",
        "id",
        "_id",
        "created_at",
        "createdAt",
        "updated_at",
        "updatedAt",
        "Warehouse",
        "model"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,MAAME,eAAe,GAAG,IAAIF,MAAJ,CAAW;AAC/BG,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,IAAI,EAAE;AAHJ;AADyB,CAAX,EAMrB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CANqB,CAAxB;AAQAN,eAAe,CAACO,MAAhB,CAAuBC,0BAAvB;AAEAR,eAAe,CAACS,GAAhB,CAAoB,QAApB,EAA8B;AAC1BC,EAAAA,SAAS,EAAE,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC3B,WAAOC,eAAe,CAACD,GAAD,CAAtB;AACH;AAHyB,CAA9B;;AAMA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,SAAO;AACHC,IAAAA,EAAE,EAAED,KAAK,CAACE,GADP;AAEHf,IAAAA,IAAI,EAAEa,KAAK,CAACb,IAFT;AAGHgB,IAAAA,UAAU,EAAEH,KAAK,CAACI,SAHf;AAIHC,IAAAA,UAAU,EAAEL,KAAK,CAACM;AAJf,GAAP;AAMH;;AAED,MAAMC,SAAS,GAAGtB,kBAASuB,KAAT,CAAe,WAAf,EAA4BtB,eAA5B,CAAlB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/models",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\n\nconst Schema = mongoose.Schema;\n\nconst WarehouseSchema = new Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true,\n    },\n}, { timestamps: true });\n\nWarehouseSchema.plugin(mongoosePaginatePlugin);\n\nWarehouseSchema.set('toJSON', {\n    transform: function (doc, ret) {\n        return mappingResponse(ret);\n    },\n});\n\nfunction mappingResponse(props) {\n    return {\n        id: props._id,\n        name: props.name,\n        created_at: props.createdAt,\n        updated_at: props.updatedAt,\n    };\n}\n\nconst Warehouse = mongoose.model('Warehouse', WarehouseSchema);\n\nexport {\n    Warehouse,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/logger.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/logger.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/logger.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/logger.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
        "sourceFileName": "logger.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _winston = _interopRequireDefault(require(\"winston\"));\n\nrequire(\"winston-daily-rotate-file\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst TIMESTAMP_FORMAT = 'YYYY-MM-DD HH:mm:ss.SSS';\nconst logger = new _winston.default.Logger({\n  transports: [new _winston.default.transports.Console({\n    name: 'app_console_log',\n    level: process.env.APP_LOG_LEVEL || 'info',\n    colorize: true,\n    timestamp: () => {\n      return (0, _moment.default)().format(TIMESTAMP_FORMAT);\n    }\n  }), new _winston.default.transports.DailyRotateFile({\n    name: 'app_daily_log',\n    filename: _path.default.resolve(__dirname, '../', 'logs', 'app.%DATE%.log'),\n    datePattern: 'YYYY-MM-DD',\n    prepend: true,\n    zippedArchive: true,\n    level: process.env.APP_LOG_LEVEL || 'info',\n    timestamp: function () {\n      return (0, _moment.default)().format(TIMESTAMP_FORMAT);\n    }\n  })]\n});\nvar _default = logger;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dlci5qcyJdLCJuYW1lcyI6WyJUSU1FU1RBTVBfRk9STUFUIiwibG9nZ2VyIiwid2luc3RvbiIsIkxvZ2dlciIsInRyYW5zcG9ydHMiLCJDb25zb2xlIiwibmFtZSIsImxldmVsIiwicHJvY2VzcyIsImVudiIsIkFQUF9MT0dfTEVWRUwiLCJjb2xvcml6ZSIsInRpbWVzdGFtcCIsImZvcm1hdCIsIkRhaWx5Um90YXRlRmlsZSIsImZpbGVuYW1lIiwicGF0aCIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJkYXRlUGF0dGVybiIsInByZXBlbmQiLCJ6aXBwZWRBcmNoaXZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcseUJBQXpCO0FBRUEsTUFBTUMsTUFBTSxHQUFHLElBQUlDLGlCQUFRQyxNQUFaLENBQW1CO0FBQzlCQyxFQUFBQSxVQUFVLEVBQUUsQ0FFUixJQUFJRixpQkFBUUUsVUFBUixDQUFtQkMsT0FBdkIsQ0FBK0I7QUFDM0JDLElBQUFBLElBQUksRUFBRSxpQkFEcUI7QUFFM0JDLElBQUFBLEtBQUssRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQVosSUFBNkIsTUFGVDtBQUczQkMsSUFBQUEsUUFBUSxFQUFFLElBSGlCO0FBSTNCQyxJQUFBQSxTQUFTLEVBQUUsTUFBTTtBQUNiLGFBQU8sdUJBQVNDLE1BQVQsQ0FBZ0JiLGdCQUFoQixDQUFQO0FBQ0g7QUFOMEIsR0FBL0IsQ0FGUSxFQVdSLElBQUlFLGlCQUFRRSxVQUFSLENBQW1CVSxlQUF2QixDQUF1QztBQUNuQ1IsSUFBQUEsSUFBSSxFQUFFLGVBRDZCO0FBRW5DUyxJQUFBQSxRQUFRLEVBQUVDLGNBQUtDLE9BQUwsQ0FBYUMsU0FBYixFQUF3QixLQUF4QixFQUErQixNQUEvQixFQUF1QyxnQkFBdkMsQ0FGeUI7QUFHbkNDLElBQUFBLFdBQVcsRUFBRSxZQUhzQjtBQUluQ0MsSUFBQUEsT0FBTyxFQUFFLElBSjBCO0FBS25DQyxJQUFBQSxhQUFhLEVBQUUsSUFMb0I7QUFNbkNkLElBQUFBLEtBQUssRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQVosSUFBNkIsTUFORDtBQU9uQ0UsSUFBQUEsU0FBUyxFQUFFLFlBQVk7QUFDbkIsYUFBTyx1QkFBU0MsTUFBVCxDQUFnQmIsZ0JBQWhCLENBQVA7QUFDSDtBQVRrQyxHQUF2QyxDQVhRO0FBRGtCLENBQW5CLENBQWY7ZUEwQmVDLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHdpbnN0b24gZnJvbSAnd2luc3Rvbic7XG5pbXBvcnQgJ3dpbnN0b24tZGFpbHktcm90YXRlLWZpbGUnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IFRJTUVTVEFNUF9GT1JNQVQgPSAnWVlZWS1NTS1ERCBISDptbTpzcy5TU1MnO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgd2luc3Rvbi5Mb2dnZXIoe1xuICAgIHRyYW5zcG9ydHM6IFtcblxuICAgICAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkNvbnNvbGUoe1xuICAgICAgICAgICAgbmFtZTogJ2FwcF9jb25zb2xlX2xvZycsXG4gICAgICAgICAgICBsZXZlbDogcHJvY2Vzcy5lbnYuQVBQX0xPR19MRVZFTCB8fCAnaW5mbycsXG4gICAgICAgICAgICBjb2xvcml6ZTogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQoKS5mb3JtYXQoVElNRVNUQU1QX0ZPUk1BVCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcblxuICAgICAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkRhaWx5Um90YXRlRmlsZSh7XG4gICAgICAgICAgICBuYW1lOiAnYXBwX2RhaWx5X2xvZycsXG4gICAgICAgICAgICBmaWxlbmFtZTogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uLycsICdsb2dzJywgJ2FwcC4lREFURSUubG9nJyksXG4gICAgICAgICAgICBkYXRlUGF0dGVybjogJ1lZWVktTU0tREQnLFxuICAgICAgICAgICAgcHJlcGVuZDogdHJ1ZSxcbiAgICAgICAgICAgIHppcHBlZEFyY2hpdmU6IHRydWUsXG4gICAgICAgICAgICBsZXZlbDogcHJvY2Vzcy5lbnYuQVBQX0xPR19MRVZFTCB8fCAnaW5mbycsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KCkuZm9ybWF0KFRJTUVTVEFNUF9GT1JNQVQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgXSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "logger.js"
      ],
      "names": [
        "TIMESTAMP_FORMAT",
        "logger",
        "winston",
        "Logger",
        "transports",
        "Console",
        "name",
        "level",
        "process",
        "env",
        "APP_LOG_LEVEL",
        "colorize",
        "timestamp",
        "format",
        "DailyRotateFile",
        "filename",
        "path",
        "resolve",
        "__dirname",
        "datePattern",
        "prepend",
        "zippedArchive"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,yBAAzB;AAEA,MAAMC,MAAM,GAAG,IAAIC,iBAAQC,MAAZ,CAAmB;AAC9BC,EAAAA,UAAU,EAAE,CAER,IAAIF,iBAAQE,UAAR,CAAmBC,OAAvB,CAA+B;AAC3BC,IAAAA,IAAI,EAAE,iBADqB;AAE3BC,IAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,IAA6B,MAFT;AAG3BC,IAAAA,QAAQ,EAAE,IAHiB;AAI3BC,IAAAA,SAAS,EAAE,MAAM;AACb,aAAO,uBAASC,MAAT,CAAgBb,gBAAhB,CAAP;AACH;AAN0B,GAA/B,CAFQ,EAWR,IAAIE,iBAAQE,UAAR,CAAmBU,eAAvB,CAAuC;AACnCR,IAAAA,IAAI,EAAE,eAD6B;AAEnCS,IAAAA,QAAQ,EAAEC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,KAAxB,EAA+B,MAA/B,EAAuC,gBAAvC,CAFyB;AAGnCC,IAAAA,WAAW,EAAE,YAHsB;AAInCC,IAAAA,OAAO,EAAE,IAJ0B;AAKnCC,IAAAA,aAAa,EAAE,IALoB;AAMnCd,IAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,IAA6B,MAND;AAOnCE,IAAAA,SAAS,EAAE,YAAY;AACnB,aAAO,uBAASC,MAAT,CAAgBb,gBAAhB,CAAP;AACH;AATkC,GAAvC,CAXQ;AADkB,CAAnB,CAAf;eA0BeC,M",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport winston from 'winston';\nimport 'winston-daily-rotate-file';\nimport moment from 'moment';\nimport path from 'path';\n\nconst TIMESTAMP_FORMAT = 'YYYY-MM-DD HH:mm:ss.SSS';\n\nconst logger = new winston.Logger({\n    transports: [\n\n        new winston.transports.Console({\n            name: 'app_console_log',\n            level: process.env.APP_LOG_LEVEL || 'info',\n            colorize: true,\n            timestamp: () => {\n                return moment().format(TIMESTAMP_FORMAT);\n            },\n        }),\n\n        new winston.transports.DailyRotateFile({\n            name: 'app_daily_log',\n            filename: path.resolve(__dirname, '../', 'logs', 'app.%DATE%.log'),\n            datePattern: 'YYYY-MM-DD',\n            prepend: true,\n            zippedArchive: true,\n            level: process.env.APP_LOG_LEVEL || 'info',\n            timestamp: function () {\n                return moment().format(TIMESTAMP_FORMAT);\n            },\n        }),\n    ],\n});\n\nexport default logger;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _api = require(\"./api.routes\");\n\nObject.keys(_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _api[key];\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vYXBpLnJvdXRlcyc7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes",
      "sourcesContent": [
        "export * from './api.routes';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/routes/api.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes/api.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes/api.routes.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes/api.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes",
        "sourceFileName": "api.routes.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.apiRoutes = void 0;\n\nvar _express = require(\"express\");\n\nvar _auth = require(\"../auth\");\n\nvar _middleware = require(\"../middleware\");\n\nvar _controllers = require(\"../controllers\");\n\n// import { UploadAvatarMiddleware } from '../middleware';\nconst routes = (0, _express.Router)();\nexports.apiRoutes = routes;\nroutes.use('/me', (0, _auth.authenticate)());\nroutes.get('/me', _controllers.MeController.profile);\nroutes.patch('/me', _controllers.MeController.changeProfile);\nroutes.post('/auth/login', _controllers.AuthController.login);\nroutes.use('/users', (0, _auth.authenticate)());\nroutes.get('/users', _controllers.UserController.list);\nroutes.get('/users/:id', _controllers.UserController.findOne);\nroutes.post('/users', _controllers.UserController.create);\nroutes.patch('/users/:id', _controllers.UserController.update);\nroutes.delete('/users/:id', _controllers.UserController.remove);\nroutes.use('/purchase-orders', (0, _auth.authenticate)());\nroutes.get('/purchase-orders', _controllers.PurchaseOrderController.find);\nroutes.get('/purchase-orders/:id', _controllers.PurchaseOrderController.findOne);\nroutes.post('/purchase-orders', _controllers.PurchaseOrderController.create);\nroutes.patch('/purchase-orders/:id', _controllers.PurchaseOrderController.update);\nroutes.delete('/purchase-orders/:id', _controllers.PurchaseOrderController.remove);\n/*routes.post('/avatars',\n    authenticate(),\n    UploadAvatarMiddleware,\n    AvatarController.upload\n);*/\n\nroutes.use('/warehouses', (0, _auth.authenticate)());\nroutes.get('/warehouses', _controllers.WarehouseController.list);\nroutes.post('/warehouses', _controllers.WarehouseController.create);\nroutes.patch('/warehouses/:id', _controllers.WarehouseController.update);\nroutes.delete('/warehouses/:id', _controllers.WarehouseController.remove);\nroutes.use('/products', (0, _auth.authenticate)());\nroutes.get('/products', _controllers.ProductController.find);\nroutes.get('/products/:id', _controllers.ProductController.findOne);\nroutes.post('/products', _controllers.ProductController.create);\nroutes.patch('/products/:id', _controllers.ProductController.update);\nroutes.delete('/products/:id', _controllers.ProductController.remove);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5yb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVzIiwidXNlIiwiZ2V0IiwiTWVDb250cm9sbGVyIiwicHJvZmlsZSIsInBhdGNoIiwiY2hhbmdlUHJvZmlsZSIsInBvc3QiLCJBdXRoQ29udHJvbGxlciIsImxvZ2luIiwiVXNlckNvbnRyb2xsZXIiLCJsaXN0IiwiZmluZE9uZSIsImNyZWF0ZSIsInVwZGF0ZSIsImRlbGV0ZSIsInJlbW92ZSIsIlB1cmNoYXNlT3JkZXJDb250cm9sbGVyIiwiZmluZCIsIldhcmVob3VzZUNvbnRyb2xsZXIiLCJQcm9kdWN0Q29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFHQTs7QUFFQTs7QUFKQTtBQWNBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjs7QUFFQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsS0FBWCxFQUFrQix5QkFBbEI7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsS0FBWCxFQUFrQkMsMEJBQWFDLE9BQS9CO0FBQ0FKLE1BQU0sQ0FBQ0ssS0FBUCxDQUFhLEtBQWIsRUFBb0JGLDBCQUFhRyxhQUFqQztBQUVBTixNQUFNLENBQUNPLElBQVAsQ0FBWSxhQUFaLEVBQTJCQyw0QkFBZUMsS0FBMUM7QUFFQVQsTUFBTSxDQUFDQyxHQUFQLENBQVcsUUFBWCxFQUFxQix5QkFBckI7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsUUFBWCxFQUFxQlEsNEJBQWVDLElBQXBDO0FBQ0FYLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFlBQVgsRUFBeUJRLDRCQUFlRSxPQUF4QztBQUNBWixNQUFNLENBQUNPLElBQVAsQ0FBWSxRQUFaLEVBQXNCRyw0QkFBZUcsTUFBckM7QUFDQWIsTUFBTSxDQUFDSyxLQUFQLENBQWEsWUFBYixFQUEyQkssNEJBQWVJLE1BQTFDO0FBQ0FkLE1BQU0sQ0FBQ2UsTUFBUCxDQUFjLFlBQWQsRUFBNEJMLDRCQUFlTSxNQUEzQztBQUVBaEIsTUFBTSxDQUFDQyxHQUFQLENBQVcsa0JBQVgsRUFBK0IseUJBQS9CO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLGtCQUFYLEVBQStCZSxxQ0FBd0JDLElBQXZEO0FBQ0FsQixNQUFNLENBQUNFLEdBQVAsQ0FBVyxzQkFBWCxFQUFtQ2UscUNBQXdCTCxPQUEzRDtBQUNBWixNQUFNLENBQUNPLElBQVAsQ0FBWSxrQkFBWixFQUFnQ1UscUNBQXdCSixNQUF4RDtBQUNBYixNQUFNLENBQUNLLEtBQVAsQ0FBYSxzQkFBYixFQUFxQ1kscUNBQXdCSCxNQUE3RDtBQUNBZCxNQUFNLENBQUNlLE1BQVAsQ0FBYyxzQkFBZCxFQUFzQ0UscUNBQXdCRCxNQUE5RDtBQUVBOzs7Ozs7QUFPQWhCLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXLGFBQVgsRUFBMEIseUJBQTFCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLGFBQVgsRUFBMEJpQixpQ0FBb0JSLElBQTlDO0FBQ0FYLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLGFBQVosRUFBMkJZLGlDQUFvQk4sTUFBL0M7QUFDQWIsTUFBTSxDQUFDSyxLQUFQLENBQWEsaUJBQWIsRUFBZ0NjLGlDQUFvQkwsTUFBcEQ7QUFDQWQsTUFBTSxDQUFDZSxNQUFQLENBQWMsaUJBQWQsRUFBaUNJLGlDQUFvQkgsTUFBckQ7QUFFQWhCLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXLFdBQVgsRUFBd0IseUJBQXhCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFdBQVgsRUFBd0JrQiwrQkFBa0JGLElBQTFDO0FBQ0FsQixNQUFNLENBQUNFLEdBQVAsQ0FBVyxlQUFYLEVBQTRCa0IsK0JBQWtCUixPQUE5QztBQUNBWixNQUFNLENBQUNPLElBQVAsQ0FBWSxXQUFaLEVBQXlCYSwrQkFBa0JQLE1BQTNDO0FBQ0FiLE1BQU0sQ0FBQ0ssS0FBUCxDQUFhLGVBQWIsRUFBOEJlLCtCQUFrQk4sTUFBaEQ7QUFDQWQsTUFBTSxDQUFDZSxNQUFQLENBQWMsZUFBZCxFQUErQkssK0JBQWtCSixNQUFqRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tICcuLi9hdXRoJztcbi8vIGltcG9ydCB7IFVwbG9hZEF2YXRhck1pZGRsZXdhcmUgfSBmcm9tICcuLi9taWRkbGV3YXJlJztcblxuaW1wb3J0IHsgVXNlckNyZWF0ZU1pZGRsZXdhcmUgfSBmcm9tICcuLi9taWRkbGV3YXJlJztcblxuaW1wb3J0IHtcbiAgICBNZUNvbnRyb2xsZXIsXG4gICAgQXV0aENvbnRyb2xsZXIsXG4gICAgVXNlckNvbnRyb2xsZXIsXG4gICAgLy8gQXZhdGFyQ29udHJvbGxlcixcbiAgICBXYXJlaG91c2VDb250cm9sbGVyLFxuICAgIFB1cmNoYXNlT3JkZXJDb250cm9sbGVyLFxuICAgIFByb2R1Y3RDb250cm9sbGVyLFxufSBmcm9tICcuLi9jb250cm9sbGVycyc7XG5cbmNvbnN0IHJvdXRlcyA9IFJvdXRlcigpO1xuXG5yb3V0ZXMudXNlKCcvbWUnLCBhdXRoZW50aWNhdGUoKSk7XG5yb3V0ZXMuZ2V0KCcvbWUnLCBNZUNvbnRyb2xsZXIucHJvZmlsZSk7XG5yb3V0ZXMucGF0Y2goJy9tZScsIE1lQ29udHJvbGxlci5jaGFuZ2VQcm9maWxlKTtcblxucm91dGVzLnBvc3QoJy9hdXRoL2xvZ2luJywgQXV0aENvbnRyb2xsZXIubG9naW4pO1xuXG5yb3V0ZXMudXNlKCcvdXNlcnMnLCBhdXRoZW50aWNhdGUoKSk7XG5yb3V0ZXMuZ2V0KCcvdXNlcnMnLCBVc2VyQ29udHJvbGxlci5saXN0KTtcbnJvdXRlcy5nZXQoJy91c2Vycy86aWQnLCBVc2VyQ29udHJvbGxlci5maW5kT25lKTtcbnJvdXRlcy5wb3N0KCcvdXNlcnMnLCBVc2VyQ29udHJvbGxlci5jcmVhdGUpO1xucm91dGVzLnBhdGNoKCcvdXNlcnMvOmlkJywgVXNlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlcy5kZWxldGUoJy91c2Vycy86aWQnLCBVc2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXMudXNlKCcvcHVyY2hhc2Utb3JkZXJzJywgYXV0aGVudGljYXRlKCkpO1xucm91dGVzLmdldCgnL3B1cmNoYXNlLW9yZGVycycsIFB1cmNoYXNlT3JkZXJDb250cm9sbGVyLmZpbmQpO1xucm91dGVzLmdldCgnL3B1cmNoYXNlLW9yZGVycy86aWQnLCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlci5maW5kT25lKTtcbnJvdXRlcy5wb3N0KCcvcHVyY2hhc2Utb3JkZXJzJywgUHVyY2hhc2VPcmRlckNvbnRyb2xsZXIuY3JlYXRlKTtcbnJvdXRlcy5wYXRjaCgnL3B1cmNoYXNlLW9yZGVycy86aWQnLCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVzLmRlbGV0ZSgnL3B1cmNoYXNlLW9yZGVycy86aWQnLCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlci5yZW1vdmUpO1xuXG4vKnJvdXRlcy5wb3N0KCcvYXZhdGFycycsXG4gICAgYXV0aGVudGljYXRlKCksXG4gICAgVXBsb2FkQXZhdGFyTWlkZGxld2FyZSxcbiAgICBBdmF0YXJDb250cm9sbGVyLnVwbG9hZFxuKTsqL1xuXG5cbnJvdXRlcy51c2UoJy93YXJlaG91c2VzJywgYXV0aGVudGljYXRlKCkpO1xucm91dGVzLmdldCgnL3dhcmVob3VzZXMnLCBXYXJlaG91c2VDb250cm9sbGVyLmxpc3QpO1xucm91dGVzLnBvc3QoJy93YXJlaG91c2VzJywgV2FyZWhvdXNlQ29udHJvbGxlci5jcmVhdGUpO1xucm91dGVzLnBhdGNoKCcvd2FyZWhvdXNlcy86aWQnLCBXYXJlaG91c2VDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXMuZGVsZXRlKCcvd2FyZWhvdXNlcy86aWQnLCBXYXJlaG91c2VDb250cm9sbGVyLnJlbW92ZSk7XG5cbnJvdXRlcy51c2UoJy9wcm9kdWN0cycsIGF1dGhlbnRpY2F0ZSgpKTtcbnJvdXRlcy5nZXQoJy9wcm9kdWN0cycsIFByb2R1Y3RDb250cm9sbGVyLmZpbmQpO1xucm91dGVzLmdldCgnL3Byb2R1Y3RzLzppZCcsIFByb2R1Y3RDb250cm9sbGVyLmZpbmRPbmUpO1xucm91dGVzLnBvc3QoJy9wcm9kdWN0cycsIFByb2R1Y3RDb250cm9sbGVyLmNyZWF0ZSk7XG5yb3V0ZXMucGF0Y2goJy9wcm9kdWN0cy86aWQnLCBQcm9kdWN0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVzLmRlbGV0ZSgnL3Byb2R1Y3RzLzppZCcsIFByb2R1Y3RDb250cm9sbGVyLnJlbW92ZSk7XG5cbmV4cG9ydCB7XG4gICAgcm91dGVzIGFzIGFwaVJvdXRlcyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "api.routes.js"
      ],
      "names": [
        "routes",
        "use",
        "get",
        "MeController",
        "profile",
        "patch",
        "changeProfile",
        "post",
        "AuthController",
        "login",
        "UserController",
        "list",
        "findOne",
        "create",
        "update",
        "delete",
        "remove",
        "PurchaseOrderController",
        "find",
        "WarehouseController",
        "ProductController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AAGA;;AAEA;;AAJA;AAcA,MAAMA,MAAM,GAAG,sBAAf;;AAEAA,MAAM,CAACC,GAAP,CAAW,KAAX,EAAkB,yBAAlB;AACAD,MAAM,CAACE,GAAP,CAAW,KAAX,EAAkBC,0BAAaC,OAA/B;AACAJ,MAAM,CAACK,KAAP,CAAa,KAAb,EAAoBF,0BAAaG,aAAjC;AAEAN,MAAM,CAACO,IAAP,CAAY,aAAZ,EAA2BC,4BAAeC,KAA1C;AAEAT,MAAM,CAACC,GAAP,CAAW,QAAX,EAAqB,yBAArB;AACAD,MAAM,CAACE,GAAP,CAAW,QAAX,EAAqBQ,4BAAeC,IAApC;AACAX,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyBQ,4BAAeE,OAAxC;AACAZ,MAAM,CAACO,IAAP,CAAY,QAAZ,EAAsBG,4BAAeG,MAArC;AACAb,MAAM,CAACK,KAAP,CAAa,YAAb,EAA2BK,4BAAeI,MAA1C;AACAd,MAAM,CAACe,MAAP,CAAc,YAAd,EAA4BL,4BAAeM,MAA3C;AAEAhB,MAAM,CAACC,GAAP,CAAW,kBAAX,EAA+B,yBAA/B;AACAD,MAAM,CAACE,GAAP,CAAW,kBAAX,EAA+Be,qCAAwBC,IAAvD;AACAlB,MAAM,CAACE,GAAP,CAAW,sBAAX,EAAmCe,qCAAwBL,OAA3D;AACAZ,MAAM,CAACO,IAAP,CAAY,kBAAZ,EAAgCU,qCAAwBJ,MAAxD;AACAb,MAAM,CAACK,KAAP,CAAa,sBAAb,EAAqCY,qCAAwBH,MAA7D;AACAd,MAAM,CAACe,MAAP,CAAc,sBAAd,EAAsCE,qCAAwBD,MAA9D;AAEA;;;;;;AAOAhB,MAAM,CAACC,GAAP,CAAW,aAAX,EAA0B,yBAA1B;AACAD,MAAM,CAACE,GAAP,CAAW,aAAX,EAA0BiB,iCAAoBR,IAA9C;AACAX,MAAM,CAACO,IAAP,CAAY,aAAZ,EAA2BY,iCAAoBN,MAA/C;AACAb,MAAM,CAACK,KAAP,CAAa,iBAAb,EAAgCc,iCAAoBL,MAApD;AACAd,MAAM,CAACe,MAAP,CAAc,iBAAd,EAAiCI,iCAAoBH,MAArD;AAEAhB,MAAM,CAACC,GAAP,CAAW,WAAX,EAAwB,yBAAxB;AACAD,MAAM,CAACE,GAAP,CAAW,WAAX,EAAwBkB,+BAAkBF,IAA1C;AACAlB,MAAM,CAACE,GAAP,CAAW,eAAX,EAA4BkB,+BAAkBR,OAA9C;AACAZ,MAAM,CAACO,IAAP,CAAY,WAAZ,EAAyBa,+BAAkBP,MAA3C;AACAb,MAAM,CAACK,KAAP,CAAa,eAAb,EAA8Be,+BAAkBN,MAAhD;AACAd,MAAM,CAACe,MAAP,CAAc,eAAd,EAA+BK,+BAAkBJ,MAAjD",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/routes",
      "sourcesContent": [
        "'use strict';\n\nimport { Router } from 'express';\nimport { authenticate } from '../auth';\n// import { UploadAvatarMiddleware } from '../middleware';\n\nimport { UserCreateMiddleware } from '../middleware';\n\nimport {\n    MeController,\n    AuthController,\n    UserController,\n    // AvatarController,\n    WarehouseController,\n    PurchaseOrderController,\n    ProductController,\n} from '../controllers';\n\nconst routes = Router();\n\nroutes.use('/me', authenticate());\nroutes.get('/me', MeController.profile);\nroutes.patch('/me', MeController.changeProfile);\n\nroutes.post('/auth/login', AuthController.login);\n\nroutes.use('/users', authenticate());\nroutes.get('/users', UserController.list);\nroutes.get('/users/:id', UserController.findOne);\nroutes.post('/users', UserController.create);\nroutes.patch('/users/:id', UserController.update);\nroutes.delete('/users/:id', UserController.remove);\n\nroutes.use('/purchase-orders', authenticate());\nroutes.get('/purchase-orders', PurchaseOrderController.find);\nroutes.get('/purchase-orders/:id', PurchaseOrderController.findOne);\nroutes.post('/purchase-orders', PurchaseOrderController.create);\nroutes.patch('/purchase-orders/:id', PurchaseOrderController.update);\nroutes.delete('/purchase-orders/:id', PurchaseOrderController.remove);\n\n/*routes.post('/avatars',\n    authenticate(),\n    UploadAvatarMiddleware,\n    AvatarController.upload\n);*/\n\n\nroutes.use('/warehouses', authenticate());\nroutes.get('/warehouses', WarehouseController.list);\nroutes.post('/warehouses', WarehouseController.create);\nroutes.patch('/warehouses/:id', WarehouseController.update);\nroutes.delete('/warehouses/:id', WarehouseController.remove);\n\nroutes.use('/products', authenticate());\nroutes.get('/products', ProductController.find);\nroutes.get('/products/:id', ProductController.findOne);\nroutes.post('/products', ProductController.create);\nroutes.patch('/products/:id', ProductController.update);\nroutes.delete('/products/:id', ProductController.remove);\n\nexport {\n    routes as apiRoutes,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/auth.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initialize = initialize;\nexports.authenticate = authenticate;\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _passportLocal = require(\"passport-local\");\n\nvar _passportJwt = require(\"passport-jwt\");\n\nvar _config = require(\"./config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * SIGN IN USING USERNAME AND PASSWORD\n */\nfunction localStrategy() {\n  const options = {\n    usernameField: 'username',\n    passwordField: 'password',\n    passReqToCallback: true\n  };\n  return new _passportLocal.Strategy(options, async function (req, username, password, next) {\n    const {\n      User\n    } = req.app.get('models');\n\n    try {\n      const user = await User.findByUsername(username);\n\n      if (!user) {\n        return next(null, false);\n      }\n\n      if (false === (await user.comparePassword(password))) {\n        return next(null, false);\n      }\n\n      return next(null, user);\n    } catch (err) {\n      return next(err);\n    }\n  });\n}\n/**\n * AUTHENTICATE USER BY ACCESS TOKEN\n */\n\n\nconst AUTH_SCHEME = 'bearer';\nconst TOKEN_QUERY_PARAMETER_NAME = 'access_token';\n\nfunction jwtStrategy() {\n  const options = {\n    jwtFromRequest: _passportJwt.ExtractJwt.versionOneCompatibility({\n      authScheme: AUTH_SCHEME,\n      tokenQueryParameterName: TOKEN_QUERY_PARAMETER_NAME\n    }),\n    secretOrKey: _config.CONFIG.JWT_ENCRYPTION,\n    passReqToCallback: true\n  };\n  return new _passportJwt.Strategy(options, async function (req, payload, next) {\n    const {\n      User\n    } = req.app.get('models');\n    const {\n      id\n    } = payload;\n\n    try {\n      const user = await User.findById(id);\n\n      if (!user) {\n        return next(null, false);\n      }\n\n      return next(null, user);\n    } catch (err) {\n      return next(err);\n    }\n  });\n}\n\n_passport.default.use(localStrategy());\n\n_passport.default.use(jwtStrategy());\n\nfunction initialize() {\n  return _passport.default.initialize();\n}\n\nfunction authenticate() {\n  return _passport.default.authenticate('jwt', {\n    session: false\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsibG9jYWxTdHJhdGVneSIsIm9wdGlvbnMiLCJ1c2VybmFtZUZpZWxkIiwicGFzc3dvcmRGaWVsZCIsInBhc3NSZXFUb0NhbGxiYWNrIiwiTG9jYWxTdHJhdGVneSIsInJlcSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJuZXh0IiwiVXNlciIsImFwcCIsImdldCIsInVzZXIiLCJmaW5kQnlVc2VybmFtZSIsImNvbXBhcmVQYXNzd29yZCIsImVyciIsIkFVVEhfU0NIRU1FIiwiVE9LRU5fUVVFUllfUEFSQU1FVEVSX05BTUUiLCJqd3RTdHJhdGVneSIsImp3dEZyb21SZXF1ZXN0IiwiRXh0cmFjdEp3dCIsInZlcnNpb25PbmVDb21wYXRpYmlsaXR5IiwiYXV0aFNjaGVtZSIsInRva2VuUXVlcnlQYXJhbWV0ZXJOYW1lIiwic2VjcmV0T3JLZXkiLCJDT05GSUciLCJKV1RfRU5DUllQVElPTiIsIkp3dFN0cmF0ZWd5IiwicGF5bG9hZCIsImlkIiwiZmluZEJ5SWQiLCJwYXNzcG9ydCIsInVzZSIsImluaXRpYWxpemUiLCJhdXRoZW50aWNhdGUiLCJzZXNzaW9uIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBOzs7QUFHQSxTQUFTQSxhQUFULEdBQXlCO0FBQ3JCLFFBQU1DLE9BQU8sR0FBRztBQUNaQyxJQUFBQSxhQUFhLEVBQUUsVUFESDtBQUVaQyxJQUFBQSxhQUFhLEVBQUUsVUFGSDtBQUdaQyxJQUFBQSxpQkFBaUIsRUFBRTtBQUhQLEdBQWhCO0FBTUEsU0FBTyxJQUFJQyx1QkFBSixDQUNISixPQURHLEVBRUgsZ0JBQWdCSyxHQUFoQixFQUFxQkMsUUFBckIsRUFBK0JDLFFBQS9CLEVBQXlDQyxJQUF6QyxFQUErQztBQUUzQyxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBV0osR0FBRyxDQUFDSyxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQWpCOztBQUVBLFFBQUk7QUFDQSxZQUFNQyxJQUFJLEdBQUcsTUFBTUgsSUFBSSxDQUFDSSxjQUFMLENBQW9CUCxRQUFwQixDQUFuQjs7QUFFQSxVQUFJLENBQUNNLElBQUwsRUFBVztBQUNQLGVBQU9KLElBQUksQ0FBQyxJQUFELEVBQU8sS0FBUCxDQUFYO0FBQ0g7O0FBRUQsVUFBSSxXQUFVLE1BQU1JLElBQUksQ0FBQ0UsZUFBTCxDQUFxQlAsUUFBckIsQ0FBaEIsQ0FBSixFQUFvRDtBQUNoRCxlQUFPQyxJQUFJLENBQUMsSUFBRCxFQUFPLEtBQVAsQ0FBWDtBQUNIOztBQUVELGFBQU9BLElBQUksQ0FBQyxJQUFELEVBQU9JLElBQVAsQ0FBWDtBQUNILEtBWkQsQ0FZRSxPQUFPRyxHQUFQLEVBQVk7QUFDVixhQUFPUCxJQUFJLENBQUNPLEdBQUQsQ0FBWDtBQUNIO0FBQ0osR0FyQkUsQ0FBUDtBQXVCSDtBQUVEOzs7OztBQUdBLE1BQU1DLFdBQVcsR0FBRyxRQUFwQjtBQUNBLE1BQU1DLDBCQUEwQixHQUFHLGNBQW5DOztBQUVBLFNBQVNDLFdBQVQsR0FBdUI7QUFDbkIsUUFBTWxCLE9BQU8sR0FBRztBQUNabUIsSUFBQUEsY0FBYyxFQUFFQyx3QkFBV0MsdUJBQVgsQ0FBbUM7QUFDL0NDLE1BQUFBLFVBQVUsRUFBRU4sV0FEbUM7QUFFL0NPLE1BQUFBLHVCQUF1QixFQUFFTjtBQUZzQixLQUFuQyxDQURKO0FBS1pPLElBQUFBLFdBQVcsRUFBRUMsZUFBT0MsY0FMUjtBQU1adkIsSUFBQUEsaUJBQWlCLEVBQUU7QUFOUCxHQUFoQjtBQVNBLFNBQU8sSUFBSXdCLHFCQUFKLENBQWdCM0IsT0FBaEIsRUFBeUIsZ0JBQWdCSyxHQUFoQixFQUFxQnVCLE9BQXJCLEVBQThCcEIsSUFBOUIsRUFBb0M7QUFDaEUsVUFBTTtBQUFFQyxNQUFBQTtBQUFGLFFBQVdKLEdBQUcsQ0FBQ0ssR0FBSixDQUFRQyxHQUFSLENBQVksUUFBWixDQUFqQjtBQUVBLFVBQU07QUFBRWtCLE1BQUFBO0FBQUYsUUFBU0QsT0FBZjs7QUFFQSxRQUFJO0FBQ0EsWUFBTWhCLElBQUksR0FBRyxNQUFNSCxJQUFJLENBQUNxQixRQUFMLENBQWNELEVBQWQsQ0FBbkI7O0FBRUEsVUFBSSxDQUFDakIsSUFBTCxFQUFXO0FBQ1AsZUFBT0osSUFBSSxDQUFDLElBQUQsRUFBTyxLQUFQLENBQVg7QUFDSDs7QUFFRCxhQUFPQSxJQUFJLENBQUMsSUFBRCxFQUFPSSxJQUFQLENBQVg7QUFDSCxLQVJELENBUUUsT0FBT0csR0FBUCxFQUFZO0FBQ1YsYUFBT1AsSUFBSSxDQUFDTyxHQUFELENBQVg7QUFDSDtBQUNKLEdBaEJNLENBQVA7QUFpQkg7O0FBRURnQixrQkFBU0MsR0FBVCxDQUFhakMsYUFBYSxFQUExQjs7QUFDQWdDLGtCQUFTQyxHQUFULENBQWFkLFdBQVcsRUFBeEI7O0FBRUEsU0FBU2UsVUFBVCxHQUFzQjtBQUNsQixTQUFPRixrQkFBU0UsVUFBVCxFQUFQO0FBQ0g7O0FBRUQsU0FBU0MsWUFBVCxHQUF3QjtBQUNwQixTQUFPSCxrQkFBU0csWUFBVCxDQUFzQixLQUF0QixFQUE2QjtBQUFFQyxJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUE3QixDQUFQO0FBQ0giLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB7IFN0cmF0ZWd5IGFzIExvY2FsU3RyYXRlZ3kgfSBmcm9tICdwYXNzcG9ydC1sb2NhbCc7XG5pbXBvcnQgeyBTdHJhdGVneSBhcyBKd3RTdHJhdGVneSwgRXh0cmFjdEp3dCB9IGZyb20gJ3Bhc3Nwb3J0LWp3dCc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuL2NvbmZpZyc7XG5cbi8qKlxuICogU0lHTiBJTiBVU0lORyBVU0VSTkFNRSBBTkQgUEFTU1dPUkRcbiAqL1xuZnVuY3Rpb24gbG9jYWxTdHJhdGVneSgpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICB1c2VybmFtZUZpZWxkOiAndXNlcm5hbWUnLFxuICAgICAgICBwYXNzd29yZEZpZWxkOiAncGFzc3dvcmQnLFxuICAgICAgICBwYXNzUmVxVG9DYWxsYmFjazogdHJ1ZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBMb2NhbFN0cmF0ZWd5KFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBhc3luYyBmdW5jdGlvbiAocmVxLCB1c2VybmFtZSwgcGFzc3dvcmQsIG5leHQpIHtcblxuICAgICAgICAgICAgY29uc3QgeyBVc2VyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5VXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KG51bGwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZmFsc2UgPT09IGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQobnVsbCwgdXNlcik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICk7XG59XG5cbi8qKlxuICogQVVUSEVOVElDQVRFIFVTRVIgQlkgQUNDRVNTIFRPS0VOXG4gKi9cbmNvbnN0IEFVVEhfU0NIRU1FID0gJ2JlYXJlcic7XG5jb25zdCBUT0tFTl9RVUVSWV9QQVJBTUVURVJfTkFNRSA9ICdhY2Nlc3NfdG9rZW4nO1xuXG5mdW5jdGlvbiBqd3RTdHJhdGVneSgpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBqd3RGcm9tUmVxdWVzdDogRXh0cmFjdEp3dC52ZXJzaW9uT25lQ29tcGF0aWJpbGl0eSh7XG4gICAgICAgICAgICBhdXRoU2NoZW1lOiBBVVRIX1NDSEVNRSxcbiAgICAgICAgICAgIHRva2VuUXVlcnlQYXJhbWV0ZXJOYW1lOiBUT0tFTl9RVUVSWV9QQVJBTUVURVJfTkFNRSxcbiAgICAgICAgfSksXG4gICAgICAgIHNlY3JldE9yS2V5OiBDT05GSUcuSldUX0VOQ1JZUFRJT04sXG4gICAgICAgIHBhc3NSZXFUb0NhbGxiYWNrOiB0cnVlLFxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IEp3dFN0cmF0ZWd5KG9wdGlvbnMsIGFzeW5jIGZ1bmN0aW9uIChyZXEsIHBheWxvYWQsIG5leHQpIHtcbiAgICAgICAgY29uc3QgeyBVc2VyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG5cbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcGF5bG9hZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoaWQpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KG51bGwsIHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxucGFzc3BvcnQudXNlKGxvY2FsU3RyYXRlZ3koKSk7XG5wYXNzcG9ydC51c2Uoand0U3RyYXRlZ3koKSk7XG5cbmZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgcmV0dXJuIHBhc3Nwb3J0LmluaXRpYWxpemUoKTtcbn1cblxuZnVuY3Rpb24gYXV0aGVudGljYXRlKCkge1xuICAgIHJldHVybiBwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2p3dCcsIHsgc2Vzc2lvbjogZmFsc2UgfSk7XG59XG5cbmV4cG9ydCB7XG4gICAgaW5pdGlhbGl6ZSxcbiAgICBhdXRoZW50aWNhdGUsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "localStrategy",
        "options",
        "usernameField",
        "passwordField",
        "passReqToCallback",
        "LocalStrategy",
        "req",
        "username",
        "password",
        "next",
        "User",
        "app",
        "get",
        "user",
        "findByUsername",
        "comparePassword",
        "err",
        "AUTH_SCHEME",
        "TOKEN_QUERY_PARAMETER_NAME",
        "jwtStrategy",
        "jwtFromRequest",
        "ExtractJwt",
        "versionOneCompatibility",
        "authScheme",
        "tokenQueryParameterName",
        "secretOrKey",
        "CONFIG",
        "JWT_ENCRYPTION",
        "JwtStrategy",
        "payload",
        "id",
        "findById",
        "passport",
        "use",
        "initialize",
        "authenticate",
        "session"
      ],
      "mappings": "AAAA;;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA;;;AAGA,SAASA,aAAT,GAAyB;AACrB,QAAMC,OAAO,GAAG;AACZC,IAAAA,aAAa,EAAE,UADH;AAEZC,IAAAA,aAAa,EAAE,UAFH;AAGZC,IAAAA,iBAAiB,EAAE;AAHP,GAAhB;AAMA,SAAO,IAAIC,uBAAJ,CACHJ,OADG,EAEH,gBAAgBK,GAAhB,EAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,IAAzC,EAA+C;AAE3C,UAAM;AAAEC,MAAAA;AAAF,QAAWJ,GAAG,CAACK,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;;AAEA,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMH,IAAI,CAACI,cAAL,CAAoBP,QAApB,CAAnB;;AAEA,UAAI,CAACM,IAAL,EAAW;AACP,eAAOJ,IAAI,CAAC,IAAD,EAAO,KAAP,CAAX;AACH;;AAED,UAAI,WAAU,MAAMI,IAAI,CAACE,eAAL,CAAqBP,QAArB,CAAhB,CAAJ,EAAoD;AAChD,eAAOC,IAAI,CAAC,IAAD,EAAO,KAAP,CAAX;AACH;;AAED,aAAOA,IAAI,CAAC,IAAD,EAAOI,IAAP,CAAX;AACH,KAZD,CAYE,OAAOG,GAAP,EAAY;AACV,aAAOP,IAAI,CAACO,GAAD,CAAX;AACH;AACJ,GArBE,CAAP;AAuBH;AAED;;;;;AAGA,MAAMC,WAAW,GAAG,QAApB;AACA,MAAMC,0BAA0B,GAAG,cAAnC;;AAEA,SAASC,WAAT,GAAuB;AACnB,QAAMlB,OAAO,GAAG;AACZmB,IAAAA,cAAc,EAAEC,wBAAWC,uBAAX,CAAmC;AAC/CC,MAAAA,UAAU,EAAEN,WADmC;AAE/CO,MAAAA,uBAAuB,EAAEN;AAFsB,KAAnC,CADJ;AAKZO,IAAAA,WAAW,EAAEC,eAAOC,cALR;AAMZvB,IAAAA,iBAAiB,EAAE;AANP,GAAhB;AASA,SAAO,IAAIwB,qBAAJ,CAAgB3B,OAAhB,EAAyB,gBAAgBK,GAAhB,EAAqBuB,OAArB,EAA8BpB,IAA9B,EAAoC;AAChE,UAAM;AAAEC,MAAAA;AAAF,QAAWJ,GAAG,CAACK,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;AAEA,UAAM;AAAEkB,MAAAA;AAAF,QAASD,OAAf;;AAEA,QAAI;AACA,YAAMhB,IAAI,GAAG,MAAMH,IAAI,CAACqB,QAAL,CAAcD,EAAd,CAAnB;;AAEA,UAAI,CAACjB,IAAL,EAAW;AACP,eAAOJ,IAAI,CAAC,IAAD,EAAO,KAAP,CAAX;AACH;;AAED,aAAOA,IAAI,CAAC,IAAD,EAAOI,IAAP,CAAX;AACH,KARD,CAQE,OAAOG,GAAP,EAAY;AACV,aAAOP,IAAI,CAACO,GAAD,CAAX;AACH;AACJ,GAhBM,CAAP;AAiBH;;AAEDgB,kBAASC,GAAT,CAAajC,aAAa,EAA1B;;AACAgC,kBAASC,GAAT,CAAad,WAAW,EAAxB;;AAEA,SAASe,UAAT,GAAsB;AAClB,SAAOF,kBAASE,UAAT,EAAP;AACH;;AAED,SAASC,YAAT,GAAwB;AACpB,SAAOH,kBAASG,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAA7B,CAAP;AACH",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport passport from 'passport';\nimport { Strategy as LocalStrategy } from 'passport-local';\nimport { Strategy as JwtStrategy, ExtractJwt } from 'passport-jwt';\nimport { CONFIG } from './config';\n\n/**\n * SIGN IN USING USERNAME AND PASSWORD\n */\nfunction localStrategy() {\n    const options = {\n        usernameField: 'username',\n        passwordField: 'password',\n        passReqToCallback: true,\n    };\n\n    return new LocalStrategy(\n        options,\n        async function (req, username, password, next) {\n\n            const { User } = req.app.get('models');\n\n            try {\n                const user = await User.findByUsername(username);\n\n                if (!user) {\n                    return next(null, false);\n                }\n\n                if (false === await user.comparePassword(password)) {\n                    return next(null, false);\n                }\n\n                return next(null, user);\n            } catch (err) {\n                return next(err);\n            }\n        },\n    );\n}\n\n/**\n * AUTHENTICATE USER BY ACCESS TOKEN\n */\nconst AUTH_SCHEME = 'bearer';\nconst TOKEN_QUERY_PARAMETER_NAME = 'access_token';\n\nfunction jwtStrategy() {\n    const options = {\n        jwtFromRequest: ExtractJwt.versionOneCompatibility({\n            authScheme: AUTH_SCHEME,\n            tokenQueryParameterName: TOKEN_QUERY_PARAMETER_NAME,\n        }),\n        secretOrKey: CONFIG.JWT_ENCRYPTION,\n        passReqToCallback: true,\n    };\n\n    return new JwtStrategy(options, async function (req, payload, next) {\n        const { User } = req.app.get('models');\n\n        const { id } = payload;\n\n        try {\n            const user = await User.findById(id);\n\n            if (!user) {\n                return next(null, false);\n            }\n\n            return next(null, user);\n        } catch (err) {\n            return next(err);\n        }\n    });\n}\n\npassport.use(localStrategy());\npassport.use(jwtStrategy());\n\nfunction initialize() {\n    return passport.initialize();\n}\n\nfunction authenticate() {\n    return passport.authenticate('jwt', { session: false });\n}\n\nexport {\n    initialize,\n    authenticate,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"LoggerMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _logger.LoggerMiddleware;\n  }\n});\nObject.defineProperty(exports, \"UploadAvatarMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _uploadAvatar.UploadAvatarMiddleware;\n  }\n});\nObject.defineProperty(exports, \"UserCreateMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _userCreate.UserCreateMiddleware;\n  }\n});\n\nvar _logger = require(\"./logger.middleware\");\n\nvar _uploadAvatar = require(\"./upload-avatar.middleware\");\n\nvar _userCreate = require(\"./user-create.middleware\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IExvZ2dlck1pZGRsZXdhcmUgfSBmcm9tICcuL2xvZ2dlci5taWRkbGV3YXJlJztcbmV4cG9ydCB7IFVwbG9hZEF2YXRhck1pZGRsZXdhcmUgfSBmcm9tICcuL3VwbG9hZC1hdmF0YXIubWlkZGxld2FyZSc7XG5cbmV4cG9ydCB7IFVzZXJDcmVhdGVNaWRkbGV3YXJlIH0gZnJvbSAnLi91c2VyLWNyZWF0ZS5taWRkbGV3YXJlJztcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "sourcesContent": [
        "export { LoggerMiddleware } from './logger.middleware';\nexport { UploadAvatarMiddleware } from './upload-avatar.middleware';\n\nexport { UserCreateMiddleware } from './user-create.middleware';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/logger.middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/logger.middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/logger.middleware.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/logger.middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
        "sourceFileName": "logger.middleware.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LoggerMiddleware = void 0;\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _split = _interopRequireDefault(require(\"split\"));\n\nvar _logger = _interopRequireDefault(require(\"../logger\"));\n\nvar _config = require(\"../config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst LoggerMiddleware = (0, _morgan.default)('combined', {\n  'stream': (0, _split.default)().on('data', line => {\n    _logger.default.info(line);\n  }),\n  'skip': () => _config.CONFIG.ENV === 'test'\n});\nexports.LoggerMiddleware = LoggerMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dlci5taWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbIkxvZ2dlck1pZGRsZXdhcmUiLCJvbiIsImxpbmUiLCJsb2dnZXIiLCJpbmZvIiwiQ09ORklHIiwiRU5WIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcscUJBQU8sVUFBUCxFQUFtQjtBQUN4QyxZQUFVLHNCQUFRQyxFQUFSLENBQVcsTUFBWCxFQUFvQkMsSUFBRCxJQUFVO0FBQ25DQyxvQkFBT0MsSUFBUCxDQUFZRixJQUFaO0FBQ0gsR0FGUyxDQUQ4QjtBQUl4QyxVQUFRLE1BQU1HLGVBQU9DLEdBQVAsS0FBZTtBQUpXLENBQW5CLENBQXpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IG1vcmdhbiBmcm9tICdtb3JnYW4nO1xuaW1wb3J0IHNwbGl0IGZyb20gJ3NwbGl0JztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IENPTkZJRyB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IExvZ2dlck1pZGRsZXdhcmUgPSBtb3JnYW4oJ2NvbWJpbmVkJywge1xuICAgICdzdHJlYW0nOiBzcGxpdCgpLm9uKCdkYXRhJywgKGxpbmUpID0+IHtcbiAgICAgICAgbG9nZ2VyLmluZm8obGluZSk7XG4gICAgfSksXG4gICAgJ3NraXAnOiAoKSA9PiBDT05GSUcuRU5WID09PSAndGVzdCcsXG59KTtcblxuZXhwb3J0IHtcbiAgICBMb2dnZXJNaWRkbGV3YXJlLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "logger.middleware.js"
      ],
      "names": [
        "LoggerMiddleware",
        "on",
        "line",
        "logger",
        "info",
        "CONFIG",
        "ENV"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,qBAAO,UAAP,EAAmB;AACxC,YAAU,sBAAQC,EAAR,CAAW,MAAX,EAAoBC,IAAD,IAAU;AACnCC,oBAAOC,IAAP,CAAYF,IAAZ;AACH,GAFS,CAD8B;AAIxC,UAAQ,MAAMG,eAAOC,GAAP,KAAe;AAJW,CAAnB,CAAzB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "sourcesContent": [
        "'use strict';\n\nimport morgan from 'morgan';\nimport split from 'split';\nimport logger from '../logger';\nimport { CONFIG } from '../config';\n\nconst LoggerMiddleware = morgan('combined', {\n    'stream': split().on('data', (line) => {\n        logger.info(line);\n    }),\n    'skip': () => CONFIG.ENV === 'test',\n});\n\nexport {\n    LoggerMiddleware,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/upload-avatar.middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/upload-avatar.middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/upload-avatar.middleware.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/upload-avatar.middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
        "sourceFileName": "upload-avatar.middleware.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UploadAvatarMiddleware = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _v = _interopRequireDefault(require(\"uuid/v1\"));\n\nvar _fsExtra = _interopRequireDefault(require(\"fs-extra\"));\n\nvar _config = require(\"../config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst avatarStorage = _multer.default.diskStorage({\n  destination: _config.CONFIG.UPLOAD_TEMP_PATH,\n  filename: (req, file, done) => {\n    const ext = _path.default.extname(file.originalname.toLowerCase());\n\n    const filename = (0, _v.default)(file.originalname);\n    return done(null, `${filename}${ext}`);\n  }\n});\n\nconst options = {\n  storage: avatarStorage,\n  limits: {\n    fileSize: _config.CONFIG.AVATAR_MAX_FILE_SIZE\n  },\n  fileFilter: (req, file, done) => {\n    const allowedTypes = /jpeg|jpg|png|bmp/;\n    const mimeType = allowedTypes.test(file.mimetype);\n    const extName = allowedTypes.test(_path.default.extname(file.originalname.toLowerCase()));\n\n    if (mimeType && extName) {\n      return done(null, true);\n    } // TODO: handle error\n\n\n    return done(new Error());\n  }\n};\n\n(async () => {\n  try {\n    await _fsExtra.default.ensureDir(`${_config.CONFIG.ROOT_DIR}/${_config.CONFIG.UPLOAD_TEMP_PATH}`);\n    await _fsExtra.default.ensureDir(`${_config.CONFIG.ROOT_DIR}/${_config.CONFIG.AVATAR_UPLOAD_PATH}`);\n  } catch (err) {\n    throw new Error(err);\n  }\n})();\n\nconst UploadAvatarMiddleware = (0, _multer.default)(options).single('avatar');\nexports.UploadAvatarMiddleware = UploadAvatarMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZC1hdmF0YXIubWlkZGxld2FyZS5qcyJdLCJuYW1lcyI6WyJhdmF0YXJTdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsIkNPTkZJRyIsIlVQTE9BRF9URU1QX1BBVEgiLCJmaWxlbmFtZSIsInJlcSIsImZpbGUiLCJkb25lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJ0b0xvd2VyQ2FzZSIsIm9wdGlvbnMiLCJzdG9yYWdlIiwibGltaXRzIiwiZmlsZVNpemUiLCJBVkFUQVJfTUFYX0ZJTEVfU0laRSIsImZpbGVGaWx0ZXIiLCJhbGxvd2VkVHlwZXMiLCJtaW1lVHlwZSIsInRlc3QiLCJtaW1ldHlwZSIsImV4dE5hbWUiLCJFcnJvciIsImZzIiwiZW5zdXJlRGlyIiwiUk9PVF9ESVIiLCJBVkFUQVJfVVBMT0FEX1BBVEgiLCJlcnIiLCJVcGxvYWRBdmF0YXJNaWRkbGV3YXJlIiwic2luZ2xlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUNyQ0MsRUFBQUEsV0FBVyxFQUFFQyxlQUFPQyxnQkFEaUI7QUFFckNDLEVBQUFBLFFBQVEsRUFBRSxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsSUFBWixLQUFxQjtBQUMzQixVQUFNQyxHQUFHLEdBQUdDLGNBQUtDLE9BQUwsQ0FBYUosSUFBSSxDQUFDSyxZQUFMLENBQWtCQyxXQUFsQixFQUFiLENBQVo7O0FBQ0EsVUFBTVIsUUFBUSxHQUFHLGdCQUFPRSxJQUFJLENBQUNLLFlBQVosQ0FBakI7QUFDQSxXQUFPSixJQUFJLENBQUMsSUFBRCxFQUFRLEdBQUVILFFBQVMsR0FBRUksR0FBSSxFQUF6QixDQUFYO0FBQ0g7QUFOb0MsQ0FBbkIsQ0FBdEI7O0FBU0EsTUFBTUssT0FBTyxHQUFHO0FBQ1pDLEVBQUFBLE9BQU8sRUFBRWhCLGFBREc7QUFFWmlCLEVBQUFBLE1BQU0sRUFBRTtBQUNKQyxJQUFBQSxRQUFRLEVBQUVkLGVBQU9lO0FBRGIsR0FGSTtBQUtaQyxFQUFBQSxVQUFVLEVBQUUsQ0FBQ2IsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLElBQVosS0FBcUI7QUFDN0IsVUFBTVksWUFBWSxHQUFHLGtCQUFyQjtBQUVBLFVBQU1DLFFBQVEsR0FBR0QsWUFBWSxDQUFDRSxJQUFiLENBQWtCZixJQUFJLENBQUNnQixRQUF2QixDQUFqQjtBQUVBLFVBQU1DLE9BQU8sR0FBR0osWUFBWSxDQUFDRSxJQUFiLENBQ1paLGNBQUtDLE9BQUwsQ0FBYUosSUFBSSxDQUFDSyxZQUFMLENBQWtCQyxXQUFsQixFQUFiLENBRFksQ0FBaEI7O0FBSUEsUUFBSVEsUUFBUSxJQUFJRyxPQUFoQixFQUF5QjtBQUNyQixhQUFPaEIsSUFBSSxDQUFDLElBQUQsRUFBTyxJQUFQLENBQVg7QUFDSCxLQVg0QixDQWE3Qjs7O0FBQ0EsV0FBT0EsSUFBSSxDQUFDLElBQUlpQixLQUFKLEVBQUQsQ0FBWDtBQUNIO0FBcEJXLENBQWhCOztBQXVCQSxDQUFDLFlBQVk7QUFDVCxNQUFJO0FBQ0EsVUFBTUMsaUJBQUdDLFNBQUgsQ0FBYyxHQUFFeEIsZUFBT3lCLFFBQVMsSUFBR3pCLGVBQU9DLGdCQUFpQixFQUEzRCxDQUFOO0FBQ0EsVUFBTXNCLGlCQUFHQyxTQUFILENBQWMsR0FBRXhCLGVBQU95QixRQUFTLElBQUd6QixlQUFPMEIsa0JBQW1CLEVBQTdELENBQU47QUFDSCxHQUhELENBR0UsT0FBT0MsR0FBUCxFQUFZO0FBQ1YsVUFBTSxJQUFJTCxLQUFKLENBQVVLLEdBQVYsQ0FBTjtBQUNIO0FBQ0osQ0FQRDs7QUFTTyxNQUFNQyxzQkFBc0IsR0FBRyxxQkFBT2pCLE9BQVAsRUFBZ0JrQixNQUFoQixDQUF1QixRQUF2QixDQUEvQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHV1aWR2MSBmcm9tICd1dWlkL3YxJztcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jb25zdCBhdmF0YXJTdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbjogQ09ORklHLlVQTE9BRF9URU1QX1BBVEgsXG4gICAgZmlsZW5hbWU6IChyZXEsIGZpbGUsIGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgZXh0ID0gcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHV1aWR2MShmaWxlLm9yaWdpbmFsbmFtZSk7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsIGAke2ZpbGVuYW1lfSR7ZXh0fWApO1xuICAgIH0sXG59KTtcblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBzdG9yYWdlOiBhdmF0YXJTdG9yYWdlLFxuICAgIGxpbWl0czoge1xuICAgICAgICBmaWxlU2l6ZTogQ09ORklHLkFWQVRBUl9NQVhfRklMRV9TSVpFLFxuICAgIH0sXG4gICAgZmlsZUZpbHRlcjogKHJlcSwgZmlsZSwgZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCBhbGxvd2VkVHlwZXMgPSAvanBlZ3xqcGd8cG5nfGJtcC87XG5cbiAgICAgICAgY29uc3QgbWltZVR5cGUgPSBhbGxvd2VkVHlwZXMudGVzdChmaWxlLm1pbWV0eXBlKTtcblxuICAgICAgICBjb25zdCBleHROYW1lID0gYWxsb3dlZFR5cGVzLnRlc3QoXG4gICAgICAgICAgICBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUudG9Mb3dlckNhc2UoKSksXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKG1pbWVUeXBlICYmIGV4dE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yXG4gICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcigpKTtcbiAgICB9LFxufTtcblxuKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoYCR7Q09ORklHLlJPT1RfRElSfS8ke0NPTkZJRy5VUExPQURfVEVNUF9QQVRIfWApO1xuICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoYCR7Q09ORklHLlJPT1RfRElSfS8ke0NPTkZJRy5BVkFUQVJfVVBMT0FEX1BBVEh9YCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbn0pKCk7XG5cbmV4cG9ydCBjb25zdCBVcGxvYWRBdmF0YXJNaWRkbGV3YXJlID0gbXVsdGVyKG9wdGlvbnMpLnNpbmdsZSgnYXZhdGFyJyk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "upload-avatar.middleware.js"
      ],
      "names": [
        "avatarStorage",
        "multer",
        "diskStorage",
        "destination",
        "CONFIG",
        "UPLOAD_TEMP_PATH",
        "filename",
        "req",
        "file",
        "done",
        "ext",
        "path",
        "extname",
        "originalname",
        "toLowerCase",
        "options",
        "storage",
        "limits",
        "fileSize",
        "AVATAR_MAX_FILE_SIZE",
        "fileFilter",
        "allowedTypes",
        "mimeType",
        "test",
        "mimetype",
        "extName",
        "Error",
        "fs",
        "ensureDir",
        "ROOT_DIR",
        "AVATAR_UPLOAD_PATH",
        "err",
        "UploadAvatarMiddleware",
        "single"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAGC,gBAAOC,WAAP,CAAmB;AACrCC,EAAAA,WAAW,EAAEC,eAAOC,gBADiB;AAErCC,EAAAA,QAAQ,EAAE,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAC3B,UAAMC,GAAG,GAAGC,cAAKC,OAAL,CAAaJ,IAAI,CAACK,YAAL,CAAkBC,WAAlB,EAAb,CAAZ;;AACA,UAAMR,QAAQ,GAAG,gBAAOE,IAAI,CAACK,YAAZ,CAAjB;AACA,WAAOJ,IAAI,CAAC,IAAD,EAAQ,GAAEH,QAAS,GAAEI,GAAI,EAAzB,CAAX;AACH;AANoC,CAAnB,CAAtB;;AASA,MAAMK,OAAO,GAAG;AACZC,EAAAA,OAAO,EAAEhB,aADG;AAEZiB,EAAAA,MAAM,EAAE;AACJC,IAAAA,QAAQ,EAAEd,eAAOe;AADb,GAFI;AAKZC,EAAAA,UAAU,EAAE,CAACb,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAC7B,UAAMY,YAAY,GAAG,kBAArB;AAEA,UAAMC,QAAQ,GAAGD,YAAY,CAACE,IAAb,CAAkBf,IAAI,CAACgB,QAAvB,CAAjB;AAEA,UAAMC,OAAO,GAAGJ,YAAY,CAACE,IAAb,CACZZ,cAAKC,OAAL,CAAaJ,IAAI,CAACK,YAAL,CAAkBC,WAAlB,EAAb,CADY,CAAhB;;AAIA,QAAIQ,QAAQ,IAAIG,OAAhB,EAAyB;AACrB,aAAOhB,IAAI,CAAC,IAAD,EAAO,IAAP,CAAX;AACH,KAX4B,CAa7B;;;AACA,WAAOA,IAAI,CAAC,IAAIiB,KAAJ,EAAD,CAAX;AACH;AApBW,CAAhB;;AAuBA,CAAC,YAAY;AACT,MAAI;AACA,UAAMC,iBAAGC,SAAH,CAAc,GAAExB,eAAOyB,QAAS,IAAGzB,eAAOC,gBAAiB,EAA3D,CAAN;AACA,UAAMsB,iBAAGC,SAAH,CAAc,GAAExB,eAAOyB,QAAS,IAAGzB,eAAO0B,kBAAmB,EAA7D,CAAN;AACH,GAHD,CAGE,OAAOC,GAAP,EAAY;AACV,UAAM,IAAIL,KAAJ,CAAUK,GAAV,CAAN;AACH;AACJ,CAPD;;AASO,MAAMC,sBAAsB,GAAG,qBAAOjB,OAAP,EAAgBkB,MAAhB,CAAuB,QAAvB,CAA/B",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "sourcesContent": [
        "'use strict';\n\nimport multer from 'multer';\nimport path from 'path';\nimport uuidv1 from 'uuid/v1';\nimport fs from 'fs-extra';\nimport { CONFIG } from '../config';\n\nconst avatarStorage = multer.diskStorage({\n    destination: CONFIG.UPLOAD_TEMP_PATH,\n    filename: (req, file, done) => {\n        const ext = path.extname(file.originalname.toLowerCase());\n        const filename = uuidv1(file.originalname);\n        return done(null, `${filename}${ext}`);\n    },\n});\n\nconst options = {\n    storage: avatarStorage,\n    limits: {\n        fileSize: CONFIG.AVATAR_MAX_FILE_SIZE,\n    },\n    fileFilter: (req, file, done) => {\n        const allowedTypes = /jpeg|jpg|png|bmp/;\n\n        const mimeType = allowedTypes.test(file.mimetype);\n\n        const extName = allowedTypes.test(\n            path.extname(file.originalname.toLowerCase()),\n        );\n\n        if (mimeType && extName) {\n            return done(null, true);\n        }\n\n        // TODO: handle error\n        return done(new Error());\n    },\n};\n\n(async () => {\n    try {\n        await fs.ensureDir(`${CONFIG.ROOT_DIR}/${CONFIG.UPLOAD_TEMP_PATH}`);\n        await fs.ensureDir(`${CONFIG.ROOT_DIR}/${CONFIG.AVATAR_UPLOAD_PATH}`);\n    } catch (err) {\n        throw new Error(err);\n    }\n})();\n\nexport const UploadAvatarMiddleware = multer(options).single('avatar');\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/user-create.middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/user-create.middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/user-create.middleware.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware/user-create.middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
        "sourceFileName": "user-create.middleware.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserCreateMiddleware = void 0;\n\nvar _check = require(\"express-validator/check\");\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nconst UserCreateMiddleware = () => {\n  return (0, _check.checkSchema)({\n    name: {\n      trim: true,\n      custom: {\n        options: value => {\n          return !(0, _lodash.isEmpty)(value);\n        }\n      },\n      errorMessage: 'REQUIRED'\n    },\n    email: {\n      isEmail: true,\n      normalizeEmail: true\n    },\n    password: {\n      isLength: {\n        options: {\n          min: 6\n        }\n      }\n    },\n    role: {\n      in: {\n        options: {}\n      }\n    }\n  });\n};\n\nexports.UserCreateMiddleware = UserCreateMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItY3JlYXRlLm1pZGRsZXdhcmUuanMiXSwibmFtZXMiOlsiVXNlckNyZWF0ZU1pZGRsZXdhcmUiLCJuYW1lIiwidHJpbSIsImN1c3RvbSIsIm9wdGlvbnMiLCJ2YWx1ZSIsImVycm9yTWVzc2FnZSIsImVtYWlsIiwiaXNFbWFpbCIsIm5vcm1hbGl6ZUVtYWlsIiwicGFzc3dvcmQiLCJpc0xlbmd0aCIsIm1pbiIsInJvbGUiLCJpbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFTyxNQUFNQSxvQkFBb0IsR0FBRyxNQUFNO0FBQ3RDLFNBQU8sd0JBQVk7QUFDZkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLElBQUksRUFBRSxJQURKO0FBRUZDLE1BQUFBLE1BQU0sRUFBRTtBQUNKQyxRQUFBQSxPQUFPLEVBQUdDLEtBQUQsSUFBVztBQUNoQixpQkFBTyxDQUFDLHFCQUFRQSxLQUFSLENBQVI7QUFDSDtBQUhHLE9BRk47QUFPRkMsTUFBQUEsWUFBWSxFQUFFO0FBUFosS0FEUztBQVVmQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEMsTUFBQUEsT0FBTyxFQUFFLElBRE47QUFFSEMsTUFBQUEsY0FBYyxFQUFFO0FBRmIsS0FWUTtBQWNmQyxJQUFBQSxRQUFRLEVBQUU7QUFDTkMsTUFBQUEsUUFBUSxFQUFFO0FBQ05QLFFBQUFBLE9BQU8sRUFBRTtBQUNMUSxVQUFBQSxHQUFHLEVBQUU7QUFEQTtBQURIO0FBREosS0FkSztBQXFCZkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEVBQUUsRUFBRTtBQUNBVixRQUFBQSxPQUFPLEVBQUU7QUFEVDtBQURGO0FBckJTLEdBQVosQ0FBUDtBQTZCSCxDQTlCTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGNoZWNrU2NoZW1hIH0gZnJvbSAnZXhwcmVzcy12YWxpZGF0b3IvY2hlY2snO1xuaW1wb3J0IHsgaXNFbXB0eSwgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFJPTEUgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmV4cG9ydCBjb25zdCBVc2VyQ3JlYXRlTWlkZGxld2FyZSA9ICgpID0+IHtcbiAgICByZXR1cm4gY2hlY2tTY2hlbWEoe1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICAgICAgY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNFbXB0eSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdSRVFVSVJFRCcsXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICBpc0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgbm9ybWFsaXplRW1haWw6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgICAgICBpc0xlbmd0aDoge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiA2LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByb2xlOiB7XG4gICAgICAgICAgICBpbjoge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user-create.middleware.js"
      ],
      "names": [
        "UserCreateMiddleware",
        "name",
        "trim",
        "custom",
        "options",
        "value",
        "errorMessage",
        "email",
        "isEmail",
        "normalizeEmail",
        "password",
        "isLength",
        "min",
        "role",
        "in"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AAEO,MAAMA,oBAAoB,GAAG,MAAM;AACtC,SAAO,wBAAY;AACfC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,IADJ;AAEFC,MAAAA,MAAM,EAAE;AACJC,QAAAA,OAAO,EAAGC,KAAD,IAAW;AAChB,iBAAO,CAAC,qBAAQA,KAAR,CAAR;AACH;AAHG,OAFN;AAOFC,MAAAA,YAAY,EAAE;AAPZ,KADS;AAUfC,IAAAA,KAAK,EAAE;AACHC,MAAAA,OAAO,EAAE,IADN;AAEHC,MAAAA,cAAc,EAAE;AAFb,KAVQ;AAcfC,IAAAA,QAAQ,EAAE;AACNC,MAAAA,QAAQ,EAAE;AACNP,QAAAA,OAAO,EAAE;AACLQ,UAAAA,GAAG,EAAE;AADA;AADH;AADJ,KAdK;AAqBfC,IAAAA,IAAI,EAAE;AACFC,MAAAA,EAAE,EAAE;AACAV,QAAAA,OAAO,EAAE;AADT;AADF;AArBS,GAAZ,CAAP;AA6BH,CA9BM",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/middleware",
      "sourcesContent": [
        "'use strict';\n\nimport { checkSchema } from 'express-validator/check';\nimport { isEmpty, values } from 'lodash';\nimport { ROLE } from '../enums';\n\nexport const UserCreateMiddleware = () => {\n    return checkSchema({\n        name: {\n            trim: true,\n            custom: {\n                options: (value) => {\n                    return !isEmpty(value);\n                },\n            },\n            errorMessage: 'REQUIRED',\n        },\n        email: {\n            isEmail: true,\n            normalizeEmail: true,\n        },\n        password: {\n            isLength: {\n                options: {\n                    min: 6,\n                },\n            },\n        },\n        role: {\n            in: {\n                options: {\n\n                }\n            },\n        },\n    });\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"AuthController\", {\n  enumerable: true,\n  get: function () {\n    return _auth.AuthController;\n  }\n});\nObject.defineProperty(exports, \"MeController\", {\n  enumerable: true,\n  get: function () {\n    return _me.MeController;\n  }\n});\nObject.defineProperty(exports, \"UserController\", {\n  enumerable: true,\n  get: function () {\n    return _user.UserController;\n  }\n});\nObject.defineProperty(exports, \"AvatarController\", {\n  enumerable: true,\n  get: function () {\n    return _avatar.AvatarController;\n  }\n});\nObject.defineProperty(exports, \"WarehouseController\", {\n  enumerable: true,\n  get: function () {\n    return _warehouse.WarehouseController;\n  }\n});\nObject.defineProperty(exports, \"PurchaseOrderController\", {\n  enumerable: true,\n  get: function () {\n    return _purchaseOrder.PurchaseOrderController;\n  }\n});\nObject.defineProperty(exports, \"ProductController\", {\n  enumerable: true,\n  get: function () {\n    return _product.ProductController;\n  }\n});\n\nvar _auth = require(\"./auth.controller\");\n\nvar _me = require(\"./me.controller\");\n\nvar _user = require(\"./user.controller\");\n\nvar _avatar = require(\"./avatar.controller\");\n\nvar _warehouse = require(\"./warehouse.controller\");\n\nvar _purchaseOrder = require(\"./purchase-order.controller\");\n\nvar _product = require(\"./product.controller\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgeyBBdXRoQ29udHJvbGxlciB9IGZyb20gJy4vYXV0aC5jb250cm9sbGVyJztcbmV4cG9ydCB7IE1lQ29udHJvbGxlciB9IGZyb20gJy4vbWUuY29udHJvbGxlcic7XG5leHBvcnQgeyBVc2VyQ29udHJvbGxlciB9IGZyb20gJy4vdXNlci5jb250cm9sbGVyJztcbmV4cG9ydCB7IEF2YXRhckNvbnRyb2xsZXIgfSBmcm9tICcuL2F2YXRhci5jb250cm9sbGVyJztcbmV4cG9ydCB7IFdhcmVob3VzZUNvbnRyb2xsZXIgfSBmcm9tICcuL3dhcmVob3VzZS5jb250cm9sbGVyJztcbmV4cG9ydCB7IFB1cmNoYXNlT3JkZXJDb250cm9sbGVyIH0gZnJvbSAnLi9wdXJjaGFzZS1vcmRlci5jb250cm9sbGVyJztcbmV4cG9ydCB7IFByb2R1Y3RDb250cm9sbGVyIH0gZnJvbSAnLi9wcm9kdWN0LmNvbnRyb2xsZXInO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nexport { AuthController } from './auth.controller';\nexport { MeController } from './me.controller';\nexport { UserController } from './user.controller';\nexport { AvatarController } from './avatar.controller';\nexport { WarehouseController } from './warehouse.controller';\nexport { PurchaseOrderController } from './purchase-order.controller';\nexport { ProductController } from './product.controller';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/auth.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/auth.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/auth.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/auth.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "auth.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _throw = require(\"throw.js\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nasync function login(req, res, next) {\n  return _passport.default.authenticate('local', {\n    session: false\n  }, function authenticate(err, user) {\n    if (err || false === user) {\n      return next(new _throw.BadRequest());\n    }\n\n    const accessToken = user.generateJWT();\n    const data = {\n      access_token: accessToken\n    };\n    return res.json(data);\n  })(req, res, next);\n}\n\nconst AuthController = {\n  login\n};\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJsb2dpbiIsInJlcSIsInJlcyIsIm5leHQiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJlcnIiLCJ1c2VyIiwiQmFkUmVxdWVzdCIsImFjY2Vzc1Rva2VuIiwiZ2VuZXJhdGVKV1QiLCJkYXRhIiwiYWNjZXNzX3Rva2VuIiwianNvbiIsIkF1dGhDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOzs7O0FBRUEsZUFBZUEsS0FBZixDQUFxQkMsR0FBckIsRUFBMEJDLEdBQTFCLEVBQStCQyxJQUEvQixFQUFxQztBQUNqQyxTQUFPQyxrQkFBU0MsWUFBVCxDQUFzQixPQUF0QixFQUErQjtBQUFFQyxJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUEvQixFQUNILFNBQVNELFlBQVQsQ0FBc0JFLEdBQXRCLEVBQTJCQyxJQUEzQixFQUFpQztBQUU3QixRQUFJRCxHQUFHLElBQUksVUFBVUMsSUFBckIsRUFBMkI7QUFDdkIsYUFBT0wsSUFBSSxDQUFDLElBQUlNLGlCQUFKLEVBQUQsQ0FBWDtBQUNIOztBQUVELFVBQU1DLFdBQVcsR0FBR0YsSUFBSSxDQUFDRyxXQUFMLEVBQXBCO0FBRUEsVUFBTUMsSUFBSSxHQUFHO0FBQ1RDLE1BQUFBLFlBQVksRUFBRUg7QUFETCxLQUFiO0FBSUEsV0FBT1IsR0FBRyxDQUFDWSxJQUFKLENBQVNGLElBQVQsQ0FBUDtBQUNILEdBZEUsRUFjQVgsR0FkQSxFQWNLQyxHQWRMLEVBY1VDLElBZFYsQ0FBUDtBQWVIOztBQUVELE1BQU1ZLGNBQWMsR0FBRztBQUNuQmYsRUFBQUE7QUFEbUIsQ0FBdkIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYy9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgQmFkUmVxdWVzdCB9IGZyb20gJ3Rocm93LmpzJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5cbmFzeW5jIGZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmV0dXJuIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9jYWwnLCB7IHNlc3Npb246IGZhbHNlIH0sXG4gICAgICAgIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShlcnIsIHVzZXIpIHtcblxuICAgICAgICAgICAgaWYgKGVyciB8fCBmYWxzZSA9PT0gdXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KG5ldyBCYWRSZXF1ZXN0KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHVzZXIuZ2VuZXJhdGVKV1QoKTtcblxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGRhdGEpO1xuICAgICAgICB9KShyZXEsIHJlcywgbmV4dCk7XG59XG5cbmNvbnN0IEF1dGhDb250cm9sbGVyID0ge1xuICAgIGxvZ2luLFxufTtcblxuZXhwb3J0IHtcbiAgICBBdXRoQ29udHJvbGxlcixcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth.controller.js"
      ],
      "names": [
        "login",
        "req",
        "res",
        "next",
        "passport",
        "authenticate",
        "session",
        "err",
        "user",
        "BadRequest",
        "accessToken",
        "generateJWT",
        "data",
        "access_token",
        "json",
        "AuthController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;;;AAEA,eAAeA,KAAf,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACjC,SAAOC,kBAASC,YAAT,CAAsB,OAAtB,EAA+B;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAA/B,EACH,SAASD,YAAT,CAAsBE,GAAtB,EAA2BC,IAA3B,EAAiC;AAE7B,QAAID,GAAG,IAAI,UAAUC,IAArB,EAA2B;AACvB,aAAOL,IAAI,CAAC,IAAIM,iBAAJ,EAAD,CAAX;AACH;;AAED,UAAMC,WAAW,GAAGF,IAAI,CAACG,WAAL,EAApB;AAEA,UAAMC,IAAI,GAAG;AACTC,MAAAA,YAAY,EAAEH;AADL,KAAb;AAIA,WAAOR,GAAG,CAACY,IAAJ,CAASF,IAAT,CAAP;AACH,GAdE,EAcAX,GAdA,EAcKC,GAdL,EAcUC,IAdV,CAAP;AAeH;;AAED,MAAMY,cAAc,GAAG;AACnBf,EAAAA;AADmB,CAAvB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { BadRequest } from 'throw.js';\nimport passport from 'passport';\n\nasync function login(req, res, next) {\n    return passport.authenticate('local', { session: false },\n        function authenticate(err, user) {\n\n            if (err || false === user) {\n                return next(new BadRequest());\n            }\n\n            const accessToken = user.generateJWT();\n\n            const data = {\n                access_token: accessToken,\n            };\n\n            return res.json(data);\n        })(req, res, next);\n}\n\nconst AuthController = {\n    login,\n};\n\nexport {\n    AuthController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/me.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/me.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/me.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/me.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "me.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MeController = void 0;\n\nvar _lodash = require(\"lodash\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nasync function profile(req, res, next) {\n  const {\n    User\n  } = req.app.get('models');\n  const id = (0, _lodash.get)(req, 'user');\n\n  if (!id) {\n    // TODO: handle error\n    return next('404');\n  }\n\n  try {\n    const user = await User.findById(id).populate('warehouseId'); // TODO: check if user is exists\n\n    return res.json(user);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function changeProfile(req, res, next) {\n  const {\n    User\n  } = req.app.get('models');\n  const currentUser = req.user;\n\n  try {\n    const user = await User.findById(currentUser.id);\n\n    if (!user) {\n      // TODO: handle error\n      return next(new Error());\n    }\n\n    const data = (0, _lodash.pick)(req.body, ['name', 'email', 'password', 'gender']);\n\n    if ((0, _lodash.isEmpty)(data.password)) {\n      delete data.password;\n    }\n\n    user.set(_objectSpread({}, data));\n    await user.save();\n    return res.json(user);\n  } catch (err) {\n    return next(err);\n  }\n}\n\nconst MeController = {\n  profile,\n  changeProfile\n};\nexports.MeController = MeController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsicHJvZmlsZSIsInJlcSIsInJlcyIsIm5leHQiLCJVc2VyIiwiYXBwIiwiZ2V0IiwiaWQiLCJ1c2VyIiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsImpzb24iLCJlcnIiLCJjaGFuZ2VQcm9maWxlIiwiY3VycmVudFVzZXIiLCJFcnJvciIsImRhdGEiLCJib2R5IiwicGFzc3dvcmQiLCJzZXQiLCJzYXZlIiwiTWVDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOzs7Ozs7QUFFQSxlQUFlQSxPQUFmLENBQXVCQyxHQUF2QixFQUE0QkMsR0FBNUIsRUFBaUNDLElBQWpDLEVBQXVDO0FBQ25DLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFXSCxHQUFHLENBQUNJLEdBQUosQ0FBUUMsR0FBUixDQUFZLFFBQVosQ0FBakI7QUFDQSxRQUFNQyxFQUFFLEdBQUcsaUJBQUlOLEdBQUosRUFBUyxNQUFULENBQVg7O0FBRUEsTUFBSSxDQUFDTSxFQUFMLEVBQVM7QUFDTDtBQUNBLFdBQU9KLElBQUksQ0FBQyxLQUFELENBQVg7QUFDSDs7QUFFRCxNQUFJO0FBQ0EsVUFBTUssSUFBSSxHQUFHLE1BQU1KLElBQUksQ0FDbEJLLFFBRGMsQ0FDTEYsRUFESyxFQUVkRyxRQUZjLENBRUwsYUFGSyxDQUFuQixDQURBLENBS0E7O0FBRUEsV0FBT1IsR0FBRyxDQUFDUyxJQUFKLENBQVNILElBQVQsQ0FBUDtBQUNILEdBUkQsQ0FRRSxPQUFPSSxHQUFQLEVBQVk7QUFDVjtBQUNBLFdBQU9ULElBQUksQ0FBQ1MsR0FBRCxDQUFYO0FBQ0g7QUFDSjs7QUFFRCxlQUFlQyxhQUFmLENBQTZCWixHQUE3QixFQUFrQ0MsR0FBbEMsRUFBdUNDLElBQXZDLEVBQTZDO0FBQ3pDLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFXSCxHQUFHLENBQUNJLEdBQUosQ0FBUUMsR0FBUixDQUFZLFFBQVosQ0FBakI7QUFDQSxRQUFNUSxXQUFXLEdBQUdiLEdBQUcsQ0FBQ08sSUFBeEI7O0FBRUEsTUFBSTtBQUNBLFVBQU1BLElBQUksR0FBRyxNQUFNSixJQUFJLENBQUNLLFFBQUwsQ0FBY0ssV0FBVyxDQUFDUCxFQUExQixDQUFuQjs7QUFFQSxRQUFJLENBQUNDLElBQUwsRUFBVztBQUNQO0FBQ0EsYUFBT0wsSUFBSSxDQUFDLElBQUlZLEtBQUosRUFBRCxDQUFYO0FBQ0g7O0FBRUQsVUFBTUMsSUFBSSxHQUFHLGtCQUFLZixHQUFHLENBQUNnQixJQUFULEVBQWUsQ0FDeEIsTUFEd0IsRUFFeEIsT0FGd0IsRUFHeEIsVUFId0IsRUFJeEIsUUFKd0IsQ0FBZixDQUFiOztBQU9BLFFBQUkscUJBQVFELElBQUksQ0FBQ0UsUUFBYixDQUFKLEVBQTRCO0FBQ3hCLGFBQU9GLElBQUksQ0FBQ0UsUUFBWjtBQUNIOztBQUVEVixJQUFBQSxJQUFJLENBQUNXLEdBQUwsbUJBQWFILElBQWI7QUFFQSxVQUFNUixJQUFJLENBQUNZLElBQUwsRUFBTjtBQUVBLFdBQU9sQixHQUFHLENBQUNTLElBQUosQ0FBU0gsSUFBVCxDQUFQO0FBQ0gsR0F4QkQsQ0F3QkUsT0FBT0ksR0FBUCxFQUFZO0FBQ1YsV0FBT1QsSUFBSSxDQUFDUyxHQUFELENBQVg7QUFDSDtBQUNKOztBQUVELE1BQU1TLFlBQVksR0FBRztBQUNqQnJCLEVBQUFBLE9BRGlCO0FBRWpCYSxFQUFBQTtBQUZpQixDQUFyQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBnZXQsIHBpY2ssIGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnO1xuXG5hc3luYyBmdW5jdGlvbiBwcm9maWxlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBVc2VyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG4gICAgY29uc3QgaWQgPSBnZXQocmVxLCAndXNlcicpO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQoJzQwNCcpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyXG4gICAgICAgICAgICAuZmluZEJ5SWQoaWQpXG4gICAgICAgICAgICAucG9wdWxhdGUoJ3dhcmVob3VzZUlkJyk7XG5cbiAgICAgICAgLy8gVE9ETzogY2hlY2sgaWYgdXNlciBpcyBleGlzdHNcblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvclxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY2hhbmdlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHsgVXNlciB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gcmVxLnVzZXI7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChjdXJyZW50VXNlci5pZCk7XG5cbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBuZXh0KG5ldyBFcnJvcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBwaWNrKHJlcS5ib2R5LCBbXG4gICAgICAgICAgICAnbmFtZScsXG4gICAgICAgICAgICAnZW1haWwnLFxuICAgICAgICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICAgICAgICdnZW5kZXInLFxuICAgICAgICBdKTtcblxuICAgICAgICBpZiAoaXNFbXB0eShkYXRhLnBhc3N3b3JkKSkge1xuICAgICAgICAgICAgZGVsZXRlIGRhdGEucGFzc3dvcmQ7XG4gICAgICAgIH1cblxuICAgICAgICB1c2VyLnNldCh7Li4uZGF0YX0pO1xuXG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih1c2VyKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmNvbnN0IE1lQ29udHJvbGxlciA9IHtcbiAgICBwcm9maWxlLFxuICAgIGNoYW5nZVByb2ZpbGUsXG59O1xuXG5leHBvcnQge1xuICAgIE1lQ29udHJvbGxlcixcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "me.controller.js"
      ],
      "names": [
        "profile",
        "req",
        "res",
        "next",
        "User",
        "app",
        "get",
        "id",
        "user",
        "findById",
        "populate",
        "json",
        "err",
        "changeProfile",
        "currentUser",
        "Error",
        "data",
        "body",
        "password",
        "set",
        "save",
        "MeController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;;;;;AAEA,eAAeA,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuC;AACnC,QAAM;AAAEC,IAAAA;AAAF,MAAWH,GAAG,CAACI,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;AACA,QAAMC,EAAE,GAAG,iBAAIN,GAAJ,EAAS,MAAT,CAAX;;AAEA,MAAI,CAACM,EAAL,EAAS;AACL;AACA,WAAOJ,IAAI,CAAC,KAAD,CAAX;AACH;;AAED,MAAI;AACA,UAAMK,IAAI,GAAG,MAAMJ,IAAI,CAClBK,QADc,CACLF,EADK,EAEdG,QAFc,CAEL,aAFK,CAAnB,CADA,CAKA;;AAEA,WAAOR,GAAG,CAACS,IAAJ,CAASH,IAAT,CAAP;AACH,GARD,CAQE,OAAOI,GAAP,EAAY;AACV;AACA,WAAOT,IAAI,CAACS,GAAD,CAAX;AACH;AACJ;;AAED,eAAeC,aAAf,CAA6BZ,GAA7B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAAWH,GAAG,CAACI,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;AACA,QAAMQ,WAAW,GAAGb,GAAG,CAACO,IAAxB;;AAEA,MAAI;AACA,UAAMA,IAAI,GAAG,MAAMJ,IAAI,CAACK,QAAL,CAAcK,WAAW,CAACP,EAA1B,CAAnB;;AAEA,QAAI,CAACC,IAAL,EAAW;AACP;AACA,aAAOL,IAAI,CAAC,IAAIY,KAAJ,EAAD,CAAX;AACH;;AAED,UAAMC,IAAI,GAAG,kBAAKf,GAAG,CAACgB,IAAT,EAAe,CACxB,MADwB,EAExB,OAFwB,EAGxB,UAHwB,EAIxB,QAJwB,CAAf,CAAb;;AAOA,QAAI,qBAAQD,IAAI,CAACE,QAAb,CAAJ,EAA4B;AACxB,aAAOF,IAAI,CAACE,QAAZ;AACH;;AAEDV,IAAAA,IAAI,CAACW,GAAL,mBAAaH,IAAb;AAEA,UAAMR,IAAI,CAACY,IAAL,EAAN;AAEA,WAAOlB,GAAG,CAACS,IAAJ,CAASH,IAAT,CAAP;AACH,GAxBD,CAwBE,OAAOI,GAAP,EAAY;AACV,WAAOT,IAAI,CAACS,GAAD,CAAX;AACH;AACJ;;AAED,MAAMS,YAAY,GAAG;AACjBrB,EAAAA,OADiB;AAEjBa,EAAAA;AAFiB,CAArB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { get, pick, isEmpty } from 'lodash';\n\nasync function profile(req, res, next) {\n    const { User } = req.app.get('models');\n    const id = get(req, 'user');\n\n    if (!id) {\n        // TODO: handle error\n        return next('404');\n    }\n\n    try {\n        const user = await User\n            .findById(id)\n            .populate('warehouseId');\n\n        // TODO: check if user is exists\n\n        return res.json(user);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function changeProfile(req, res, next) {\n    const { User } = req.app.get('models');\n    const currentUser = req.user;\n\n    try {\n        const user = await User.findById(currentUser.id);\n\n        if (!user) {\n            // TODO: handle error\n            return next(new Error());\n        }\n\n        const data = pick(req.body, [\n            'name',\n            'email',\n            'password',\n            'gender',\n        ]);\n\n        if (isEmpty(data.password)) {\n            delete data.password;\n        }\n\n        user.set({...data});\n\n        await user.save();\n\n        return res.json(user);\n    } catch (err) {\n        return next(err);\n    }\n}\n\nconst MeController = {\n    profile,\n    changeProfile,\n};\n\nexport {\n    MeController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/user.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/user.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/user.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserController = void 0;\n\nvar _throw = require(\"throw.js\");\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nasync function list(req, res, next) {\n  const {\n    User\n  } = req.app.get('models');\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const filter = JSON.parse((0, _lodash.get)(req.query, 'filter', '{}'));\n  const query = {};\n\n  if (filter.username) {\n    query.username = {\n      '$regex': filter.username\n    };\n  }\n\n  const options = {\n    page,\n    limit,\n    populate: (0, _lodash.get)(filter, 'populate', {})\n  };\n\n  try {\n    const results = await User.paginate(query, options);\n    const count = results.totalDocs;\n    const users = results.docs;\n    return res.json({\n      items: users,\n      count\n    });\n  } catch (err) {\n    return next(new _throw.InternalServerError(err));\n  }\n}\n\nasync function create(req, res, next) {\n  const data = req.body;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    if ((0, _lodash.isEmpty)(data.warehouseId)) {\n      delete data.warehouseId;\n    }\n\n    const user = await User.create(data);\n    return res.json(user);\n  } catch (err) {\n    return next(new _throw.UnprocessableEntity(err));\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const data = req.body;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    const user = await User.findById(id);\n\n    if (!user) {\n      return next(new _throw.NotFound());\n    }\n\n    if ((0, _lodash.isEmpty)(data.password)) {\n      delete data.pass;\n    }\n\n    if ((0, _lodash.isEmpty)(data.warehouseId)) {\n      data.warehouseId = null;\n    }\n\n    user.set(_objectSpread({}, data));\n    await user.save();\n    return res.json(user);\n  } catch (err) {\n    return next(new _throw.UnprocessableEntity(err));\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    await User.findByIdAndDelete(id);\n    return res.status(204).json({});\n  } catch (err) {\n    return next(new _throw.InternalServerError());\n  }\n}\n\nasync function findOne(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    const user = await User.findById(id);\n\n    if (!user) {\n      throw new Error('404 user not found');\n    }\n\n    return res.json(user);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nconst UserController = {\n  list,\n  create,\n  update,\n  remove,\n  findOne\n};\nexports.UserController = UserController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJsaXN0IiwicmVxIiwicmVzIiwibmV4dCIsIlVzZXIiLCJhcHAiLCJnZXQiLCJsaW1pdCIsInBhcnNlSW50IiwicXVlcnkiLCJERUZBVUxUX1BBR0VfTElNSVQiLCJwYWdlIiwiZmlsdGVyIiwiSlNPTiIsInBhcnNlIiwidXNlcm5hbWUiLCJvcHRpb25zIiwicG9wdWxhdGUiLCJyZXN1bHRzIiwicGFnaW5hdGUiLCJjb3VudCIsInRvdGFsRG9jcyIsInVzZXJzIiwiZG9jcyIsImpzb24iLCJpdGVtcyIsImVyciIsIkludGVybmFsU2VydmVyRXJyb3IiLCJjcmVhdGUiLCJkYXRhIiwiYm9keSIsIndhcmVob3VzZUlkIiwidXNlciIsIlVucHJvY2Vzc2FibGVFbnRpdHkiLCJ1cGRhdGUiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwiTm90Rm91bmQiLCJwYXNzd29yZCIsInBhc3MiLCJzZXQiLCJzYXZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJmaW5kT25lIiwiRXJyb3IiLCJVc2VyQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFNQTs7QUFDQTs7Ozs7O0FBRUEsZUFBZUEsSUFBZixDQUFvQkMsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQyxRQUFNO0FBQUNDLElBQUFBO0FBQUQsTUFBU0gsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQWY7QUFFQSxRQUFNQyxLQUFLLEdBQUdDLFFBQVEsQ0FBQyxpQkFBSVAsR0FBRyxDQUFDUSxLQUFSLEVBQWUsT0FBZixFQUF3QkMseUJBQXhCLENBQUQsQ0FBdEI7QUFDQSxRQUFNQyxJQUFJLEdBQUdILFFBQVEsQ0FBQyxpQkFBSVAsR0FBRyxDQUFDUSxLQUFSLEVBQWUsTUFBZixFQUF1QixDQUF2QixDQUFELENBQXJCO0FBRUEsUUFBTUcsTUFB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LEdBQUcsQ0FBQ3NCLElBQUosQ0FBU1EsSUFBVCxDQUFQO0FBQ0gsR0FSRCxDQVFFLE9BQU9OLEdBQVAsRUFBWTtBQUNWO0FBQ0EsV0FBT3ZCLElBQUksQ0FBQ3VCLEdBQUQsQ0FBWDtBQUNIO0FBQ0o7O0FBRUQsTUFBTXNCLGNBQWMsR0FBRztBQUNuQmhELEVBQUFBLElBRG1CO0FBRW5CNEIsRUFBQUEsTUFGbUI7QUFHbkJNLEVBQUFBLE1BSG1CO0FBSW5CUyxFQUFBQSxNQUptQjtBQUtuQkcsRUFBQUE7QUFMbUIsQ0FBdkIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZV90YW5fY2FuZy9raG8tYXBpL3NyYy9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtcbiAgICBCYWRSZXF1ZXN0LFxuICAgIE5vdEZvdW5kLFxuICAgIEludGVybmFsU2VydmVyRXJyb3IsXG4gICAgVW5wcm9jZXNzYWJsZUVudGl0eVxufSBmcm9tICd0aHJvdy5qcyc7XG5pbXBvcnQgeyBnZXQsIGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgREVGQVVMVF9QQUdFX0xJTUlUIH0gZnJvbSAnLi4vZW51bXMnO1xuXG5hc3luYyBmdW5jdGlvbiBsaXN0KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3Qge1VzZXJ9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChnZXQocmVxLnF1ZXJ5LCAnbGltaXQnLCBERUZBVUxUX1BBR0VfTElNSVQpKTtcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ3BhZ2UnLCAxKSk7XG5cbiAgICBjb25zdCBmaWx0ZXIgPSBKU09OLnBhcnNlKGdldChyZXEucXVlcnksICdmaWx0ZXInLCAne30nKSk7XG5cbiAgICBjb25zdCBxdWVyeSA9IHt9O1xuXG4gICAgaWYgKGZpbHRlci51c2VybmFtZSkge1xuICAgICAgICBxdWVyeS51c2VybmFtZSA9IHsnJHJlZ2V4JzogZmlsdGVyLnVzZXJuYW1lfTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwYWdlLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgcG9wdWxhdGU6IGdldChmaWx0ZXIsICdwb3B1bGF0ZScsIHt9KSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFVzZXIucGFnaW5hdGUocXVlcnksIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGNvdW50ID0gcmVzdWx0cy50b3RhbERvY3M7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gcmVzdWx0cy5kb2NzO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBpdGVtczogdXNlcnMsXG4gICAgICAgICAgICBjb3VudCxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKGVycikpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHtVc2VyfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGlmIChpc0VtcHR5KGRhdGEud2FyZWhvdXNlSWQpKSB7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS53YXJlaG91c2VJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZShkYXRhKTtcblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5KGVycikpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHtVc2VyfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KG5ldyBOb3RGb3VuZCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0VtcHR5KGRhdGEucGFzc3dvcmQpKSB7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS5wYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRW1wdHkoZGF0YS53YXJlaG91c2VJZCkpIHtcbiAgICAgICAgICAgIGRhdGEud2FyZWhvdXNlSWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdXNlci5zZXQoey4uLmRhdGF9KTtcblxuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5KGVycikpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3Qge1VzZXJ9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgVXNlci5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KS5qc29uKHt9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5leHQobmV3IEludGVybmFsU2VydmVyRXJyb3IoKSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kT25lKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IFVzZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignNDA0IHVzZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvclxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuY29uc3QgVXNlckNvbnRyb2xsZXIgPSB7XG4gICAgbGlzdCxcbiAgICBjcmVhdGUsXG4gICAgdXBkYXRlLFxuICAgIHJlbW92ZSxcbiAgICBmaW5kT25lLFxufTtcblxuZXhwb3J0IHtcbiAgICBVc2VyQ29udHJvbGxlcixcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "list",
        "req",
        "res",
        "next",
        "User",
        "app",
        "get",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "filter",
        "JSON",
        "parse",
        "username",
        "options",
        "populate",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "users",
        "docs",
        "json",
        "items",
        "err",
        "InternalServerError",
        "create",
        "data",
        "body",
        "warehouseId",
        "user",
        "UnprocessableEntity",
        "update",
        "id",
        "params",
        "findById",
        "NotFound",
        "password",
        "pass",
        "set",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "findOne",
        "Error",
        "UserController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport {\n    BadRequest,\n    NotFound,\n    InternalServerError,\n    UnprocessableEntity\n} from 'throw.js';\nimport { get, isEmpty } from 'lodash';\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\n\nasync function list(req, res, next) {\n    const {User} = req.app.get('models');\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const filter = JSON.parse(get(req.query, 'filter', '{}'));\n\n    const query = {};\n\n    if (filter.username) {\n        query.username = {'$regex': filter.username};\n    }\n\n    const options = {\n        page,\n        limit,\n        populate: get(filter, 'populate', {}),\n    };\n\n    try {\n        const results = await User.paginate(query, options);\n\n        const count = results.totalDocs;\n        const users = results.docs;\n\n        return res.json({\n            items: users,\n            count,\n        });\n    } catch (err) {\n        return next(new InternalServerError(err));\n    }\n}\n\nasync function create(req, res, next) {\n    const data = req.body;\n    const {User} = req.app.get('models');\n\n    try {\n        if (isEmpty(data.warehouseId)) {\n            delete data.warehouseId;\n        }\n\n        const user = await User.create(data);\n\n        return res.json(user);\n    } catch (err) {\n        return next(new UnprocessableEntity(err));\n    }\n}\n\nasync function update(req, res, next) {\n    const {id} = req.params;\n    const data = req.body;\n    const {User} = req.app.get('models');\n\n    try {\n        const user = await User.findById(id);\n\n        if (!user) {\n            return next(new NotFound());\n        }\n\n        if (isEmpty(data.password)) {\n            delete data.pass;\n        }\n\n        if (isEmpty(data.warehouseId)) {\n            data.warehouseId = null;\n        }\n\n        user.set({...data});\n\n        await user.save();\n\n        return res.json(user);\n    } catch (err) {\n        return next(new UnprocessableEntity(err));\n    }\n}\n\nasync function remove(req, res, next) {\n    const {id} = req.params;\n    const {User} = req.app.get('models');\n\n    try {\n        await User.findByIdAndDelete(id);\n\n        return res.status(204).json({});\n    } catch (err) {\n        return next(new InternalServerError());\n    }\n}\n\nasync function findOne(req, res, next) {\n    const { id } = req.params;\n    const { User } = req.app.get('models');\n\n    try {\n        const user = await User.findById(id);\n\n        if (!user) {\n            throw new Error('404 user not found');\n        }\n\n        return res.json(user);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nconst UserController = {\n    list,\n    create,\n    update,\n    remove,\n    findOne,\n};\n\nexport {\n    UserController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/avatar.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/avatar.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/avatar.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/avatar.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "avatar.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AvatarController = void 0;\n\nvar _sharp = _interopRequireDefault(require(\"sharp\"));\n\nvar _fsExtra = _interopRequireDefault(require(\"fs-extra\"));\n\nvar _config = require(\"../config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nasync function upload(req, res, next) {\n  const {\n    file\n  } = req;\n\n  if (!file) {\n    // TODO: handle error\n    return next(new Error());\n  }\n\n  const avatarPath = `${_config.CONFIG.AVATAR_UPLOAD_PATH}/${file.filename}`;\n\n  try {\n    // resize, convert to jpg and save to avatar path\n    await (0, _sharp.default)(file.path).resize({\n      width: 200,\n      height: 200,\n      fit: 'cover',\n      position: 'centre'\n    }).toFormat('jpg').toFile(avatarPath); // delete original file\n\n    await _fsExtra.default.remove(file.path);\n    return res.json({\n      filename: file.filename,\n      path: avatarPath\n    });\n  } catch (err) {\n    return next(err);\n  }\n}\n\nconst AvatarController = {\n  upload\n};\nexports.AvatarController = AvatarController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF2YXRhci5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbInVwbG9hZCIsInJlcSIsInJlcyIsIm5leHQiLCJmaWxlIiwiRXJyb3IiLCJhdmF0YXJQYXRoIiwiQ09ORklHIiwiQVZBVEFSX1VQTE9BRF9QQVRIIiwiZmlsZW5hbWUiLCJwYXRoIiwicmVzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJmaXQiLCJwb3NpdGlvbiIsInRvRm9ybWF0IiwidG9GaWxlIiwiZnMiLCJyZW1vdmUiLCJqc29uIiwiZXJyIiwiQXZhdGFyQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQUVBLGVBQWVBLE1BQWYsQ0FBc0JDLEdBQXRCLEVBQTJCQyxHQUEzQixFQUFnQ0MsSUFBaEMsRUFBc0M7QUFFbEMsUUFBTTtBQUFFQyxJQUFBQTtBQUFGLE1BQVdILEdBQWpCOztBQUVBLE1BQUksQ0FBQ0csSUFBTCxFQUFXO0FBQ1A7QUFDQSxXQUFPRCxJQUFJLENBQUMsSUFBSUUsS0FBSixFQUFELENBQVg7QUFDSDs7QUFFRCxRQUFNQyxVQUFVLEdBQUksR0FBRUMsZUFBT0Msa0JBQW1CLElBQUdKLElBQUksQ0FBQ0ssUUFBUyxFQUFqRTs7QUFFQSxNQUFJO0FBQ0E7QUFDQSxVQUFNLG9CQUFNTCxJQUFJLENBQUNNLElBQVgsRUFDREMsTUFEQyxDQUNNO0FBQ0pDLE1BQUFBLEtBQUssRUFBRSxHQURIO0FBRUpDLE1BQUFBLE1BQU0sRUFBRSxHQUZKO0FBR0pDLE1BQUFBLEdBQUcsRUFBRSxPQUhEO0FBSUpDLE1BQUFBLFFBQVEsRUFBRTtBQUpOLEtBRE4sRUFPREMsUUFQQyxDQU9RLEtBUFIsRUFRREMsTUFSQyxDQVFNWCxVQVJOLENBQU4sQ0FGQSxDQVlBOztBQUNBLFVBQU1ZLGlCQUFHQyxNQUFILENBQVVmLElBQUksQ0FBQ00sSUFBZixDQUFOO0FBRUEsV0FBT1IsR0FBRyxDQUFDa0IsSUFBSixDQUFTO0FBQ1pYLE1BQUFBLFFBQVEsRUFBRUwsSUFBSSxDQUFDSyxRQURIO0FBRVpDLE1BQUFBLElBQUksRUFBRUo7QUFGTSxLQUFULENBQVA7QUFJSCxHQW5CRCxDQW1CRSxPQUFPZSxHQUFQLEVBQVk7QUFDVixXQUFPbEIsSUFBSSxDQUFDa0IsR0FBRCxDQUFYO0FBQ0g7QUFDSjs7QUFHRCxNQUFNQyxnQkFBZ0IsR0FBRztBQUNyQnRCLEVBQUFBO0FBRHFCLENBQXpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBzaGFycCBmcm9tICdzaGFycCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMtZXh0cmEnO1xuaW1wb3J0IHsgQ09ORklHIH0gZnJvbSAnLi4vY29uZmlnJztcblxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkKHJlcSwgcmVzLCBuZXh0KSB7XG5cbiAgICBjb25zdCB7IGZpbGUgfSA9IHJlcTtcblxuICAgIGlmICghZmlsZSkge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGF2YXRhclBhdGggPSBgJHtDT05GSUcuQVZBVEFSX1VQTE9BRF9QQVRIfS8ke2ZpbGUuZmlsZW5hbWV9YDtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIHJlc2l6ZSwgY29udmVydCB0byBqcGcgYW5kIHNhdmUgdG8gYXZhdGFyIHBhdGhcbiAgICAgICAgYXdhaXQgc2hhcnAoZmlsZS5wYXRoKVxuICAgICAgICAgICAgLnJlc2l6ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgICAgICAgICAgICBmaXQ6ICdjb3ZlcicsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdjZW50cmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50b0Zvcm1hdCgnanBnJylcbiAgICAgICAgICAgIC50b0ZpbGUoYXZhdGFyUGF0aCk7XG5cbiAgICAgICAgLy8gZGVsZXRlIG9yaWdpbmFsIGZpbGVcbiAgICAgICAgYXdhaXQgZnMucmVtb3ZlKGZpbGUucGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLmZpbGVuYW1lLFxuICAgICAgICAgICAgcGF0aDogYXZhdGFyUGF0aCxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5cbmNvbnN0IEF2YXRhckNvbnRyb2xsZXIgPSB7XG4gICAgdXBsb2FkLFxufTtcblxuZXhwb3J0IHtcbiAgICBBdmF0YXJDb250cm9sbGVyLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "avatar.controller.js"
      ],
      "names": [
        "upload",
        "req",
        "res",
        "next",
        "file",
        "Error",
        "avatarPath",
        "CONFIG",
        "AVATAR_UPLOAD_PATH",
        "filename",
        "path",
        "resize",
        "width",
        "height",
        "fit",
        "position",
        "toFormat",
        "toFile",
        "fs",
        "remove",
        "json",
        "err",
        "AvatarController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;;;AAEA,eAAeA,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,IAAhC,EAAsC;AAElC,QAAM;AAAEC,IAAAA;AAAF,MAAWH,GAAjB;;AAEA,MAAI,CAACG,IAAL,EAAW;AACP;AACA,WAAOD,IAAI,CAAC,IAAIE,KAAJ,EAAD,CAAX;AACH;;AAED,QAAMC,UAAU,GAAI,GAAEC,eAAOC,kBAAmB,IAAGJ,IAAI,CAACK,QAAS,EAAjE;;AAEA,MAAI;AACA;AACA,UAAM,oBAAML,IAAI,CAACM,IAAX,EACDC,MADC,CACM;AACJC,MAAAA,KAAK,EAAE,GADH;AAEJC,MAAAA,MAAM,EAAE,GAFJ;AAGJC,MAAAA,GAAG,EAAE,OAHD;AAIJC,MAAAA,QAAQ,EAAE;AAJN,KADN,EAODC,QAPC,CAOQ,KAPR,EAQDC,MARC,CAQMX,UARN,CAAN,CAFA,CAYA;;AACA,UAAMY,iBAAGC,MAAH,CAAUf,IAAI,CAACM,IAAf,CAAN;AAEA,WAAOR,GAAG,CAACkB,IAAJ,CAAS;AACZX,MAAAA,QAAQ,EAAEL,IAAI,CAACK,QADH;AAEZC,MAAAA,IAAI,EAAEJ;AAFM,KAAT,CAAP;AAIH,GAnBD,CAmBE,OAAOe,GAAP,EAAY;AACV,WAAOlB,IAAI,CAACkB,GAAD,CAAX;AACH;AACJ;;AAGD,MAAMC,gBAAgB,GAAG;AACrBtB,EAAAA;AADqB,CAAzB",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport sharp from 'sharp';\nimport fs from 'fs-extra';\nimport { CONFIG } from '../config';\n\nasync function upload(req, res, next) {\n\n    const { file } = req;\n\n    if (!file) {\n        // TODO: handle error\n        return next(new Error());\n    }\n\n    const avatarPath = `${CONFIG.AVATAR_UPLOAD_PATH}/${file.filename}`;\n\n    try {\n        // resize, convert to jpg and save to avatar path\n        await sharp(file.path)\n            .resize({\n                width: 200,\n                height: 200,\n                fit: 'cover',\n                position: 'centre',\n            })\n            .toFormat('jpg')\n            .toFile(avatarPath);\n\n        // delete original file\n        await fs.remove(file.path);\n\n        return res.json({\n            filename: file.filename,\n            path: avatarPath,\n        });\n    } catch (err) {\n        return next(err);\n    }\n}\n\n\nconst AvatarController = {\n    upload,\n};\n\nexport {\n    AvatarController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/warehouse.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/warehouse.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/warehouse.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/warehouse.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "warehouse.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WarehouseController = void 0;\n\nvar _enums = require(\"../enums\");\n\nvar _lodash = require(\"lodash\");\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nasync function list(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const query = {};\n  const options = {\n    page,\n    limit\n  };\n\n  try {\n    const results = await Warehouse.paginate(query, options);\n    const count = results.totalDocs;\n    const warehouses = results.docs;\n    return res.json({\n      items: warehouses,\n      count\n    });\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nasync function create(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const data = req.body;\n\n  try {\n    // TODO: validate before create\n    const warehouse = await Warehouse.create(data); // TODO: handle response content\n\n    return res.json(warehouse);\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n  const data = req.body;\n\n  try {\n    const warehouse = await Warehouse.findById(id);\n\n    if (!warehouse) {\n      // TODO: handle model not found error response\n      return next('404');\n    } // TODO: validate data before save\n\n\n    warehouse.set(_objectSpread({}, data));\n    await warehouse.save(); // TODO: handle response\n\n    return res.json(warehouse);\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n\n  try {\n    await Warehouse.findByIdAndDelete(id);\n    return res.status(_httpStatus.default.NO_CONTENT).json({});\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nconst WarehouseController = {\n  list,\n  create,\n  update,\n  remove\n};\nexports.WarehouseController = WarehouseController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhcmVob3VzZS5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImxpc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiV2FyZWhvdXNlIiwiYXBwIiwiZ2V0IiwibGltaXQiLCJwYXJzZUludCIsInF1ZXJ5IiwiREVGQVVMVF9QQUdFX0xJTUlUIiwicGFnZSIsIm9wdGlvbnMiLCJyZXN1bHRzIiwicGFnaW5hdGUiLCJjb3VudCIsInRvdGFsRG9jcyIsIndhcmVob3VzZXMiLCJkb2NzIiwianNvbiIsIml0ZW1zIiwiZXJyIiwiY3JlYXRlIiwiZGF0YSIsImJvZHkiLCJ3YXJlaG91c2UiLCJ1cGRhdGUiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwic2V0Iiwic2F2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwiSFRUUF9TVEFUVVMiLCJOT19DT05URU5UIiwiV2FyZWhvdXNlQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQSxlQUFlQSxJQUFmLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0FBQ2hDLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFnQkgsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQXRCO0FBRUEsUUFBTUMsS0FBSyxHQUFHQyxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE9BQWYsRUFBd0JDLHlCQUF4QixDQUFELENBQXRCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHSCxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE1BQWYsRUFBdUIsQ0FBdkIsQ0FBRCxDQUFyQjtBQUVBLFFBQU1BLEtBQUssR0FBRyxFQUFkO0FBRUEsUUFBTUcsT0FBTyxHQUFHO0FBQ1pELElBQUFBLElBRFk7QUFFWkosSUFBQUE7QUFGWSxHQUFoQjs7QUFLQSxNQUFJO0FBQ0EsVUFBTU0s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QUEsTUFIK0I7QUFJL0JNLEVBQUFBO0FBSitCLENBQTVCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IERFRkFVTFRfUEFHRV9MSU1JVCB9IGZyb20gJy4uL2VudW1zJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgSFRUUF9TVEFUVVMgZnJvbSAnaHR0cC1zdGF0dXMnO1xuXG5hc3luYyBmdW5jdGlvbiBsaXN0KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBXYXJlaG91c2UgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ2xpbWl0JywgREVGQVVMVF9QQUdFX0xJTUlUKSk7XG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGdldChyZXEucXVlcnksICdwYWdlJywgMSkpO1xuXG4gICAgY29uc3QgcXVlcnkgPSB7fTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgV2FyZWhvdXNlLnBhZ2luYXRlKHF1ZXJ5LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBjb3VudCA9IHJlc3VsdHMudG90YWxEb2NzO1xuICAgICAgICBjb25zdCB3YXJlaG91c2VzID0gcmVzdWx0cy5kb2NzO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBpdGVtczogd2FyZWhvdXNlcyxcbiAgICAgICAgICAgIGNvdW50LFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFdhcmVob3VzZSB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIFRPRE86IHZhbGlkYXRlIGJlZm9yZSBjcmVhdGVcbiAgICAgICAgY29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgV2FyZWhvdXNlLmNyZWF0ZShkYXRhKTtcblxuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgcmVzcG9uc2UgY29udGVudFxuICAgICAgICByZXR1cm4gcmVzLmpzb24od2FyZWhvdXNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFdhcmVob3VzZSB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgV2FyZWhvdXNlLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXdhcmVob3VzZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIG1vZGVsIG5vdCBmb3VuZCBlcnJvciByZXNwb25zZVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoJzQwNCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogdmFsaWRhdGUgZGF0YSBiZWZvcmUgc2F2ZVxuICAgICAgICB3YXJlaG91c2Uuc2V0KHsuLi5kYXRhfSk7XG5cbiAgICAgICAgYXdhaXQgd2FyZWhvdXNlLnNhdmUoKTtcblxuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgcmVzcG9uc2VcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHdhcmVob3VzZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvciByZXNwb25zZVxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBXYXJlaG91c2UgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgV2FyZWhvdXNlLmZpbmRCeUlkQW5kRGVsZXRlKGlkKTtcblxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhIVFRQX1NUQVRVUy5OT19DT05URU5UKS5qc29uKHt9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgV2FyZWhvdXNlQ29udHJvbGxlciA9IHtcbiAgICBsaXN0LFxuICAgIGNyZWF0ZSxcbiAgICB1cGRhdGUsXG4gICAgcmVtb3ZlLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "warehouse.controller.js"
      ],
      "names": [
        "list",
        "req",
        "res",
        "next",
        "Warehouse",
        "app",
        "get",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "options",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "warehouses",
        "docs",
        "json",
        "items",
        "err",
        "create",
        "data",
        "body",
        "warehouse",
        "update",
        "id",
        "params",
        "findById",
        "set",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "HTTP_STATUS",
        "NO_CONTENT",
        "WarehouseController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\nimport { get } from 'lodash';\nimport HTTP_STATUS from 'http-status';\n\nasync function list(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const query = {};\n\n    const options = {\n        page,\n        limit,\n    };\n\n    try {\n        const results = await Warehouse.paginate(query, options);\n\n        const count = results.totalDocs;\n        const warehouses = results.docs;\n\n        return res.json({\n            items: warehouses,\n            count,\n        });\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nasync function create(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n    const data = req.body;\n\n    try {\n        // TODO: validate before create\n        const warehouse = await Warehouse.create(data);\n\n        // TODO: handle response content\n        return res.json(warehouse);\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nasync function update(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n    const { id } = req.params;\n    const data = req.body;\n\n    try {\n        const warehouse = await Warehouse.findById(id);\n\n        if (!warehouse) {\n            // TODO: handle model not found error response\n            return next('404');\n        }\n\n        // TODO: validate data before save\n        warehouse.set({...data});\n\n        await warehouse.save();\n\n        // TODO: handle response\n        return res.json(warehouse);\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nasync function remove(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n    const { id } = req.params;\n\n    try {\n        await Warehouse.findByIdAndDelete(id);\n\n        return res.status(HTTP_STATUS.NO_CONTENT).json({});\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nexport const WarehouseController = {\n    list,\n    create,\n    update,\n    remove,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/purchase-order.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/purchase-order.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/purchase-order.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/purchase-order.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "purchase-order.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PurchaseOrderController = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nasync function find(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const query = JSON.parse((0, _lodash.get)(req.query, 'query', '{}'));\n  const sort = JSON.parse((0, _lodash.get)(req.query, 'sort', '{}')); // const query = {};\n\n  /*if (filter.hasOwnProperty('code')) {\n      query['code'] = filter.code;\n  }\n   if (filter.hasOwnProperty('name')) {\n      query['name'] = filter.name;\n  }*/\n\n  const options = {\n    page,\n    limit,\n    sort\n  };\n  /*if (has(filter, 'populate')) {\n      options.populate = get(filter, 'populate');\n  }*/\n\n  try {\n    const results = await PurchaseOrder.paginate(query, options);\n    const count = results.totalDocs;\n    const items = results.docs;\n    return res.json({\n      items,\n      count\n    });\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function findOne(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n\n  try {\n    const item = await PurchaseOrder.findById(id).populate('products.product');\n\n    if (!item) {\n      return next('error 404 product not found');\n    }\n\n    return res.json(item);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function create(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const user = req.user;\n  const data = req.body;\n  data.warehouseId = user.warehouseId;\n  data.createdBy = user.id;\n\n  try {\n    const purchaseOrder = await PurchaseOrder.create(data); // TODO: handle response format\n\n    return res.json(purchaseOrder);\n  } catch (err) {\n    // TODO: validate write error\n    return next(err);\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n  const {\n    user\n  } = req;\n  const data = req.body;\n\n  try {\n    const purchaseOrder = await PurchaseOrder.findById(id);\n\n    if (!purchaseOrder) {\n      return next('404 not found');\n    }\n\n    data.updatedBy = user.id;\n\n    for (const key in data) {\n      purchaseOrder[key] = data[key];\n    }\n\n    await purchaseOrder.save();\n    return res.json(purchaseOrder);\n  } catch (err) {\n    return next(err);\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n\n  try {\n    await PurchaseOrder.findByIdAndDelete(id);\n    return res.status(204).json({});\n  } catch (err) {\n    return next(err);\n  }\n}\n\nconst PurchaseOrderController = {\n  find,\n  findOne,\n  create,\n  update,\n  remove\n};\nexports.PurchaseOrderController = PurchaseOrderController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZmluZCIsInJlcSIsInJlcyIsIm5leHQiLCJQdXJjaGFzZU9yZGVyIiwiYXBwIiwiZ2V0IiwibGltaXQiLCJwYXJzZUludCIsInF1ZXJ5IiwiREVGQVVMVF9QQUdFX0xJTUlUIiwicGFnZSIsIkpTT04iLCJwYXJzZSIsInNvcnQiLCJvcHRpb25zIiwicmVzdWx0cyIsInBhZ2luYXRlIiwiY291bnQiLCJ0b3RhbERvY3MiLCJpdGVtcyIsImRvY3MiLCJqc29uIiwiZXJyIiwiZmluZE9uZSIsImlkIiwicGFyYW1zIiwiaXRlbSIsImZpbmRCeUlkIiwicG9wdWxhdGUiLCJjcmVhdGUiLCJ1c2VyIiwiZGF0YSIsImJvZHkiLCJ3YXJlaG91c2VJZCIsImNyZWF0ZWRCeSIsInB1cmNoYXNlT3JkZXIiLCJ1cGRhdGUiLCJ1cGRhdGVkQnkiLCJrZXkiLCJzYXZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJQdXJjaGFzZU9yZGVyQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFFQSxlQUFlQSxJQUFmLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0FBQ2hDLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFvQkgsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQTFCO0FBRUEsUUFBTUMsS0FBSyxHQUFHQyxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE9BQWYsRUFBd0JDLHlCQUF4QixDQUFELENBQXRCO0FBRUEsUUFBTUMsSUFBSSxHQUFHSCxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE1BQWYsRUFBdUIsQ0FBdkIsQ0FBRCxDQUFyQjtBQUVBLFFBQU1BLEtBQUssR0FBR0csSUFBSSxDQUFDQyxLQUFMLENBQVcsaUJBQUla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SUFBSSxDQUFDb0IsR0FBRCxDQUFYO0FBQ0g7QUFDSjs7QUFFRCxNQUFNcUIsdUJBQXVCLEdBQUc7QUFDNUI1QyxFQUFBQSxJQUQ0QjtBQUU1QndCLEVBQUFBLE9BRjRCO0FBRzVCTSxFQUFBQSxNQUg0QjtBQUk1Qk8sRUFBQUEsTUFKNEI7QUFLNUJJLEVBQUFBO0FBTDRCLENBQWhDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2VfdGFuX2Nhbmcva2hvLWFwaS9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdldCwgb21pdEJ5LCBpc05pbCwgc3VtQnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBERUZBVUxUX1BBR0VfTElNSVQgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmFzeW5jIGZ1bmN0aW9uIGZpbmQocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFB1cmNoYXNlT3JkZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ2xpbWl0JywgREVGQVVMVF9QQUdFX0xJTUlUKSk7XG5cbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ3BhZ2UnLCAxKSk7XG5cbiAgICBjb25zdCBxdWVyeSA9IEpTT04ucGFyc2UoZ2V0KHJlcS5xdWVyeSwgJ3F1ZXJ5JywgJ3t9JykpO1xuXG4gICAgY29uc3Qgc29ydCA9IEpTT04ucGFyc2UoZ2V0KHJlcS5xdWVyeSwgJ3NvcnQnLCAne30nKSk7XG5cbiAgICAvLyBjb25zdCBxdWVyeSA9IHt9O1xuXG4gICAgLyppZiAoZmlsdGVyLmhhc093blByb3BlcnR5KCdjb2RlJykpIHtcbiAgICAgICAgcXVlcnlbJ2NvZGUnXSA9IGZpbHRlci5jb2RlO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXIuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkge1xuICAgICAgICBxdWVyeVsnbmFtZSddID0gZmlsdGVyLm5hbWU7XG4gICAgfSovXG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwYWdlLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgc29ydCxcbiAgICB9O1xuXG4gICAgLyppZiAoaGFzKGZpbHRlciwgJ3BvcHVsYXRlJykpIHtcbiAgICAgICAgb3B0aW9ucy5wb3B1bGF0ZSA9IGdldChmaWx0ZXIsICdwb3B1bGF0ZScpO1xuICAgIH0qL1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFB1cmNoYXNlT3JkZXIucGFnaW5hdGUocXVlcnksIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGNvdW50ID0gcmVzdWx0cy50b3RhbERvY3M7XG5cbiAgICAgICAgY29uc3QgaXRlbXMgPSByZXN1bHRzLmRvY3M7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgIGl0ZW1zLFxuICAgICAgICAgICAgY291bnQsXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZpbmRPbmUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFB1cmNoYXNlT3JkZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IFB1cmNoYXNlT3JkZXJcbiAgICAgICAgICAgIC5maW5kQnlJZChpZClcbiAgICAgICAgICAgIC5wb3B1bGF0ZSgncHJvZHVjdHMucHJvZHVjdCcpO1xuXG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoJ2Vycm9yIDQwNCBwcm9kdWN0IG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKGl0ZW0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHsgUHVyY2hhc2VPcmRlciB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IHVzZXIgPSByZXEudXNlcjtcblxuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcbiAgICBkYXRhLndhcmVob3VzZUlkID0gdXNlci53YXJlaG91c2VJZDtcbiAgICBkYXRhLmNyZWF0ZWRCeSA9IHVzZXIuaWQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwdXJjaGFzZU9yZGVyID0gYXdhaXQgUHVyY2hhc2VPcmRlci5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIHJlc3BvbnNlIGZvcm1hdFxuICAgICAgICByZXR1cm4gcmVzLmpzb24ocHVyY2hhc2VPcmRlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IHZhbGlkYXRlIHdyaXRlIGVycm9yXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFB1cmNoYXNlT3JkZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IHsgdXNlciB9ID0gcmVxO1xuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHB1cmNoYXNlT3JkZXIgPSBhd2FpdCBQdXJjaGFzZU9yZGVyLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXB1cmNoYXNlT3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCc0MDQgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnVwZGF0ZWRCeSA9IHVzZXIuaWQ7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgcHVyY2hhc2VPcmRlcltrZXldID0gZGF0YVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgcHVyY2hhc2VPcmRlci5zYXZlKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHB1cmNoYXNlT3JkZXIpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBQdXJjaGFzZU9yZGVyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFB1cmNoYXNlT3JkZXIuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwNCkuanNvbih7fSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5jb25zdCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlciA9IHtcbiAgICBmaW5kLFxuICAgIGZpbmRPbmUsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICByZW1vdmUsXG59O1xuXG5leHBvcnQge1xuICAgIFB1cmNoYXNlT3JkZXJDb250cm9sbGVyXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order.controller.js"
      ],
      "names": [
        "find",
        "req",
        "res",
        "next",
        "PurchaseOrder",
        "app",
        "get",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "JSON",
        "parse",
        "sort",
        "options",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "items",
        "docs",
        "json",
        "err",
        "findOne",
        "id",
        "params",
        "item",
        "findById",
        "populate",
        "create",
        "user",
        "data",
        "body",
        "warehouseId",
        "createdBy",
        "purchaseOrder",
        "update",
        "updatedBy",
        "key",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "PurchaseOrderController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { get, omitBy, isNil, sumBy } from 'lodash';\n\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\n\nasync function find(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const query = JSON.parse(get(req.query, 'query', '{}'));\n\n    const sort = JSON.parse(get(req.query, 'sort', '{}'));\n\n    // const query = {};\n\n    /*if (filter.hasOwnProperty('code')) {\n        query['code'] = filter.code;\n    }\n\n    if (filter.hasOwnProperty('name')) {\n        query['name'] = filter.name;\n    }*/\n\n    const options = {\n        page,\n        limit,\n        sort,\n    };\n\n    /*if (has(filter, 'populate')) {\n        options.populate = get(filter, 'populate');\n    }*/\n\n    try {\n        const results = await PurchaseOrder.paginate(query, options);\n\n        const count = results.totalDocs;\n\n        const items = results.docs;\n\n        return res.json({\n            items,\n            count,\n        });\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function findOne(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const { id } = req.params;\n\n    try {\n        const item = await PurchaseOrder\n            .findById(id)\n            .populate('products.product');\n\n        if (!item) {\n            return next('error 404 product not found');\n        }\n\n        return res.json(item);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function create(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const user = req.user;\n\n    const data = req.body;\n    data.warehouseId = user.warehouseId;\n    data.createdBy = user.id;\n\n    try {\n        const purchaseOrder = await PurchaseOrder.create(data);\n\n        // TODO: handle response format\n        return res.json(purchaseOrder);\n    } catch (err) {\n        // TODO: validate write error\n        return next(err);\n    }\n}\n\nasync function update(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const { id } = req.params;\n    const { user } = req;\n    const data = req.body;\n\n    try {\n        const purchaseOrder = await PurchaseOrder.findById(id);\n\n        if (!purchaseOrder) {\n            return next('404 not found');\n        }\n\n        data.updatedBy = user.id;\n\n        for (const key in data) {\n            purchaseOrder[key] = data[key];\n        }\n\n        await purchaseOrder.save();\n\n        return res.json(purchaseOrder);\n    } catch (err) {\n        return next(err);\n    }\n}\n\nasync function remove(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const { id } = req.params;\n\n    try {\n        await PurchaseOrder.findByIdAndDelete(id);\n\n        return res.status(204).json({});\n    } catch (err) {\n        return next(err);\n    }\n}\n\nconst PurchaseOrderController = {\n    find,\n    findOne,\n    create,\n    update,\n    remove,\n};\n\nexport {\n    PurchaseOrderController\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"filename\":\"/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/product.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse_tan_cang/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse_tan_cang/kho-api",
      "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/product.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse_tan_cang/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse_tan_cang/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/product.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers/product.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
        "sourceFileName": "product.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ProductController = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nasync function find(req, res, next) {\n  const {\n    Product\n  } = req.app.get('models');\n  const user = req.user;\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const query = JSON.parse((0, _lodash.get)(req.query, 'query', '{}'));\n  const sort = JSON.parse((0, _lodash.get)(req.query, 'sort', '{}'));\n  const options = {\n    page,\n    limit,\n    sort\n  }; // DEFAULT QUERY ONLY IN CURRENT USER WAREHOUSE\n\n  query.warehouseId = user.warehouseId;\n\n  try {\n    const results = await Product.paginate(query, options);\n    const count = results.totalDocs;\n    const products = results.docs;\n    return res.json({\n      items: products,\n      count\n    });\n  } catch (err) {\n    return next(err);\n  }\n}\n\nasync function findOne(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    const product = await Product.findById(id);\n\n    if (!product) {\n      return next('error 404 product not found');\n    }\n\n    return res.json(product);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function create(req, res, next) {\n  const data = req.body;\n  const user = req.user;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    // TODO: validate duplicate\n    if (await Product.isProductCodeExists(data.code)) {\n      return next('duplicate');\n    } // TODO:\n\n\n    data.warehouseId = user.warehouseId;\n    const product = await Product.create(data); // TODO:\n\n    return res.json(product);\n  } catch (err) {\n    // TODO:\n    return next(err);\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    const product = await Product.findById(id);\n\n    if (!product) {\n      return next('404 product not found');\n    }\n\n    const data = (0, _lodash.omitBy)({\n      code: (0, _lodash.get)(req.body, 'code'),\n      name: (0, _lodash.get)(req.body, 'name'),\n      description: (0, _lodash.get)(req.body, 'description'),\n      manufacturer: (0, _lodash.get)(req.body, 'manufacturer'),\n      machinePart: (0, _lodash.get)(req.body, 'machinePart')\n    }, _lodash.isNil);\n\n    for (const key in data) {\n      product[key] = data[key];\n    }\n\n    await product.save();\n    return res.json(product);\n  } catch (err) {\n    // TODO:\n    return next(err);\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    await Product.findByIdAndDelete(id);\n    return res.status(204).json({});\n  } catch (err) {\n    // TODO:\n    return next(err);\n  }\n}\n\nconst ProductController = {\n  find,\n  findOne,\n  create,\n  update,\n  remove\n};\nexports.ProductController = ProductController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJmaW5kIiwicmVxIiwicmVzIiwibmV4dCIsIlByb2R1Y3QiLCJhcHAiLCJnZXQiLCJ1c2VyIiwibGltaXQiLCJwYXJzZUludCIsInF1ZXJ5IiwiREVGQVVMVF9QQUdFX0xJTUlUIiwicGFnZSIsIkpTT04iLCJwYXJzZSIsInNvcnQiLCJvcHRpb25zIiwid2FyZWhvdXNlSWQiLCJyZXN1bHRzIiwicGFnaW5hdGUiLCJjb3VudCIsInRvdGFsRG9jcyIsInByb2R1Y3RzIiwiZG9jcyIsImpzb24iLCJpdGVtcyIsImVyciIsImZpbmRPbmUiLCJpZCIsInBhcmFtcyIsInByb2R1Y3QiLCJmaW5kQnlJZCIsImNyZWF0ZSIsImRhdGEiLCJib2R5IiwiaXNQcm9kdWN0Q29kZUV4aXN0cyIsImNvZGUiLCJ1cGRhdGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJtYW51ZmFjdHVyZXIiLCJtYWNoaW5lUGFydCIsImlzTmlsIiwia2V5Iiwic2F2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwiUHJvZHVjdENvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBRUEsZUFBZUEsSUFBZixDQUFvQkMsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQyxRQUFNO0FBQUVDLElBQUFBO0FBQUYsTUFBY0gsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQXBCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHTixHQUFHLENBQUNNLElBQWpCO0FBRUEsUUFBTUMsS0FBSyxHQUFHQyxRQUFRLENBQUMsaUJBQUlSLEdBQUcsQ0FBQ1MsS0FBUixFQUFlLE9BQWYsRUFBd0JDLHlCQUF4QixDQUFELENBQXRCO0FBRUEsUUFBTUMsSUFBSSxHQUFHSCxRQUFRLENBQUMsaUJBQUlSLEdBQUcsQ0FBQ1MsS0FBUixFQUFlLE1BQWYsRUFB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QUN1QixHQUFELENBQVg7QUFDSDtBQUNKOztBQUVELGVBQWVtQixNQUFmLENBQXNCNUMsR0FBdEIsRUFBMkJDLEdBQTNCLEVBQWdDQyxJQUFoQyxFQUFzQztBQUNsQyxRQUFNO0FBQUV5QixJQUFBQTtBQUFGLE1BQVMzQixHQUFHLENBQUM0QixNQUFuQjtBQUNBLFFBQU07QUFBRXpCLElBQUFBO0FBQUYsTUFBY0gsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQXBCOztBQUVBLE1BQUk7QUFDQSxVQUFNRixPQUFPLENBQUMwQyxpQkFBUixDQUEwQmxCLEVBQTFCLENBQU47QUFFQSxXQUFPMUIsR0FBRyxDQUFDNkMsTUFBSixDQUFXLEdBQVgsRUFBZ0J2QixJQUFoQixDQUFxQixFQUFyQixDQUFQO0FBQ0gsR0FKRCxDQUlFLE9BQU9FLEdBQVAsRUFBWTtBQUNWO0FBQ0EsV0FBT3ZCLElBQUksQ0FBQ3VCLEdBQUQsQ0FBWDtBQUNIO0FBQ0o7O0FBRUQsTUFBTXNCLGlCQUFpQixHQUFHO0FBQ3RCaEQsRUFBQUEsSUFEc0I7QUFFdEIyQixFQUFBQSxPQUZzQjtBQUd0QkssRUFBQUEsTUFIc0I7QUFJdEJLLEVBQUFBLE1BSnNCO0FBS3RCUSxFQUFBQTtBQUxzQixDQUExQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlX3Rhbl9jYW5nL2toby1hcGkvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBnZXQsIGlzTmlsLCBvbWl0QnkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgREVGQVVMVF9QQUdFX0xJTUlUIH0gZnJvbSAnLi4vZW51bXMnO1xuXG5hc3luYyBmdW5jdGlvbiBmaW5kKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBQcm9kdWN0IH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG4gICAgY29uc3QgdXNlciA9IHJlcS51c2VyO1xuXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChnZXQocmVxLnF1ZXJ5LCAnbGltaXQnLCBERUZBVUxUX1BBR0VfTElNSVQpKTtcblxuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChnZXQocmVxLnF1ZXJ5LCAncGFnZScsIDEpKTtcblxuICAgIGNvbnN0IHF1ZXJ5ID0gSlNPTi5wYXJzZShnZXQocmVxLnF1ZXJ5LCAncXVlcnknLCAne30nKSk7XG5cbiAgICBjb25zdCBzb3J0ID0gSlNPTi5wYXJzZShnZXQocmVxLnF1ZXJ5LCAnc29ydCcsICd7fScpKTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBzb3J0LFxuICAgIH07XG5cbiAgICAvLyBERUZBVUxUIFFVRVJZIE9OTFkgSU4gQ1VSUkVOVCBVU0VSIFdBUkVIT1VTRVxuICAgIHF1ZXJ5LndhcmVob3VzZUlkID0gdXNlci53YXJlaG91c2VJZDtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9kdWN0LnBhZ2luYXRlKHF1ZXJ5LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBjb3VudCA9IHJlc3VsdHMudG90YWxEb2NzO1xuXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzID0gcmVzdWx0cy5kb2NzO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBpdGVtczogcHJvZHVjdHMsXG4gICAgICAgICAgICBjb3VudCxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kT25lKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IFByb2R1Y3QgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCdlcnJvciA0MDQgcHJvZHVjdCBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXMuanNvbihwcm9kdWN0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlciA9IHJlcS51c2VyO1xuICAgIGNvbnN0IHsgUHJvZHVjdCB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gVE9ETzogdmFsaWRhdGUgZHVwbGljYXRlXG4gICAgICAgIGlmIChhd2FpdCBQcm9kdWN0LmlzUHJvZHVjdENvZGVFeGlzdHMoZGF0YS5jb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoJ2R1cGxpY2F0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgZGF0YS53YXJlaG91c2VJZCA9IHVzZXIud2FyZWhvdXNlSWQ7XG5cbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuY3JlYXRlKGRhdGEpO1xuXG4gICAgICAgIC8vIFRPRE86XG4gICAgICAgIHJldHVybiByZXMuanNvbihwcm9kdWN0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgeyBQcm9kdWN0IH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChpZCk7XG5cbiAgICAgICAgaWYgKCFwcm9kdWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dCgnNDA0IHByb2R1Y3Qgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gb21pdEJ5KHtcbiAgICAgICAgICAgIGNvZGU6IGdldChyZXEuYm9keSwgJ2NvZGUnKSxcbiAgICAgICAgICAgIG5hbWU6IGdldChyZXEuYm9keSwgJ25hbWUnKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBnZXQocmVxLmJvZHksICdkZXNjcmlwdGlvbicpLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyOiBnZXQocmVxLmJvZHksICdtYW51ZmFjdHVyZXInKSxcbiAgICAgICAgICAgIG1hY2hpbmVQYXJ0OiBnZXQocmVxLmJvZHksICdtYWNoaW5lUGFydCcpLFxuICAgICAgICB9LCBpc05pbCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgcHJvZHVjdFtrZXldID0gZGF0YVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHByb2R1Y3QpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUT0RPOlxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IFByb2R1Y3QgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFByb2R1Y3QuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwNCkuanNvbih7fSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5jb25zdCBQcm9kdWN0Q29udHJvbGxlciA9IHtcbiAgICBmaW5kLFxuICAgIGZpbmRPbmUsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICByZW1vdmUsXG59O1xuXG5leHBvcnQge1xuICAgIFByb2R1Y3RDb250cm9sbGVyLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "product.controller.js"
      ],
      "names": [
        "find",
        "req",
        "res",
        "next",
        "Product",
        "app",
        "get",
        "user",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "JSON",
        "parse",
        "sort",
        "options",
        "warehouseId",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "products",
        "docs",
        "json",
        "items",
        "err",
        "findOne",
        "id",
        "params",
        "product",
        "findById",
        "create",
        "data",
        "body",
        "isProductCodeExists",
        "code",
        "update",
        "name",
        "description",
        "manufacturer",
        "machinePart",
        "isNil",
        "key",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "ProductController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse_tan_cang/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { get, isNil, omitBy } from 'lodash';\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\n\nasync function find(req, res, next) {\n    const { Product } = req.app.get('models');\n    const user = req.user;\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const query = JSON.parse(get(req.query, 'query', '{}'));\n\n    const sort = JSON.parse(get(req.query, 'sort', '{}'));\n\n    const options = {\n        page,\n        limit,\n        sort,\n    };\n\n    // DEFAULT QUERY ONLY IN CURRENT USER WAREHOUSE\n    query.warehouseId = user.warehouseId;\n\n    try {\n        const results = await Product.paginate(query, options);\n\n        const count = results.totalDocs;\n\n        const products = results.docs;\n\n        return res.json({\n            items: products,\n            count,\n        });\n    } catch (err) {\n        return next(err);\n    }\n}\n\nasync function findOne(req, res, next) {\n    const { id } = req.params;\n    const { Product } = req.app.get('models');\n\n    try {\n        const product = await Product.findById(id);\n\n        if (!product) {\n            return next('error 404 product not found');\n        }\n\n        return res.json(product);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function create(req, res, next) {\n    const data = req.body;\n    const user = req.user;\n    const { Product } = req.app.get('models');\n\n    try {\n        // TODO: validate duplicate\n        if (await Product.isProductCodeExists(data.code)) {\n            return next('duplicate');\n        }\n\n        // TODO:\n        data.warehouseId = user.warehouseId;\n\n        const product = await Product.create(data);\n\n        // TODO:\n        return res.json(product);\n    } catch (err) {\n        // TODO:\n        return next(err);\n    }\n}\n\nasync function update(req, res, next) {\n    const { id } = req.params;\n    const { Product } = req.app.get('models');\n\n    try {\n        const product = await Product.findById(id);\n\n        if (!product) {\n            return next('404 product not found');\n        }\n\n        const data = omitBy({\n            code: get(req.body, 'code'),\n            name: get(req.body, 'name'),\n            description: get(req.body, 'description'),\n            manufacturer: get(req.body, 'manufacturer'),\n            machinePart: get(req.body, 'machinePart'),\n        }, isNil);\n\n        for (const key in data) {\n            product[key] = data[key];\n        }\n\n        await product.save();\n\n        return res.json(product);\n    } catch (err) {\n        // TODO:\n        return next(err);\n    }\n}\n\nasync function remove(req, res, next) {\n    const { id } = req.params;\n    const { Product } = req.app.get('models');\n\n    try {\n        await Product.findByIdAndDelete(id);\n\n        return res.status(204).json({});\n    } catch (err) {\n        // TODO:\n        return next(err);\n    }\n}\n\nconst ProductController = {\n    find,\n    findOne,\n    create,\n    update,\n    remove,\n};\n\nexport {\n    ProductController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1543802781000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nvar _app = require(\"./app\");\n\nvar _models = require(\"./models\");\n\nvar _logger = _interopRequireDefault(require(\"./logger\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_models.db.on('error', err => {\n  _logger.default.error(err);\n\n  process.exit();\n}).on('disconnected', _models.connect).once('open', _app.listen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiIiwib24iLCJlcnIiLCJsb2dnZXIiLCJlcnJvciIsInByb2Nlc3MiLCJleGl0IiwiY29ubmVjdCIsIm9uY2UiLCJsaXN0ZW4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUNBOztBQUNBOzs7O0FBRUFBLFdBQ0tDLEVBREwsQ0FDUSxPQURSLEVBQ2tCQyxHQUFELElBQVM7QUFDbEJDLGtCQUFPQyxLQUFQLENBQWFGLEdBQWI7O0FBQ0FHLEVBQUFBLE9BQU8sQ0FBQ0MsSUFBUjtBQUNILENBSkwsRUFLS0wsRUFMTCxDQUtRLGNBTFIsRUFLd0JNLGVBTHhCLEVBTUtDLElBTkwsQ0FNVSxNQU5WLEVBTWtCQyxXQU5sQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBsaXN0ZW4gfSBmcm9tICcuL2FwcCc7XG5pbXBvcnQgeyBkYiwgY29ubmVjdCB9IGZyb20gJy4vbW9kZWxzJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuXG5kYlxuICAgIC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihlcnIpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoKTtcbiAgICB9KVxuICAgIC5vbignZGlzY29ubmVjdGVkJywgY29ubmVjdClcbiAgICAub25jZSgnb3BlbicsIGxpc3Rlbik7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "db",
        "on",
        "err",
        "logger",
        "error",
        "process",
        "exit",
        "connect",
        "once",
        "listen"
      ],
      "mappings": "AAAA;;AAEA;;AACA;;AACA;;;;AAEAA,WACKC,EADL,CACQ,OADR,EACkBC,GAAD,IAAS;AAClBC,kBAAOC,KAAP,CAAaF,GAAb;;AACAG,EAAAA,OAAO,CAACC,IAAR;AACH,CAJL,EAKKL,EALL,CAKQ,cALR,EAKwBM,eALxB,EAMKC,IANL,CAMU,MANV,EAMkBC,WANlB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport { listen } from './app';\nimport { db, connect } from './models';\nimport logger from './logger';\n\ndb\n    .on('error', (err) => {\n        logger.error(err);\n        process.exit();\n    })\n    .on('disconnected', connect)\n    .once('open', listen);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/app.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/app.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/app.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.listen = listen;\nexports.app = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _throw = require(\"throw.js\");\n\nvar _config = require(\"./config\");\n\nvar _models = require(\"./models\");\n\nvar _logger = _interopRequireDefault(require(\"./logger\"));\n\nvar _routes = require(\"./routes\");\n\nvar _middleware = require(\"./middleware\");\n\nvar auth = _interopRequireWildcard(require(\"./auth\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\n/**\n * LOGGER MIDDLEWARE REGISTER\n */\n\nexports.app = app;\napp.use(_middleware.LoggerMiddleware);\n/**\n * SECURITY MIDDLEWARE\n */\n\napp.use((0, _cors.default)());\n/**\n * SINGLETON APP MODELS\n */\n\napp.set('models', _models.models);\n/**\n * OTHER MIDDLEWARE\n */\n\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\n/**\n * PASSPORT INITIALIZE\n */\n\napp.use(auth.initialize());\n/**\n * API ROUTES REGISTER\n */\n\napp.use('/api', _routes.apiRoutes);\n/**\n * CATCH 404 ERROR HANDLER\n */\n\napp.use((req, res, next) => {\n  return next(new _throw.NotFound());\n});\n/**\n * CATCH ALL ERRORS HANDLER\n */\n// eslint-disable-next-line no-unused-vars\n\napp.use((err, req, res, next) => {\n  _logger.default.error(err);\n\n  return res.status(err.statusCode || 500).json({\n    'status': 'error',\n    'message': err.message,\n    'code': err.errorCode\n  });\n});\n\nfunction listen() {\n  app.listen(_config.CONFIG.PORT, () => _logger.default.info(`App is listening on port ${_config.CONFIG.PORT}`));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJMb2dnZXJNaWRkbGV3YXJlIiwic2V0IiwibW9kZWxzIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJhdXRoIiwiaW5pdGlhbGl6ZSIsImFwaVJvdXRlcyIsInJlcSIsInJlcyIsIm5leHQiLCJOb3RGb3VuZCIsImVyciIsImxvZ2dlciIsImVycm9yIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsIm1lc3NhZ2UiLCJlcnJvckNvZGUiLCJsaXN0ZW4iLCJDT05GSUciLCJQT1JUIiwiaW5mbyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLE1BQU1BLEdBQUcsR0FBRyx1QkFBWjtBQUVBOzs7OztBQUdBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsNEJBQVI7QUFFQTs7OztBQUdBRixHQUFHLENBQUNDLEdBQUosQ0FBUSxvQkFBUjtBQUVBOzs7O0FBR0FELEdBQUcsQ0FBQ0csR0FBSixDQUFRLFFBQVIsRUFBa0JDLGNBQWxCO0FBRUE7Ozs7QUFHQUosR0FBRyxDQUFDQyxHQUFKLENBQVFJLG9CQUFXQyxJQUFYLEVBQVI7QUFDQU4sR0FBRyxDQUFDQyxHQUFKLENBQVFJLG9CQUFXRSxVQUFYLENBQXNCO0FBQUVDLEVBQUFBLFFBQVEsRUFBRTtBQUFaLENBQXRCLENBQVI7QUFFQTs7OztBQUdBUixHQUFHLENBQUNDLEdBQUosQ0FBUVEsSUFBSSxDQUFDQyxVQUFMLEVBQVI7QUFFQTs7OztBQUdBVixHQUFHLENBQUNDLEdBQUosQ0FBUSxNQUFSLEVBQWdCVSxpQkFBaEI7QUFFQTs7OztBQUdBWCxHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDVyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN4QixTQUFPQSxJQUFJLENBQUMsSUFBSUMsZUFBSixFQUFELENBQVg7QUFDSCxDQUZEO0FBSUE7OztBQUdBOztBQUNBZixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDZSxHQUFELEVBQU1KLEdBQU4sRUFBV0MsR0FBWCxFQUFnQkMsSUFBaEIsS0FBeUI7QUFFN0JHLGtCQUFPQyxLQUFQLENBQWFGLEdBQWI7O0FBRUEsU0FBT0gsR0FBRyxDQUFDTSxNQUFKLENBQVdILEdBQUcsQ0FBQ0ksVUFBSixJQUFrQixHQUE3QixFQUFrQ2QsSUFBbEMsQ0FBdUM7QUFDMUMsY0FBVSxPQURnQztBQUUxQyxlQUFXVSxHQUFHLENBQUNLLE9BRjJCO0FBRzFDLFlBQVFMLEdBQUcsQ0FBQ007QUFIOEIsR0FBdkMsQ0FBUDtBQU1ILENBVkQ7O0FBWUEsU0FBU0MsTUFBVCxHQUFrQjtBQUNkdkIsRUFBQUEsR0FBRyxDQUFDdUIsTUFBSixDQUFXQyxlQUFPQyxJQUFsQixFQUNJLE1BQU1SLGdCQUFPUyxJQUFQLENBQWEsNEJBQTJCRixlQUFPQyxJQUFLLEVBQXBELENBRFY7QUFFSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHsgTm90Rm91bmQgfSBmcm9tICd0aHJvdy5qcyc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBtb2RlbHMgfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IGFwaVJvdXRlcyB9IGZyb20gJy4vcm91dGVzJztcbmltcG9ydCB7IExvZ2dlck1pZGRsZXdhcmUgfSBmcm9tICcuL21pZGRsZXdhcmUnO1xuaW1wb3J0ICogYXMgYXV0aCBmcm9tICcuL2F1dGgnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLyoqXG4gKiBMT0dHRVIgTUlERExFV0FSRSBSRUdJU1RFUlxuICovXG5hcHAudXNlKExvZ2dlck1pZGRsZXdhcmUpO1xuXG4vKipcbiAqIFNFQ1VSSVRZIE1JRERMRVdBUkVcbiAqL1xuYXBwLnVzZShjb3JzKCkpO1xuXG4vKipcbiAqIFNJTkdMRVRPTiBBUFAgTU9ERUxTXG4gKi9cbmFwcC5zZXQoJ21vZGVscycsIG1vZGVscyk7XG5cbi8qKlxuICogT1RIRVIgTUlERExFV0FSRVxuICovXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG4vKipcbiAqIFBBU1NQT1JUIElOSVRJQUxJWkVcbiAqL1xuYXBwLnVzZShhdXRoLmluaXRpYWxpemUoKSk7XG5cbi8qKlxuICogQVBJIFJPVVRFUyBSRUdJU1RFUlxuICovXG5hcHAudXNlKCcvYXBpJywgYXBpUm91dGVzKTtcblxuLyoqXG4gKiBDQVRDSCA0MDQgRVJST1IgSEFORExFUlxuICovXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJldHVybiBuZXh0KG5ldyBOb3RGb3VuZCgpKTtcbn0pO1xuXG4vKipcbiAqIENBVENIIEFMTCBFUlJPUlMgSEFORExFUlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcblxuICAgIGxvZ2dlci5lcnJvcihlcnIpO1xuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoZXJyLnN0YXR1c0NvZGUgfHwgNTAwKS5qc29uKHtcbiAgICAgICAgJ3N0YXR1cyc6ICdlcnJvcicsXG4gICAgICAgICdtZXNzYWdlJzogZXJyLm1lc3NhZ2UsXG4gICAgICAgICdjb2RlJzogZXJyLmVycm9yQ29kZSxcbiAgICB9KTtcblxufSk7XG5cbmZ1bmN0aW9uIGxpc3RlbigpIHtcbiAgICBhcHAubGlzdGVuKENPTkZJRy5QT1JULFxuICAgICAgICAoKSA9PiBsb2dnZXIuaW5mbyhgQXBwIGlzIGxpc3RlbmluZyBvbiBwb3J0ICR7Q09ORklHLlBPUlR9YCkpO1xufVxuXG5leHBvcnQge1xuICAgIGFwcCxcbiAgICBsaXN0ZW4sXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "use",
        "LoggerMiddleware",
        "set",
        "models",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "auth",
        "initialize",
        "apiRoutes",
        "req",
        "res",
        "next",
        "NotFound",
        "err",
        "logger",
        "error",
        "status",
        "statusCode",
        "message",
        "errorCode",
        "listen",
        "CONFIG",
        "PORT",
        "info"
      ],
      "mappings": "AAAA;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;AAEA;;;;;AAGAA,GAAG,CAACC,GAAJ,CAAQC,4BAAR;AAEA;;;;AAGAF,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AAEA;;;;AAGAD,GAAG,CAACG,GAAJ,CAAQ,QAAR,EAAkBC,cAAlB;AAEA;;;;AAGAJ,GAAG,CAACC,GAAJ,CAAQI,oBAAWC,IAAX,EAAR;AACAN,GAAG,CAACC,GAAJ,CAAQI,oBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AAEA;;;;AAGAR,GAAG,CAACC,GAAJ,CAAQQ,IAAI,CAACC,UAAL,EAAR;AAEA;;;;AAGAV,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBU,iBAAhB;AAEA;;;;AAGAX,GAAG,CAACC,GAAJ,CAAQ,CAACW,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACxB,SAAOA,IAAI,CAAC,IAAIC,eAAJ,EAAD,CAAX;AACH,CAFD;AAIA;;;AAGA;;AACAf,GAAG,CAACC,GAAJ,CAAQ,CAACe,GAAD,EAAMJ,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAE7BG,kBAAOC,KAAP,CAAaF,GAAb;;AAEA,SAAOH,GAAG,CAACM,MAAJ,CAAWH,GAAG,CAACI,UAAJ,IAAkB,GAA7B,EAAkCd,IAAlC,CAAuC;AAC1C,cAAU,OADgC;AAE1C,eAAWU,GAAG,CAACK,OAF2B;AAG1C,YAAQL,GAAG,CAACM;AAH8B,GAAvC,CAAP;AAMH,CAVD;;AAYA,SAASC,MAAT,GAAkB;AACdvB,EAAAA,GAAG,CAACuB,MAAJ,CAAWC,eAAOC,IAAlB,EACI,MAAMR,gBAAOS,IAAP,CAAa,4BAA2BF,eAAOC,IAAK,EAApD,CADV;AAEH",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport path from 'path';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport { NotFound } from 'throw.js';\nimport { CONFIG } from './config';\nimport { models } from './models';\nimport logger from './logger';\nimport { apiRoutes } from './routes';\nimport { LoggerMiddleware } from './middleware';\nimport * as auth from './auth';\nimport cors from 'cors';\n\nconst app = express();\n\n/**\n * LOGGER MIDDLEWARE REGISTER\n */\napp.use(LoggerMiddleware);\n\n/**\n * SECURITY MIDDLEWARE\n */\napp.use(cors());\n\n/**\n * SINGLETON APP MODELS\n */\napp.set('models', models);\n\n/**\n * OTHER MIDDLEWARE\n */\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n/**\n * PASSPORT INITIALIZE\n */\napp.use(auth.initialize());\n\n/**\n * API ROUTES REGISTER\n */\napp.use('/api', apiRoutes);\n\n/**\n * CATCH 404 ERROR HANDLER\n */\napp.use((req, res, next) => {\n    return next(new NotFound());\n});\n\n/**\n * CATCH ALL ERRORS HANDLER\n */\n// eslint-disable-next-line no-unused-vars\napp.use((err, req, res, next) => {\n\n    logger.error(err);\n\n    return res.status(err.statusCode || 500).json({\n        'status': 'error',\n        'message': err.message,\n        'code': err.errorCode,\n    });\n\n});\n\nfunction listen() {\n    app.listen(CONFIG.PORT,\n        () => logger.info(`App is listening on port ${CONFIG.PORT}`));\n}\n\nexport {\n    app,\n    listen,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/config\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/config/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/config",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/config/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/config/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/config/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/config",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CONFIG = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire('dotenv').config();\n\nconst CONFIG = {\n  ROOT_DIR: _path.default.join(__dirname, '../..'),\n  ENV: (0, _lodash.get)(process.env, 'APP_ENV', 'development'),\n  PORT: (0, _lodash.get)(process.env, 'PORT', 3000),\n  SESSION_SECRET: (0, _lodash.get)(process.env, 'SESSION_SECRET', 'session secret'),\n  MONGODB_URI: (0, _lodash.get)(process.env, 'APP_MONGODB_URI'),\n  JWT_ENCRYPTION: (0, _lodash.get)(process.env, 'JWT_ENCRYPTION', 'jwt_secret'),\n  JWT_EXPIRATION: (0, _lodash.get)(process.env, 'JWT_EXPIRATION', '30d'),\n  LOG_LEVEL: (0, _lodash.get)(process.env, 'APP_LOG_LEVEL', 'debug'),\n  UPLOAD_TEMP_PATH: (0, _lodash.get)(process.env, 'UPLOAD_TEMP_PATH', 'uploads/_temp'),\n  // eslint-disable-next-line\n  AVATAR_UPLOAD_PATH: (0, _lodash.get)(process.env, 'AVATAR_UPLOAD_PATH', 'uploads/avatars'),\n  AVATAR_MAX_FILE_SIZE: (0, _lodash.get)(process.env, 'AVATAR_MAX_FILE_SIZE', 1000000)\n};\nexports.CONFIG = CONFIG;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJDT05GSUciLCJST09UX0RJUiIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiRU5WIiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJTRVNTSU9OX1NFQ1JFVCIsIk1PTkdPREJfVVJJIiwiSldUX0VOQ1JZUFRJT04iLCJKV1RfRVhQSVJBVElPTiIsIkxPR19MRVZFTCIsIlVQTE9BRF9URU1QX1BBVEgiLCJBVkFUQVJfVVBMT0FEX1BBVEgiLCJBVkFUQVJfTUFYX0ZJTEVfU0laRSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUVBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQSxNQUFNQyxNQUFNLEdBQUc7QUFDWEMsRUFBQUEsUUFBUSxFQUFFQyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsT0FBckIsQ0FEQztBQUdYQyxFQUFBQSxHQUFHLEVBQUUsaUJBQUlDLE9BQU8sQ0FBQ0MsR0FBWixFQUFpQixTQUFqQixFQUE0QixhQUE1QixDQUhNO0FBSVhDLEVBQUFBLElBQUksRUFBRSxpQkFBSUYsT0FBTyxDQUFDQyxHQUFaLEVBQWlCLE1BQWpCLEVBQXlCLElBQXpCLENBSks7QUFLWEUsRUFBQUEsY0FBYyxFQUFFLGlCQUFJSCxPQUFPLENBQUNDLEdBQVosRUFBaUIsZ0JBQWpCLEVBQW1DLGdCQUFuQyxDQUxMO0FBT1hHLEVBQUFBLFdBQVcsRUFBRSxpQkFBSUosT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGlCQUFqQixDQVBGO0FBU1hJLEVBQUFBLGNBQWMsRUFBRSxpQkFBSUwsT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGdCQUFqQixFQUFtQyxZQUFuQyxDQVRMO0FBVVhLLEVBQUFBLGNBQWMsRUFBRSxpQkFBSU4sT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGdCQUFqQixFQUFtQyxLQUFuQyxDQVZMO0FBWVhNLEVBQUFBLFNBQVMsRUFBRSxpQkFBSVAsT0FBTyxDQUFDQyxHQUFaLEVBQWlCLGVBQWpCLEVBQWtDLE9BQWxDLENBWkE7QUFjWE8sRUFBQUEsZ0JBQWdCLEVBQUUsaUJBQUlSLE9BQU8sQ0FBQ0MsR0FBWixFQUFpQixrQkFBakIsRUFBcUMsZUFBckMsQ0FkUDtBQWVYO0FBQ0FRLEVBQUFBLGtCQUFrQixFQUFFLGlCQUFJVCxPQUFPLENBQUNDLEdBQVosRUFBaUIsb0JBQWpCLEVBQXVDLGlCQUF2QyxDQWhCVDtBQWlCWFMsRUFBQUEsb0JBQW9CLEVBQUUsaUJBQUlWLE9BQU8sQ0FBQ0MsR0FBWixFQUFpQixzQkFBakIsRUFBeUMsT0FBekM7QUFqQlgsQ0FBZiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuY29uc3QgQ09ORklHID0ge1xuICAgIFJPT1RfRElSOiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLi4nKSxcblxuICAgIEVOVjogZ2V0KHByb2Nlc3MuZW52LCAnQVBQX0VOVicsICdkZXZlbG9wbWVudCcpLFxuICAgIFBPUlQ6IGdldChwcm9jZXNzLmVudiwgJ1BPUlQnLCAzMDAwKSxcbiAgICBTRVNTSU9OX1NFQ1JFVDogZ2V0KHByb2Nlc3MuZW52LCAnU0VTU0lPTl9TRUNSRVQnLCAnc2Vzc2lvbiBzZWNyZXQnKSxcblxuICAgIE1PTkdPREJfVVJJOiBnZXQocHJvY2Vzcy5lbnYsICdBUFBfTU9OR09EQl9VUkknKSxcblxuICAgIEpXVF9FTkNSWVBUSU9OOiBnZXQocHJvY2Vzcy5lbnYsICdKV1RfRU5DUllQVElPTicsICdqd3Rfc2VjcmV0JyksXG4gICAgSldUX0VYUElSQVRJT046IGdldChwcm9jZXNzLmVudiwgJ0pXVF9FWFBJUkFUSU9OJywgJzMwZCcpLFxuXG4gICAgTE9HX0xFVkVMOiBnZXQocHJvY2Vzcy5lbnYsICdBUFBfTE9HX0xFVkVMJywgJ2RlYnVnJyksXG5cbiAgICBVUExPQURfVEVNUF9QQVRIOiBnZXQocHJvY2Vzcy5lbnYsICdVUExPQURfVEVNUF9QQVRIJywgJ3VwbG9hZHMvX3RlbXAnKSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBBVkFUQVJfVVBMT0FEX1BBVEg6IGdldChwcm9jZXNzLmVudiwgJ0FWQVRBUl9VUExPQURfUEFUSCcsICd1cGxvYWRzL2F2YXRhcnMnKSxcbiAgICBBVkFUQVJfTUFYX0ZJTEVfU0laRTogZ2V0KHByb2Nlc3MuZW52LCAnQVZBVEFSX01BWF9GSUxFX1NJWkUnLCAxMDAwMDAwKSxcbn07XG5cbmV4cG9ydCB7XG4gICAgQ09ORklHLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "require",
        "config",
        "CONFIG",
        "ROOT_DIR",
        "path",
        "join",
        "__dirname",
        "ENV",
        "process",
        "env",
        "PORT",
        "SESSION_SECRET",
        "MONGODB_URI",
        "JWT_ENCRYPTION",
        "JWT_EXPIRATION",
        "LOG_LEVEL",
        "UPLOAD_TEMP_PATH",
        "AVATAR_UPLOAD_PATH",
        "AVATAR_MAX_FILE_SIZE"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,QAAQ,EAAEC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CADC;AAGXC,EAAAA,GAAG,EAAE,iBAAIC,OAAO,CAACC,GAAZ,EAAiB,SAAjB,EAA4B,aAA5B,CAHM;AAIXC,EAAAA,IAAI,EAAE,iBAAIF,OAAO,CAACC,GAAZ,EAAiB,MAAjB,EAAyB,IAAzB,CAJK;AAKXE,EAAAA,cAAc,EAAE,iBAAIH,OAAO,CAACC,GAAZ,EAAiB,gBAAjB,EAAmC,gBAAnC,CALL;AAOXG,EAAAA,WAAW,EAAE,iBAAIJ,OAAO,CAACC,GAAZ,EAAiB,iBAAjB,CAPF;AASXI,EAAAA,cAAc,EAAE,iBAAIL,OAAO,CAACC,GAAZ,EAAiB,gBAAjB,EAAmC,YAAnC,CATL;AAUXK,EAAAA,cAAc,EAAE,iBAAIN,OAAO,CAACC,GAAZ,EAAiB,gBAAjB,EAAmC,KAAnC,CAVL;AAYXM,EAAAA,SAAS,EAAE,iBAAIP,OAAO,CAACC,GAAZ,EAAiB,eAAjB,EAAkC,OAAlC,CAZA;AAcXO,EAAAA,gBAAgB,EAAE,iBAAIR,OAAO,CAACC,GAAZ,EAAiB,kBAAjB,EAAqC,eAArC,CAdP;AAeX;AACAQ,EAAAA,kBAAkB,EAAE,iBAAIT,OAAO,CAACC,GAAZ,EAAiB,oBAAjB,EAAuC,iBAAvC,CAhBT;AAiBXS,EAAAA,oBAAoB,EAAE,iBAAIV,OAAO,CAACC,GAAZ,EAAiB,sBAAjB,EAAyC,OAAzC;AAjBX,CAAf",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/config",
      "sourcesContent": [
        "'use strict';\n\nimport { get } from 'lodash';\nimport path from 'path';\n\nrequire('dotenv').config();\n\nconst CONFIG = {\n    ROOT_DIR: path.join(__dirname, '../..'),\n\n    ENV: get(process.env, 'APP_ENV', 'development'),\n    PORT: get(process.env, 'PORT', 3000),\n    SESSION_SECRET: get(process.env, 'SESSION_SECRET', 'session secret'),\n\n    MONGODB_URI: get(process.env, 'APP_MONGODB_URI'),\n\n    JWT_ENCRYPTION: get(process.env, 'JWT_ENCRYPTION', 'jwt_secret'),\n    JWT_EXPIRATION: get(process.env, 'JWT_EXPIRATION', '30d'),\n\n    LOG_LEVEL: get(process.env, 'APP_LOG_LEVEL', 'debug'),\n\n    UPLOAD_TEMP_PATH: get(process.env, 'UPLOAD_TEMP_PATH', 'uploads/_temp'),\n    // eslint-disable-next-line\n    AVATAR_UPLOAD_PATH: get(process.env, 'AVATAR_UPLOAD_PATH', 'uploads/avatars'),\n    AVATAR_MAX_FILE_SIZE: get(process.env, 'AVATAR_MAX_FILE_SIZE', 1000000),\n};\n\nexport {\n    CONFIG,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/models/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.models = exports.db = void 0;\n\nvar _config = require(\"../config\");\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _camelcase = _interopRequireDefault(require(\"camelcase\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst basename = _path.default.basename(__filename);\n\nconst models = {};\nexports.models = models;\n\n_fs.default.readdirSync(__dirname).filter(file => {\n  return file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js';\n}).forEach(file => {\n  const filename = file.split('.')[0];\n  const modelName = (0, _camelcase.default)(filename, {\n    pascalCase: true\n  });\n\n  const model = require(`./${file}`);\n\n  models[modelName] = model[modelName];\n});\n\n_mongoose.default.Promise = global.Promise;\n\nfunction connect() {\n  _mongoose.default.connect(_config.CONFIG.MONGODB_URI);\n\n  return _mongoose.default.connection;\n}\n\n_mongoose.default.set('useCreateIndex', true);\n\n_mongoose.default.set('useNewUrlParser', true);\n\nconst db = connect();\nexports.db = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImJhc2VuYW1lIiwicGF0aCIsIl9fZmlsZW5hbWUiLCJtb2RlbHMiLCJmcyIsInJlYWRkaXJTeW5jIiwiX19kaXJuYW1lIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJmaWxlbmFtZSIsInNwbGl0IiwibW9kZWxOYW1lIiwicGFzY2FsQ2FzZSIsIm1vZGVsIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImNvbm5lY3QiLCJDT05GSUciLCJNT05HT0RCX1VSSSIsImNvbm5lY3Rpb24iLCJzZXQiLCJkYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFFBQVEsR0FBR0MsY0FBS0QsUUFBTCxDQUFjRSxVQUFkLENBQWpCOztBQUVBLE1BQU1DLE1BQU0sR0FBRyxFQUFmOzs7QUFFQUMsWUFBR0MsV0FBSCxDQUFlQyxTQUFmLEVBQ0tDLE1BREwsQ0FDWUMsSUFBSSxJQUFJO0FBQ1osU0FBUUEsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF2QixJQUNDRCxJQUFJLEtBQUtSLFFBRFYsSUFDd0JRLElBQUksQ0FBQ0UsS0FBTCxDQUFXLENBQUMsQ0FBWixNQUFtQixLQURsRDtBQUVILENBSkwsRUFLS0MsT0FMTCxDQUthSCxJQUFJLElBQUk7QUFDYixRQUFNSSxRQUFRLEdBQUdKLElBQUksQ0FBQ0ssS0FBTCxDQUFXLEdBQVgsRUFBZ0IsQ0FBaEIsQ0FBakI7QUFDQSxRQUFNQyxTQUFTLEdBQUcsd0JBQVVGLFFBQVYsRUFBb0I7QUFBQ0csSUFBQUEsVUFBVSxFQUFFO0FBQWIsR0FBcEIsQ0FBbEI7O0FBQ0EsUUFBTUMsS0FBSyxHQUFHQyxPQUFPLENBQUUsS0FBSVQsSUFBSyxFQUFYLENBQXJCOztBQUVBTCxFQUFBQSxNQUFNLENBQUNXLFNBQUQsQ0FBTixHQUFvQkUsS0FBSyxDQUFDRixTQUFELENBQXpCO0FBQ0gsQ0FYTDs7QUFhQUksa0JBQVNDLE9BQVQsR0FBbUJDLE1BQU0sQ0FBQ0QsT0FBMUI7O0FBRUEsU0FBU0UsT0FBVCxHQUFtQjtBQUNmSCxvQkFBU0csT0FBVCxDQUFpQkMsZUFBT0MsV0FBeEI7O0FBRUEsU0FBT0wsa0JBQVNNLFVBQWhCO0FBQ0g7O0FBRUROLGtCQUFTTyxHQUFULENBQWEsZ0JBQWIsRUFBK0IsSUFBL0I7O0FBRUFQLGtCQUFTTyxHQUFULENBQWEsaUJBQWIsRUFBZ0MsSUFBaEM7O0FBRUEsTUFBTUMsRUFBRSxHQUFHTCxPQUFPLEVBQWxCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ09ORklHIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgY2FtZWxDYXNlIGZyb20gJ2NhbWVsY2FzZSc7XG5cbmNvbnN0IGJhc2VuYW1lID0gcGF0aC5iYXNlbmFtZShfX2ZpbGVuYW1lKTtcblxuY29uc3QgbW9kZWxzID0ge307XG5cbmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSlcbiAgICAuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICByZXR1cm4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKVxuICAgICAgICAgICAgJiYgKGZpbGUgIT09IGJhc2VuYW1lKSAmJiAoZmlsZS5zbGljZSgtMykgPT09ICcuanMnKTtcbiAgICB9KVxuICAgIC5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGZpbGUuc3BsaXQoJy4nKVswXTtcbiAgICAgICAgY29uc3QgbW9kZWxOYW1lID0gY2FtZWxDYXNlKGZpbGVuYW1lLCB7cGFzY2FsQ2FzZTogdHJ1ZX0pO1xuICAgICAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUoYC4vJHtmaWxlfWApO1xuXG4gICAgICAgIG1vZGVsc1ttb2RlbE5hbWVdID0gbW9kZWxbbW9kZWxOYW1lXTtcbiAgICB9KTtcblxubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuXG5mdW5jdGlvbiBjb25uZWN0KCkge1xuICAgIG1vbmdvb3NlLmNvbm5lY3QoQ09ORklHLk1PTkdPREJfVVJJKTtcblxuICAgIHJldHVybiBtb25nb29zZS5jb25uZWN0aW9uO1xufVxuXG5tb25nb29zZS5zZXQoJ3VzZUNyZWF0ZUluZGV4JywgdHJ1ZSk7XG5cbm1vbmdvb3NlLnNldCgndXNlTmV3VXJsUGFyc2VyJywgdHJ1ZSk7XG5cbmNvbnN0IGRiID0gY29ubmVjdCgpO1xuXG5leHBvcnQge1xuICAgIGRiLFxuICAgIGNvbm5lY3QsXG4gICAgbW9kZWxzLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "basename",
        "path",
        "__filename",
        "models",
        "fs",
        "readdirSync",
        "__dirname",
        "filter",
        "file",
        "indexOf",
        "slice",
        "forEach",
        "filename",
        "split",
        "modelName",
        "pascalCase",
        "model",
        "require",
        "mongoose",
        "Promise",
        "global",
        "connect",
        "CONFIG",
        "MONGODB_URI",
        "connection",
        "set",
        "db"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAGC,cAAKD,QAAL,CAAcE,UAAd,CAAjB;;AAEA,MAAMC,MAAM,GAAG,EAAf;;;AAEAC,YAAGC,WAAH,CAAeC,SAAf,EACKC,MADL,CACYC,IAAI,IAAI;AACZ,SAAQA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IACCD,IAAI,KAAKR,QADV,IACwBQ,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADlD;AAEH,CAJL,EAKKC,OALL,CAKaH,IAAI,IAAI;AACb,QAAMI,QAAQ,GAAGJ,IAAI,CAACK,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAjB;AACA,QAAMC,SAAS,GAAG,wBAAUF,QAAV,EAAoB;AAACG,IAAAA,UAAU,EAAE;AAAb,GAApB,CAAlB;;AACA,QAAMC,KAAK,GAAGC,OAAO,CAAE,KAAIT,IAAK,EAAX,CAArB;;AAEAL,EAAAA,MAAM,CAACW,SAAD,CAAN,GAAoBE,KAAK,CAACF,SAAD,CAAzB;AACH,CAXL;;AAaAI,kBAASC,OAAT,GAAmBC,MAAM,CAACD,OAA1B;;AAEA,SAASE,OAAT,GAAmB;AACfH,oBAASG,OAAT,CAAiBC,eAAOC,WAAxB;;AAEA,SAAOL,kBAASM,UAAhB;AACH;;AAEDN,kBAASO,GAAT,CAAa,gBAAb,EAA+B,IAA/B;;AAEAP,kBAASO,GAAT,CAAa,iBAAb,EAAgC,IAAhC;;AAEA,MAAMC,EAAE,GAAGL,OAAO,EAAlB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "sourcesContent": [
        "import { CONFIG } from '../config';\nimport mongoose from 'mongoose';\nimport fs from 'fs';\nimport path from 'path';\nimport camelCase from 'camelcase';\n\nconst basename = path.basename(__filename);\n\nconst models = {};\n\nfs.readdirSync(__dirname)\n    .filter(file => {\n        return (file.indexOf('.') !== 0)\n            && (file !== basename) && (file.slice(-3) === '.js');\n    })\n    .forEach(file => {\n        const filename = file.split('.')[0];\n        const modelName = camelCase(filename, {pascalCase: true});\n        const model = require(`./${file}`);\n\n        models[modelName] = model[modelName];\n    });\n\nmongoose.Promise = global.Promise;\n\nfunction connect() {\n    mongoose.connect(CONFIG.MONGODB_URI);\n\n    return mongoose.connection;\n}\n\nmongoose.set('useCreateIndex', true);\n\nmongoose.set('useNewUrlParser', true);\n\nconst db = connect();\n\nexport {\n    db,\n    connect,\n    models,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/models/product.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/models/product.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/models/product.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/models/product.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
        "sourceFileName": "product.model.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Product = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nvar _lodash = require(\"lodash\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst ProductSchema = new _mongoose.default.Schema({\n  code: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  name: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  description: {\n    type: String,\n    trim: true,\n    default: ''\n  },\n  manufacturer: {\n    type: String,\n    trim: true,\n    default: ''\n  },\n  machinePart: {\n    type: String,\n    trim: true,\n    default: ''\n  },\n  warehouseId: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Warehouse',\n    required: false\n  }\n}, {\n  timestamps: true\n});\nProductSchema.plugin(_mongoosePaginateV.default);\nProductSchema.plugin(_mongooseUniqueValidator.default);\n\nProductSchema.statics.findByProductCode = function findByProductCode(code) {\n  return this.findOne({\n    code\n  });\n};\n\nProductSchema.statics.isProductCodeExists = function isProductCodeExists(code, warehouseId) {\n  return this.findOne({\n    code,\n    warehouseId\n  });\n};\n\nProductSchema.set('toJSON', {\n  virtual: true,\n  transform: function (doc, props) {\n    props.id = props._id;\n    props = (0, _lodash.omit)(props, ['_id', '__v']);\n    return props;\n  }\n});\n\nconst Product = _mongoose.default.model('Product', ProductSchema);\n\nexports.Product = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QubW9kZWwuanMiXSwibmFtZXMiOlsiUHJvZHVjdFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwiY29kZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJkZWZhdWx0IiwibWFudWZhY3R1cmVyIiwibWFjaGluZVBhcnQiLCJ3YXJlaG91c2VJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0aW1lc3RhbXBzIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsInN0YXRpY3MiLCJmaW5kQnlQcm9kdWN0Q29kZSIsImZpbmRPbmUiLCJpc1Byb2R1Y3RDb2RlRXhpc3RzIiwic2V0IiwidmlydHVhbCIsInRyYW5zZm9ybSIsImRvYyIsInByb3BzIiwiaWQiLCJfaWQiLCJQcm9kdWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDdENDLEVBQUFBLElBQUksRUFBRTtBQUNGQyxJQUFBQSxJQUFJLEVBQUVDLE1BREo7QUFFRkMsSUFBQUEsUUFBUSxFQUFFLElBRlI7QUFHRkMsSUFBQUEsSUFBSSxFQUFFO0FBSEosR0FEZ0M7QUFNdENDLEVBQUFBLElBQUksRUFBRTtBQUNGSixJQUFBQSxJQUFJLEVBQUVDLE1BREo7QUFFRkMsSUFBQUEsUUFBUSxFQUFFLElBRlI7QUFHRkMsSUFBQUEsSUFBSSxFQUFFO0FBSEosR0FOZ0M7QUFZdENFLEVBQUFBLFdBQVcsRUFBRTtBQUNUTCxJQUFBQSxJQUFJLEVBQUVDLE1BREc7QUFFVEUsSUFBQUEsSUFBSSxFQUFFLElBRkc7QUFHVEcsSUFBQUEsT0FBTyxFQUFFO0FBSEEsR0FaeUI7QUFpQnRDQyxFQUFBQSxZQUFZLEVBQUU7QUFDVlAsSUFBQUEsSUFBSSxFQUFFQyxNQURJO0FBRVZFLElBQUFBLElBQUksRUFBRSxJQUZJO0FBR1ZHLElBQUFBLE9BQU8sRUFBRTtBQUhDLEdBakJ3QjtBQXNCdENFLEVBQUFBLFdBQVcsRUFBRTtBQUNUUixJQUFBQSxJQUFJLEVBQUVDLE1BREc7QUFFVEUsSUFBQUEsSUFBSSxFQUFFLElBRkc7QUFHVEcsSUFBQUEsT0FBTyxFQUFFO0FBSEEsR0F0QnlCO0FBMkJ0Q0csRUFBQUEsV0FBVyxFQUFFO0FBQ1RULElBQUFBLElBQUksRUFBRUgsa0JBQVNDLE1BQVQsQ0FBZ0JZLEtBQWhCLENBQXNCQyxRQURuQjtBQUVUQyxJQUFBQSxHQUFHLEVBQUUsV0FGSTtBQUdUVixJQUFBQSxRQUFRLEVBQUU7QUFIRDtBQTNCeUIsQ0FBcEIsRUFnQ25CO0FBQUVXLEVBQUFBLFVBQVUsRUFBRTtBQUFkLENBaENtQixDQUF0QjtBQWtDQWpCLGFBQWEsQ0FBQ2tCLE1BQWQsQ0FBcUJDLDBCQUFyQjtBQUNBbkIsYUFBYSxDQUFDa0IsTUFBZCxDQUFxQkUsZ0NBQXJCOztBQUVBcEIsYUFBYSxDQUFDcUIsT0FBZCxDQUFzQkMsaUJBQXRCLEdBQTBDLFNBQVNBLGlCQUFULENBQTJCbkIsSUFBM0IsRUFBaUM7QUFDdkUsU0FBTyxLQUFLb0IsT0FBTCxDQUFhO0FBQUVwQixJQUFBQTtBQUFGLEdBQWIsQ0FBUDtBQUNILENBRkQ7O0FBSUFILGFBQWEsQ0FBQ3FCLE9BQWQsQ0FBc0JHLG1CQUF0QixHQUE0QyxTQUFTQSxtQkFBVCxDQUN4Q3JCLElBRHdDLEVBQ2xDVSxXQURrQyxFQUUxQztBQUNFLFNBQU8sS0FBS1UsT0FBTCxDQUFhO0FBQUVwQixJQUFBQSxJQUFGO0FBQVFVLElBQUFBO0FBQVIsR0FBYixDQUFQO0FBQ0gsQ0FKRDs7QUFNQWIsYUFBYSxDQUFDeUIsR0FBZCxDQUFrQixRQUFsQixFQUE0QjtBQUN4QkMsRUFBQUEsT0FBTyxFQUFFLElBRGU7QUFFeEJDLEVBQUFBLFNBQVMsRUFBRSxVQUFVQyxHQUFWLEVBQWVDLEtBQWYsRUFBc0I7QUFDN0JBLElBQUFBLEtBQUssQ0FBQ0MsRUFBTixHQUFXRCxLQUFLLENBQUNFLEdBQWpCO0FBRUFGLElBQUFBLEtBQUssR0FBRyxrQkFBS0EsS0FBTCxFQUFZLENBQUMsS0FBRCxFQUFRLEtBQVIsQ0FBWixDQUFSO0FBRUEsV0FBT0EsS0FBUDtBQUNIO0FBUnVCLENBQTVCOztBQVdBLE1BQU1HLE9BQU8sR0FBRy9CLGtCQUFTZ0MsS0FBVCxDQUFlLFNBQWYsRUFBMEJqQyxhQUExQixDQUFoQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB1bmlxdWVWYWxpZGF0b3IgZnJvbSAnbW9uZ29vc2UtdW5pcXVlLXZhbGlkYXRvcic7XG5pbXBvcnQgbW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiBmcm9tICdtb25nb29zZS1wYWdpbmF0ZS12Mic7XG5pbXBvcnQgeyBvbWl0IH0gZnJvbSAnbG9kYXNoJztcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIGNvZGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIG5hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHJpbTogdHJ1ZSxcblxuICAgIH0sXG4gICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICAgIG1hbnVmYWN0dXJlcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHRyaW06IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICcnLFxuICAgIH0sXG4gICAgbWFjaGluZVBhcnQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICAgIHdhcmVob3VzZUlkOiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiAnV2FyZWhvdXNlJyxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIH0sXG59LCB7IHRpbWVzdGFtcHM6IHRydWUgfSk7XG5cblByb2R1Y3RTY2hlbWEucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGVQbHVnaW4pO1xuUHJvZHVjdFNjaGVtYS5wbHVnaW4odW5pcXVlVmFsaWRhdG9yKTtcblxuUHJvZHVjdFNjaGVtYS5zdGF0aWNzLmZpbmRCeVByb2R1Y3RDb2RlID0gZnVuY3Rpb24gZmluZEJ5UHJvZHVjdENvZGUoY29kZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmRPbmUoeyBjb2RlIH0pO1xufTtcblxuUHJvZHVjdFNjaGVtYS5zdGF0aWNzLmlzUHJvZHVjdENvZGVFeGlzdHMgPSBmdW5jdGlvbiBpc1Byb2R1Y3RDb2RlRXhpc3RzKFxuICAgIGNvZGUsIHdhcmVob3VzZUlkLFxuKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGNvZGUsIHdhcmVob3VzZUlkIH0pO1xufTtcblxuUHJvZHVjdFNjaGVtYS5zZXQoJ3RvSlNPTicsIHtcbiAgICB2aXJ0dWFsOiB0cnVlLFxuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gKGRvYywgcHJvcHMpIHtcbiAgICAgICAgcHJvcHMuaWQgPSBwcm9wcy5faWQ7XG5cbiAgICAgICAgcHJvcHMgPSBvbWl0KHByb3BzLCBbJ19pZCcsICdfX3YnXSk7XG5cbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH0sXG59KTtcblxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKCdQcm9kdWN0JywgUHJvZHVjdFNjaGVtYSk7XG5cbmV4cG9ydCB7XG4gICAgUHJvZHVjdCxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "product.model.js"
      ],
      "names": [
        "ProductSchema",
        "mongoose",
        "Schema",
        "code",
        "type",
        "String",
        "required",
        "trim",
        "name",
        "description",
        "default",
        "manufacturer",
        "machinePart",
        "warehouseId",
        "Types",
        "ObjectId",
        "ref",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "uniqueValidator",
        "statics",
        "findByProductCode",
        "findOne",
        "isProductCodeExists",
        "set",
        "virtual",
        "transform",
        "doc",
        "props",
        "id",
        "_id",
        "Product",
        "model"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,IAAI,EAAE;AAHJ,GADgC;AAMtCC,EAAAA,IAAI,EAAE;AACFJ,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,IAAI,EAAE;AAHJ,GANgC;AAYtCE,EAAAA,WAAW,EAAE;AACTL,IAAAA,IAAI,EAAEC,MADG;AAETE,IAAAA,IAAI,EAAE,IAFG;AAGTG,IAAAA,OAAO,EAAE;AAHA,GAZyB;AAiBtCC,EAAAA,YAAY,EAAE;AACVP,IAAAA,IAAI,EAAEC,MADI;AAEVE,IAAAA,IAAI,EAAE,IAFI;AAGVG,IAAAA,OAAO,EAAE;AAHC,GAjBwB;AAsBtCE,EAAAA,WAAW,EAAE;AACTR,IAAAA,IAAI,EAAEC,MADG;AAETE,IAAAA,IAAI,EAAE,IAFG;AAGTG,IAAAA,OAAO,EAAE;AAHA,GAtByB;AA2BtCG,EAAAA,WAAW,EAAE;AACTT,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBY,KAAhB,CAAsBC,QADnB;AAETC,IAAAA,GAAG,EAAE,WAFI;AAGTV,IAAAA,QAAQ,EAAE;AAHD;AA3ByB,CAApB,EAgCnB;AAAEW,EAAAA,UAAU,EAAE;AAAd,CAhCmB,CAAtB;AAkCAjB,aAAa,CAACkB,MAAd,CAAqBC,0BAArB;AACAnB,aAAa,CAACkB,MAAd,CAAqBE,gCAArB;;AAEApB,aAAa,CAACqB,OAAd,CAAsBC,iBAAtB,GAA0C,SAASA,iBAAT,CAA2BnB,IAA3B,EAAiC;AACvE,SAAO,KAAKoB,OAAL,CAAa;AAAEpB,IAAAA;AAAF,GAAb,CAAP;AACH,CAFD;;AAIAH,aAAa,CAACqB,OAAd,CAAsBG,mBAAtB,GAA4C,SAASA,mBAAT,CACxCrB,IADwC,EAClCU,WADkC,EAE1C;AACE,SAAO,KAAKU,OAAL,CAAa;AAAEpB,IAAAA,IAAF;AAAQU,IAAAA;AAAR,GAAb,CAAP;AACH,CAJD;;AAMAb,aAAa,CAACyB,GAAd,CAAkB,QAAlB,EAA4B;AACxBC,EAAAA,OAAO,EAAE,IADe;AAExBC,EAAAA,SAAS,EAAE,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC7BA,IAAAA,KAAK,CAACC,EAAN,GAAWD,KAAK,CAACE,GAAjB;AAEAF,IAAAA,KAAK,GAAG,kBAAKA,KAAL,EAAY,CAAC,KAAD,EAAQ,KAAR,CAAZ,CAAR;AAEA,WAAOA,KAAP;AACH;AARuB,CAA5B;;AAWA,MAAMG,OAAO,GAAG/B,kBAASgC,KAAT,CAAe,SAAf,EAA0BjC,aAA1B,CAAhB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\nimport uniqueValidator from 'mongoose-unique-validator';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\nimport { omit } from 'lodash';\n\nconst ProductSchema = new mongoose.Schema({\n    code: {\n        type: String,\n        required: true,\n        trim: true,\n    },\n    name: {\n        type: String,\n        required: true,\n        trim: true,\n\n    },\n    description: {\n        type: String,\n        trim: true,\n        default: '',\n    },\n    manufacturer: {\n        type: String,\n        trim: true,\n        default: '',\n    },\n    machinePart: {\n        type: String,\n        trim: true,\n        default: '',\n    },\n    warehouseId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Warehouse',\n        required: false,\n    },\n}, { timestamps: true });\n\nProductSchema.plugin(mongoosePaginatePlugin);\nProductSchema.plugin(uniqueValidator);\n\nProductSchema.statics.findByProductCode = function findByProductCode(code) {\n    return this.findOne({ code });\n};\n\nProductSchema.statics.isProductCodeExists = function isProductCodeExists(\n    code, warehouseId,\n) {\n    return this.findOne({ code, warehouseId });\n};\n\nProductSchema.set('toJSON', {\n    virtual: true,\n    transform: function (doc, props) {\n        props.id = props._id;\n\n        props = omit(props, ['_id', '__v']);\n\n        return props;\n    },\n});\n\nconst Product = mongoose.model('Product', ProductSchema);\n\nexport {\n    Product,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/models/purchase-order.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/models/purchase-order.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/models/purchase-order.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/models/purchase-order.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
        "sourceFileName": "purchase-order.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PurchaseOrder = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst PurchaseOrderSchema = new _mongoose.default.Schema({\n  areas: String,\n  location: String,\n  subtotal: {\n    type: Number,\n    default: 0,\n    min: 0\n  },\n  managerDepartment: String,\n  products: [{\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product'\n    },\n    price: {\n      type: Number,\n      min: 0,\n      default: 0,\n      required: true\n    },\n    quantity: {\n      type: Number,\n      min: 0,\n      default: 0,\n      required: true\n    },\n    productType: {\n      type: String,\n      enum: (0, _lodash.values)(_enums.PRODUCT_TYPES),\n      required: true,\n      default: _enums.PRODUCT_TYPES.NEW\n    },\n    amount: {\n      type: Number,\n      min: 0,\n      default: 0\n    }\n  }],\n  inputDate: {\n    type: Date\n    /*required: true,*/\n\n    /*default: new Date(),*/\n\n  },\n  outputDate: {\n    type: Date\n    /*required: false,*/\n\n  },\n  orderType: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.PURCHASE_ORDER_TYPES),\n    required: true\n  },\n  status: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.PURCHASE_ORDER_STATUS),\n    required: true,\n    default: _enums.PURCHASE_ORDER_STATUS.PENDING\n  },\n  warehouseId: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Warehouse',\n    required: true\n  },\n  createdBy: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    default: null\n  },\n  updatedBy: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    default: null\n  }\n}, {\n  timestamps: true\n});\nPurchaseOrderSchema.plugin(_mongoosePaginateV.default);\nPurchaseOrderSchema.set('toJSON', {\n  transform: function (doc, props) {\n    props.id = props._id;\n    props.products = props.products.map(product => {\n      product.id = product._id;\n      product = (0, _lodash.omit)(product, ['_id']);\n      return product;\n    });\n    props = (0, _lodash.omit)(props, ['_id', '__v']);\n    return props;\n  }\n});\nPurchaseOrderSchema.pre('find', function () {\n  this.populate('products.product');\n});\nPurchaseOrderSchema.pre('save', function (next) {\n  this.products = this.products.map(product => {\n    product.price = parseInt(product.price, 10);\n    product.quantity = parseInt(product.quantity, 10);\n    product.amount = product.price * product.quantity;\n    return product;\n  });\n  this.subtotal = (0, _lodash.sumBy)(this.products, 'amount');\n  next();\n});\nPurchaseOrderSchema.post('save', async function (document, next) {\n  await document.populate('products.product').execPopulate();\n  next();\n});\n\nconst PurchaseOrder = _mongoose.default.model('PurchaseOrder', PurchaseOrderSchema);\n\nexports.PurchaseOrder = PurchaseOrder;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLm1vZGVsLmpzIl0sIm5hbWVzIjpbIlB1cmNoYXNlT3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImFyZWFzIiwiU3RyaW5nIiwibG9jYXRpb24iLCJzdWJ0b3RhbCIsInR5cGUiLCJOdW1iZXIiLCJkZWZhdWx0IiwibWluIiwibWFuYWdlckRlcGFydG1lbnQiLCJwcm9kdWN0cyIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicHJpY2UiLCJyZXF1aXJlZCIsInF1YW50aXR5IiwicHJvZHVjdFR5cGUiLCJlbnVtIiwiUFJPRFVDVF9UWVBFUyIsIk5FVyIsImFtb3VudCIsImlucHV0RGF0ZSIsIkRhdGUiLCJvdXRwdXREYXRlIiwib3JkZXJUeXBlIiwiUFVSQ0hBU0VfT1JERVJfVFlQRVMiLCJzdGF0dXMiLCJQVVJDSEFTRV9PUkRFUl9TVEFUVVMiLCJQRU5ESU5HIiwid2FyZWhvdXNlSWQiLCJjcmVhdGVkQnkiLCJ1cGRhdGVkQnkiLCJ0aW1lc3RhbXBzIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiIsInNldCIsInRyYW5zZm9ybSIsImRvYyIsInByb3BzIiwiaWQiLCJfaWQiLCJtYXAiLCJwcmUiLCJwb3B1bGF0ZSIsIm5leHQiLCJwYXJzZUludCIsInBvc3QiLCJkb2N1bWVudCIsImV4ZWNQb3B1bGF0ZSIsIlB1cmNoYXNlT3JkZXIiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBTUEsTUFBTUEsbUJBQW1CLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDNUNDLEVBQUFBLEtBQUssRUFBRUMsTUFEcUM7QUFFNUNDLEVBQUFBLFFBQVEsRUFBRUQsTUFGa0M7QUFHNUNFLEVBQUFBLFFBQVEsRUFBRTtBQUNOQyxJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTkMsSUFBQUEsT0FBTyxFQUFFLENBRkg7QUFHTkMsSUFBQUEs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LE9BQUtQLFFBQUwsR0FBZ0IsbUJBQU0sS0FBS00sUUFBWCxFQUFxQixRQUFyQixDQUFoQjtBQUVBb0MsRUFBQUEsSUFBSTtBQUNQLENBWkQ7QUFjQWhELG1CQUFtQixDQUFDa0QsSUFBcEIsQ0FBeUIsTUFBekIsRUFBaUMsZ0JBQWdCQyxRQUFoQixFQUEwQkgsSUFBMUIsRUFBZ0M7QUFDN0QsUUFBTUcsUUFBUSxDQUFDSixRQUFULENBQWtCLGtCQUFsQixFQUFzQ0ssWUFBdEMsRUFBTjtBQUVBSixFQUFBQSxJQUFJO0FBQ1AsQ0FKRDs7QUFNQSxNQUFNSyxhQUFhLEdBQUdwRCxrQkFBU3FELEtBQVQsQ0FBZSxlQUFmLEVBQWdDdEQsbUJBQWhDLENBQXRCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlUGx1Z2luIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlLXYyJztcbmltcG9ydCB7IHZhbHVlcywgb21pdCwgc3VtQnkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtcbiAgICBQUk9EVUNUX1RZUEVTLFxuICAgIFBVUkNIQVNFX09SREVSX1NUQVRVUyxcbiAgICBQVVJDSEFTRV9PUkRFUl9UWVBFUyxcbn0gZnJvbSAnLi4vZW51bXMnO1xuXG5jb25zdCBQdXJjaGFzZU9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgYXJlYXM6IFN0cmluZyxcbiAgICBsb2NhdGlvbjogU3RyaW5nLFxuICAgIHN1YnRvdGFsOiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgZGVmYXVsdDogMCxcbiAgICAgICAgbWluOiAwLFxuICAgIH0sXG4gICAgbWFuYWdlckRlcGFydG1lbnQ6IFN0cmluZyxcbiAgICBwcm9kdWN0czogW3tcbiAgICAgICAgcHJvZHVjdDoge1xuICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICAgICAgcmVmOiAnUHJvZHVjdCcsXG4gICAgICAgIH0sXG4gICAgICAgIHByaWNlOiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBkZWZhdWx0OiAwLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHF1YW50aXR5OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBkZWZhdWx0OiAwLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHByb2R1Y3RUeXBlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBlbnVtOiB2YWx1ZXMoUFJPRFVDVF9UWVBFUyksXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFBST0RVQ1RfVFlQRVMuTkVXLFxuICAgICAgICB9LFxuICAgICAgICBhbW91bnQ6IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICAgIH0sXG4gICAgfV0sXG4gICAgaW5wdXREYXRlOiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIC8qcmVxdWlyZWQ6IHRydWUsKi9cbiAgICAgICAgLypkZWZhdWx0OiBuZXcgRGF0ZSgpLCovXG4gICAgfSxcbiAgICBvdXRwdXREYXRlOiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIC8qcmVxdWlyZWQ6IGZhbHNlLCovXG4gICAgfSxcbiAgICBvcmRlclR5cGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBlbnVtOiB2YWx1ZXMoUFVSQ0hBU0VfT1JERVJfVFlQRVMpLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGVudW06IHZhbHVlcyhQVVJDSEFTRV9PUkRFUl9TVEFUVVMpLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogUFVSQ0hBU0VfT1JERVJfU1RBVFVTLlBFTkRJTkcsXG4gICAgfSxcbiAgICB3YXJlaG91c2VJZDoge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1dhcmVob3VzZScsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlZEJ5OiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiAnVXNlcicsXG4gICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcbiAgICB1cGRhdGVkQnk6IHtcbiAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdVc2VyJyxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxufSwge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG59KTtcblxuUHVyY2hhc2VPcmRlclNjaGVtYS5wbHVnaW4obW9uZ29vc2VQYWdpbmF0ZVBsdWdpbik7XG5cblB1cmNoYXNlT3JkZXJTY2hlbWEuc2V0KCd0b0pTT04nLCB7XG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAoZG9jLCBwcm9wcykge1xuXG4gICAgICAgIHByb3BzLmlkID0gcHJvcHMuX2lkO1xuXG4gICAgICAgIHByb3BzLnByb2R1Y3RzID0gcHJvcHMucHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgICAgICAgICAgcHJvZHVjdC5pZCA9IHByb2R1Y3QuX2lkO1xuICAgICAgICAgICAgcHJvZHVjdCA9IG9taXQocHJvZHVjdCwgWydfaWQnXSk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0O1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9wcyA9IG9taXQocHJvcHMsIFsnX2lkJywgJ19fdiddKTtcblxuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgfSxcbn0pO1xuXG5QdXJjaGFzZU9yZGVyU2NoZW1hLnByZSgnZmluZCcsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBvcHVsYXRlKCdwcm9kdWN0cy5wcm9kdWN0Jyk7XG59KTtcblxuUHVyY2hhc2VPcmRlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICAgIHRoaXMucHJvZHVjdHMgPSB0aGlzLnByb2R1Y3RzLm1hcChwcm9kdWN0ID0+IHtcbiAgICAgICAgcHJvZHVjdC5wcmljZSA9IHBhcnNlSW50KHByb2R1Y3QucHJpY2UsIDEwKTtcbiAgICAgICAgcHJvZHVjdC5xdWFudGl0eSA9IHBhcnNlSW50KHByb2R1Y3QucXVhbnRpdHksIDEwKTtcbiAgICAgICAgcHJvZHVjdC5hbW91bnQgPSBwcm9kdWN0LnByaWNlICogcHJvZHVjdC5xdWFudGl0eTtcblxuICAgICAgICByZXR1cm4gcHJvZHVjdDtcbiAgICB9KTtcblxuICAgIHRoaXMuc3VidG90YWwgPSBzdW1CeSh0aGlzLnByb2R1Y3RzLCAnYW1vdW50Jyk7XG5cbiAgICBuZXh0KCk7XG59KTtcblxuUHVyY2hhc2VPcmRlclNjaGVtYS5wb3N0KCdzYXZlJywgYXN5bmMgZnVuY3Rpb24gKGRvY3VtZW50LCBuZXh0KSB7XG4gICAgYXdhaXQgZG9jdW1lbnQucG9wdWxhdGUoJ3Byb2R1Y3RzLnByb2R1Y3QnKS5leGVjUG9wdWxhdGUoKTtcblxuICAgIG5leHQoKTtcbn0pO1xuXG5jb25zdCBQdXJjaGFzZU9yZGVyID0gbW9uZ29vc2UubW9kZWwoJ1B1cmNoYXNlT3JkZXInLCBQdXJjaGFzZU9yZGVyU2NoZW1hKTtcblxuZXhwb3J0IHtcbiAgICBQdXJjaGFzZU9yZGVyLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order.model.js"
      ],
      "names": [
        "PurchaseOrderSchema",
        "mongoose",
        "Schema",
        "areas",
        "String",
        "location",
        "subtotal",
        "type",
        "Number",
        "default",
        "min",
        "managerDepartment",
        "products",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "price",
        "required",
        "quantity",
        "productType",
        "enum",
        "PRODUCT_TYPES",
        "NEW",
        "amount",
        "inputDate",
        "Date",
        "outputDate",
        "orderType",
        "PURCHASE_ORDER_TYPES",
        "status",
        "PURCHASE_ORDER_STATUS",
        "PENDING",
        "warehouseId",
        "createdBy",
        "updatedBy",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "set",
        "transform",
        "doc",
        "props",
        "id",
        "_id",
        "map",
        "pre",
        "populate",
        "next",
        "parseInt",
        "post",
        "document",
        "execPopulate",
        "PurchaseOrder",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\nimport { values, omit, sumBy } from 'lodash';\nimport {\n    PRODUCT_TYPES,\n    PURCHASE_ORDER_STATUS,\n    PURCHASE_ORDER_TYPES,\n} from '../enums';\n\nconst PurchaseOrderSchema = new mongoose.Schema({\n    areas: String,\n    location: String,\n    subtotal: {\n        type: Number,\n        default: 0,\n        min: 0,\n    },\n    managerDepartment: String,\n    products: [{\n        product: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: 'Product',\n        },\n        price: {\n            type: Number,\n            min: 0,\n            default: 0,\n            required: true,\n        },\n        quantity: {\n            type: Number,\n            min: 0,\n            default: 0,\n            required: true,\n        },\n        productType: {\n            type: String,\n            enum: values(PRODUCT_TYPES),\n            required: true,\n            default: PRODUCT_TYPES.NEW,\n        },\n        amount: {\n            type: Number,\n            min: 0,\n            default: 0,\n        },\n    }],\n    inputDate: {\n        type: Date,\n        /*required: true,*/\n        /*default: new Date(),*/\n    },\n    outputDate: {\n        type: Date,\n        /*required: false,*/\n    },\n    orderType: {\n        type: String,\n        enum: values(PURCHASE_ORDER_TYPES),\n        required: true,\n    },\n    status: {\n        type: String,\n        enum: values(PURCHASE_ORDER_STATUS),\n        required: true,\n        default: PURCHASE_ORDER_STATUS.PENDING,\n    },\n    warehouseId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Warehouse',\n        required: true,\n    },\n    createdBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User',\n        default: null,\n    },\n    updatedBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'User',\n        default: null,\n    },\n}, {\n    timestamps: true,\n});\n\nPurchaseOrderSchema.plugin(mongoosePaginatePlugin);\n\nPurchaseOrderSchema.set('toJSON', {\n    transform: function (doc, props) {\n\n        props.id = props._id;\n\n        props.products = props.products.map(product => {\n            product.id = product._id;\n            product = omit(product, ['_id']);\n\n            return product;\n        });\n\n        props = omit(props, ['_id', '__v']);\n\n        return props;\n    },\n});\n\nPurchaseOrderSchema.pre('find', function () {\n    this.populate('products.product');\n});\n\nPurchaseOrderSchema.pre('save', function (next) {\n    this.products = this.products.map(product => {\n        product.price = parseInt(product.price, 10);\n        product.quantity = parseInt(product.quantity, 10);\n        product.amount = product.price * product.quantity;\n\n        return product;\n    });\n\n    this.subtotal = sumBy(this.products, 'amount');\n\n    next();\n});\n\nPurchaseOrderSchema.post('save', async function (document, next) {\n    await document.populate('products.product').execPopulate();\n\n    next();\n});\n\nconst PurchaseOrder = mongoose.model('PurchaseOrder', PurchaseOrderSchema);\n\nexport {\n    PurchaseOrder,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  PURCHASE_ORDER_STATUS: true\n};\nObject.defineProperty(exports, \"PURCHASE_ORDER_STATUS\", {\n  enumerable: true,\n  get: function () {\n    return _purchaseOrderStatus.PURCHASE_ORDER_STATUS;\n  }\n});\n\nvar _gender = require(\"./gender.enum\");\n\nObject.keys(_gender).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _gender[key];\n    }\n  });\n});\n\nvar _role = require(\"./role.enum\");\n\nObject.keys(_role).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _role[key];\n    }\n  });\n});\n\nvar _errorCodes = require(\"./error-codes.enum\");\n\nObject.keys(_errorCodes).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _errorCodes[key];\n    }\n  });\n});\n\nvar _validateErrorCode = require(\"./validate-error-code.enum\");\n\nObject.keys(_validateErrorCode).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _validateErrorCode[key];\n    }\n  });\n});\n\nvar _paginate = require(\"./paginate.enum\");\n\nObject.keys(_paginate).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _paginate[key];\n    }\n  });\n});\n\nvar _productTypes = require(\"./product-types.enum\");\n\nObject.keys(_productTypes).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _productTypes[key];\n    }\n  });\n});\n\nvar _purchaseOrderTypes = require(\"./purchase-order-types.enum\");\n\nObject.keys(_purchaseOrderTypes).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _purchaseOrderTypes[key];\n    }\n  });\n});\n\nvar _purchaseOrderStatus = require(\"./purchase-order-status.enum\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUNBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2dlbmRlci5lbnVtJztcbmV4cG9ydCAqIGZyb20gJy4vcm9sZS5lbnVtJztcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3ItY29kZXMuZW51bSc7XG5leHBvcnQgKiBmcm9tICcuL3ZhbGlkYXRlLWVycm9yLWNvZGUuZW51bSc7XG5leHBvcnQgKiBmcm9tICcuL3BhZ2luYXRlLmVudW0nO1xuZXhwb3J0ICogZnJvbSAnLi9wcm9kdWN0LXR5cGVzLmVudW0nO1xuZXhwb3J0ICogZnJvbSAnLi9wdXJjaGFzZS1vcmRlci10eXBlcy5lbnVtJztcbmV4cG9ydCB7IFBVUkNIQVNFX09SREVSX1NUQVRVUyB9IGZyb20gJy4vcHVyY2hhc2Utb3JkZXItc3RhdHVzLmVudW0nO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export * from './gender.enum';\nexport * from './role.enum';\nexport * from './error-codes.enum';\nexport * from './validate-error-code.enum';\nexport * from './paginate.enum';\nexport * from './product-types.enum';\nexport * from './purchase-order-types.enum';\nexport { PURCHASE_ORDER_STATUS } from './purchase-order-status.enum';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/gender.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/gender.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/gender.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/gender.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "gender.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GENDER = void 0;\nconst GENDER = {\n  MALE: 'MALE',\n  FEMALE: 'FEMALE',\n  OTHER: 'OTHER'\n};\nexports.GENDER = GENDER;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmRlci5lbnVtLmpzIl0sIm5hbWVzIjpbIkdFTkRFUiIsIk1BTEUiLCJGRU1BTEUiLCJPVEhFUiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsTUFBTSxHQUFHO0FBQ2xCQyxFQUFBQSxJQUFJLEVBQUUsTUFEWTtBQUVsQkMsRUFBQUEsTUFBTSxFQUFFLFFBRlU7QUFHbEJDLEVBQUFBLEtBQUssRUFBRTtBQUhXLENBQWYiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYy9lbnVtcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBHRU5ERVIgPSB7XG4gICAgTUFMRTogJ01BTEUnLFxuICAgIEZFTUFMRTogJ0ZFTUFMRScsXG4gICAgT1RIRVI6ICdPVEhFUicsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "gender.enum.js"
      ],
      "names": [
        "GENDER",
        "MALE",
        "FEMALE",
        "OTHER"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,MAAM,GAAG;AAClBC,EAAAA,IAAI,EAAE,MADY;AAElBC,EAAAA,MAAM,EAAE,QAFU;AAGlBC,EAAAA,KAAK,EAAE;AAHW,CAAf",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export const GENDER = {\n    MALE: 'MALE',\n    FEMALE: 'FEMALE',\n    OTHER: 'OTHER',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/role.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/role.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/role.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/role.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "role.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ROLE = void 0;\nconst ROLE = {\n  ADMIN: 'admin',\n  MANAGER: 'manager',\n  STOCKER: 'stocker',\n  USER: 'user'\n};\nexports.ROLE = ROLE;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGUuZW51bS5qcyJdLCJuYW1lcyI6WyJST0xFIiwiQURNSU4iLCJNQU5BR0VSIiwiU1RPQ0tFUiIsIlVTRVIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLElBQUksR0FBRztBQUNoQkMsRUFBQUEsS0FBSyxFQUFFLE9BRFM7QUFFaEJDLEVBQUFBLE9BQU8sRUFBRSxTQUZPO0FBR2hCQyxFQUFBQSxPQUFPLEVBQUUsU0FITztBQUloQkMsRUFBQUEsSUFBSSxFQUFFO0FBSlUsQ0FBYiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL2VudW1zIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFJPTEUgPSB7XG4gICAgQURNSU46ICdhZG1pbicsXG4gICAgTUFOQUdFUjogJ21hbmFnZXInLFxuICAgIFNUT0NLRVI6ICdzdG9ja2VyJyxcbiAgICBVU0VSOiAndXNlcicsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "role.enum.js"
      ],
      "names": [
        "ROLE",
        "ADMIN",
        "MANAGER",
        "STOCKER",
        "USER"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,IAAI,GAAG;AAChBC,EAAAA,KAAK,EAAE,OADS;AAEhBC,EAAAA,OAAO,EAAE,SAFO;AAGhBC,EAAAA,OAAO,EAAE,SAHO;AAIhBC,EAAAA,IAAI,EAAE;AAJU,CAAb",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export const ROLE = {\n    ADMIN: 'admin',\n    MANAGER: 'manager',\n    STOCKER: 'stocker',\n    USER: 'user',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/error-codes.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/error-codes.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/error-codes.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/error-codes.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "error-codes.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ERROR_CODES = void 0;\nconst ERROR_CODES = {\n  FORMAT_NOT_SUPPORTED: 'FORMAT_NOT_SUPPORTED'\n};\nexports.ERROR_CODES = ERROR_CODES;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLWNvZGVzLmVudW0uanMiXSwibmFtZXMiOlsiRVJST1JfQ09ERVMiLCJGT1JNQVRfTk9UX1NVUFBPUlRFRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsV0FBVyxHQUFHO0FBQ3ZCQyxFQUFBQSxvQkFBb0IsRUFBRTtBQURDLENBQXBCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRVJST1JfQ09ERVMgPSB7XG4gICAgRk9STUFUX05PVF9TVVBQT1JURUQ6ICdGT1JNQVRfTk9UX1NVUFBPUlRFRCcsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "error-codes.enum.js"
      ],
      "names": [
        "ERROR_CODES",
        "FORMAT_NOT_SUPPORTED"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,WAAW,GAAG;AACvBC,EAAAA,oBAAoB,EAAE;AADC,CAApB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export const ERROR_CODES = {\n    FORMAT_NOT_SUPPORTED: 'FORMAT_NOT_SUPPORTED',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/validate-error-code.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/validate-error-code.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/validate-error-code.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/validate-error-code.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "validate-error-code.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VALIDATE_ERROR_CODE = void 0;\nconst VALIDATE_ERROR_CODE = {\n  REQUIRED: 'required',\n  UNIQUE: 'unique',\n  EMAIL: 'email',\n  DATE: 'date',\n  DATE_FORMAT: 'date_format'\n};\nexports.VALIDATE_ERROR_CODE = VALIDATE_ERROR_CODE;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlLWVycm9yLWNvZGUuZW51bS5qcyJdLCJuYW1lcyI6WyJWQUxJREFURV9FUlJPUl9DT0RFIiwiUkVRVUlSRUQiLCJVTklRVUUiLCJFTUFJTCIsIkRBVEUiLCJEQVRFX0ZPUk1BVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsbUJBQW1CLEdBQUc7QUFDL0JDLEVBQUFBLFFBQVEsRUFBRSxVQURxQjtBQUUvQkMsRUFBQUEsTUFBTSxFQUFFLFFBRnVCO0FBRy9CQyxFQUFBQSxLQUFLLEVBQUUsT0FId0I7QUFJL0JDLEVBQUFBLElBQUksRUFBRSxNQUp5QjtBQUsvQkMsRUFBQUEsV0FBVyxFQUFFO0FBTGtCLENBQTVCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVkFMSURBVEVfRVJST1JfQ09ERSA9IHtcbiAgICBSRVFVSVJFRDogJ3JlcXVpcmVkJyxcbiAgICBVTklRVUU6ICd1bmlxdWUnLFxuICAgIEVNQUlMOiAnZW1haWwnLFxuICAgIERBVEU6ICdkYXRlJyxcbiAgICBEQVRFX0ZPUk1BVDogJ2RhdGVfZm9ybWF0Jyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "validate-error-code.enum.js"
      ],
      "names": [
        "VALIDATE_ERROR_CODE",
        "REQUIRED",
        "UNIQUE",
        "EMAIL",
        "DATE",
        "DATE_FORMAT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,mBAAmB,GAAG;AAC/BC,EAAAA,QAAQ,EAAE,UADqB;AAE/BC,EAAAA,MAAM,EAAE,QAFuB;AAG/BC,EAAAA,KAAK,EAAE,OAHwB;AAI/BC,EAAAA,IAAI,EAAE,MAJyB;AAK/BC,EAAAA,WAAW,EAAE;AALkB,CAA5B",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export const VALIDATE_ERROR_CODE = {\n    REQUIRED: 'required',\n    UNIQUE: 'unique',\n    EMAIL: 'email',\n    DATE: 'date',\n    DATE_FORMAT: 'date_format',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/paginate.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/paginate.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/paginate.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/paginate.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "paginate.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_PAGE_LIMIT = void 0;\nconst DEFAULT_PAGE_LIMIT = 10;\nexports.DEFAULT_PAGE_LIMIT = DEFAULT_PAGE_LIMIT;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2luYXRlLmVudW0uanMiXSwibmFtZXMiOlsiREVGQVVMVF9QQUdFX0xJTUlUIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxrQkFBa0IsR0FBRyxFQUEzQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL2VudW1zIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IERFRkFVTFRfUEFHRV9MSU1JVCA9IDEwO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "paginate.enum.js"
      ],
      "names": [
        "DEFAULT_PAGE_LIMIT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,kBAAkB,GAAG,EAA3B",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export const DEFAULT_PAGE_LIMIT = 10;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/product-types.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/product-types.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/product-types.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/product-types.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "product-types.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PRODUCT_TYPES = void 0;\nconst PRODUCT_TYPES = {\n  NEW: 'new',\n  RECOVERY: 'recovery',\n  GUARANTEE: 'guarantee'\n};\nexports.PRODUCT_TYPES = PRODUCT_TYPES;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QtdHlwZXMuZW51bS5qcyJdLCJuYW1lcyI6WyJQUk9EVUNUX1RZUEVTIiwiTkVXIiwiUkVDT1ZFUlkiLCJHVUFSQU5URUUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLE1BQU1BLGFBQWEsR0FBRztBQUN6QkMsRUFBQUEsR0FBRyxFQUFFLEtBRG9CO0FBRXpCQyxFQUFBQSxRQUFRLEVBQUUsVUFGZTtBQUd6QkMsRUFBQUEsU0FBUyxFQUFFO0FBSGMsQ0FBdEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYy9lbnVtcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQUk9EVUNUX1RZUEVTID0ge1xuICAgIE5FVzogJ25ldycsXG4gICAgUkVDT1ZFUlk6ICdyZWNvdmVyeScsXG4gICAgR1VBUkFOVEVFOiAnZ3VhcmFudGVlJyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "product-types.enum.js"
      ],
      "names": [
        "PRODUCT_TYPES",
        "NEW",
        "RECOVERY",
        "GUARANTEE"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,aAAa,GAAG;AACzBC,EAAAA,GAAG,EAAE,KADoB;AAEzBC,EAAAA,QAAQ,EAAE,UAFe;AAGzBC,EAAAA,SAAS,EAAE;AAHc,CAAtB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export const PRODUCT_TYPES = {\n    NEW: 'new',\n    RECOVERY: 'recovery',\n    GUARANTEE: 'guarantee',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/purchase-order-types.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/purchase-order-types.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/purchase-order-types.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/purchase-order-types.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "purchase-order-types.enum.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PURCHASE_ORDER_TYPES = void 0;\nconst PURCHASE_ORDER_TYPES = {\n  IN: 'in',\n  OUT: 'out'\n};\nexports.PURCHASE_ORDER_TYPES = PURCHASE_ORDER_TYPES;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLXR5cGVzLmVudW0uanMiXSwibmFtZXMiOlsiUFVSQ0hBU0VfT1JERVJfVFlQRVMiLCJJTiIsIk9VVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTUEsb0JBQW9CLEdBQUc7QUFDaENDLEVBQUFBLEVBQUUsRUFBRSxJQUQ0QjtBQUVoQ0MsRUFBQUEsR0FBRyxFQUFFO0FBRjJCLENBQTdCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvZW51bXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUFVSQ0hBU0VfT1JERVJfVFlQRVMgPSB7XG4gICAgSU46ICdpbicsXG4gICAgT1VUOiAnb3V0Jyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order-types.enum.js"
      ],
      "names": [
        "PURCHASE_ORDER_TYPES",
        "IN",
        "OUT"
      ],
      "mappings": ";;;;;;AAAO,MAAMA,oBAAoB,GAAG;AAChCC,EAAAA,EAAE,EAAE,IAD4B;AAEhCC,EAAAA,GAAG,EAAE;AAF2B,CAA7B",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "export const PURCHASE_ORDER_TYPES = {\n    IN: 'in',\n    OUT: 'out',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/enums\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/enums/purchase-order-status.enum.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/enums/purchase-order-status.enum.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/enums/purchase-order-status.enum.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/enums/purchase-order-status.enum.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
        "sourceFileName": "purchase-order-status.enum.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PURCHASE_ORDER_STATUS = void 0;\nconst PURCHASE_ORDER_STATUS = {\n  PENDING: 'pending',\n  ACCEPTED: 'accepted',\n  REJECTED: 'rejected'\n};\nexports.PURCHASE_ORDER_STATUS = PURCHASE_ORDER_STATUS;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLXN0YXR1cy5lbnVtLmpzIl0sIm5hbWVzIjpbIlBVUkNIQVNFX09SREVSX1NUQVRVUyIsIlBFTkRJTkciLCJBQ0NFUFRFRCIsIlJFSkVDVEVEIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBRU8sTUFBTUEscUJBQXFCLEdBQUc7QUFDakNDLEVBQUFBLE9BQU8sRUFBRSxTQUR3QjtBQUVqQ0MsRUFBQUEsUUFBUSxFQUFFLFVBRnVCO0FBR2pDQyxFQUFBQSxRQUFRLEVBQUU7QUFIdUIsQ0FBOUIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYy9lbnVtcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IFBVUkNIQVNFX09SREVSX1NUQVRVUyA9IHtcbiAgICBQRU5ESU5HOiAncGVuZGluZycsXG4gICAgQUNDRVBURUQ6ICdhY2NlcHRlZCcsXG4gICAgUkVKRUNURUQ6ICdyZWplY3RlZCcsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order-status.enum.js"
      ],
      "names": [
        "PURCHASE_ORDER_STATUS",
        "PENDING",
        "ACCEPTED",
        "REJECTED"
      ],
      "mappings": "AAAA;;;;;;AAEO,MAAMA,qBAAqB,GAAG;AACjCC,EAAAA,OAAO,EAAE,SADwB;AAEjCC,EAAAA,QAAQ,EAAE,UAFuB;AAGjCC,EAAAA,QAAQ,EAAE;AAHuB,CAA9B",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/enums",
      "sourcesContent": [
        "'use strict';\n\nexport const PURCHASE_ORDER_STATUS = {\n    PENDING: 'pending',\n    ACCEPTED: 'accepted',\n    REJECTED: 'rejected',\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/models/user.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/models/user.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/models/user.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/models/user.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
        "sourceFileName": "user.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nvar _mongooseUniqueValidator = _interopRequireDefault(require(\"mongoose-unique-validator\"));\n\nvar _config = require(\"../config\");\n\nvar _bcryptNodejs = _interopRequireDefault(require(\"bcrypt-nodejs\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SALT_WORK_FACTOR = 10;\nconst UserSchema = new _mongoose.default.Schema({\n  username: {\n    type: String,\n    unique: true,\n    required: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    unique: true,\n    required: true,\n    lowercase: true,\n    trim: true\n  },\n  password: {\n    type: String\n  },\n  name: {\n    type: String,\n    trim: true\n  },\n  gender: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.GENDER)\n  },\n  isActive: {\n    type: Boolean,\n    default: true\n  },\n  role: {\n    type: String,\n    enum: (0, _lodash.values)(_enums.ROLE),\n    default: _enums.ROLE.USER\n  },\n  warehouseId: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Warehouse',\n    required: false,\n    default: null\n  }\n}, {\n  timestamps: true\n});\nUserSchema.plugin(_mongoosePaginateV.default);\nUserSchema.plugin(_mongooseUniqueValidator.default);\n/**\n * Helper method for validating user's password.\n */\n\nUserSchema.methods.comparePassword = function comparePassword(candidatePassword) {\n  return new Promise(resolve => {\n    _bcryptNodejs.default.compare(candidatePassword, this.password, (err, isMatched) => {\n      return resolve(isMatched);\n    });\n  });\n};\n/**\n * Helper method for generate access token\n */\n\n\nUserSchema.methods.generateJWT = function generateJWT() {\n  const payload = {\n    id: this.id\n  };\n  const options = {\n    expiresIn: _config.CONFIG.JWT_EXPIRATION\n  };\n  return _jsonwebtoken.default.sign(payload, _config.CONFIG.JWT_ENCRYPTION, options);\n};\n\nUserSchema.methods.hasRole = function hasRole(name) {\n  return this.role === name;\n};\n/**\n * Helper method for find a user by email\n * @param {String} email\n */\n\n\nUserSchema.statics.findByEmail = function findByEmail(email) {\n  return this.findOne({\n    email\n  });\n};\n/**\n * Helper method for find a user by username\n * @param username\n */\n\n\nUserSchema.statics.findByUsername = function findByUsername(username) {\n  return this.findOne({\n    username\n  });\n};\n\nUserSchema.set('toJSON', {\n  transform: function (doc, ret) {\n    return mappingResponse(ret);\n  }\n});\n/**\n * BEFORE SAVE MIDDLEWARE\n */\n\nUserSchema.pre('save', function (next) {\n  const self = this;\n\n  if (!self.isModified('password')) {\n    return next();\n  }\n\n  _bcryptNodejs.default.genSalt(SALT_WORK_FACTOR, function (err, salt) {\n    if (err) return next(err);\n\n    _bcryptNodejs.default.hash(self.password, salt, null, function (err, hash) {\n      if (err) return next(err);\n      self.password = hash;\n      next();\n    });\n  });\n});\n\nfunction mappingResponse(props = {}) {\n  const data = {\n    id: props._id,\n    username: props.username,\n    email: props.email,\n    name: props.name,\n    gender: props.gender,\n    role: props.role,\n    is_active: props.isActive,\n    created_at: props.createdAt,\n    updated_at: props.updatedAt,\n    warehouse: props.warehouseId\n  };\n  return data;\n}\n\nconst User = _mongoose.default.model('User', UserSchema);\n\nexports.User = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIubW9kZWwuanMiXSwibmFtZXMiOlsiU0FMVF9XT1JLX0ZBQ1RPUiIsIlVzZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsInVuaXF1ZSIsInJlcXVpcmVkIiwidHJpbSIsImVtYWlsIiwibG93ZXJjYXNlIiwicGFzc3dvcmQiLCJuYW1lIiwiZ2VuZGVyIiwiZW51bSIsIkdFTkRFUiIsImlzQWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJyb2xlIiwiUk9MRSIsIlVTRVIiLCJ3YXJlaG91c2VJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0aW1lc3RhbXBzIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiIsInVuaXF1ZVZhbGlkYXRvciIsIm1ldGhvZHMiLCJjb21wYXJlUGFzc3dvcmQiLCJjYW5kaWRhdGVQYXNzd29yZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYmNyeXB0IiwiY29tcGFyZSIsImVyciIsImlzTWF0Y2hlZCIsImdlbmVyYXRlSldUIiwicGF5bG9hZCIsImlkIiwib3B0aW9ucyIsImV4cGlyZXNJbiIsIkNPTkZJRyIsIkpXVF9FWFBJUkFUSU9OIiwiand0Iiwic2lnbiIsIkpXVF9FTkNSWVBUSU9OIiwiaGFzUm9sZSIsInN0YXRpY3MiLCJmaW5kQnlFbWFpbCIsImZpbmRPbmUiLCJmaW5kQnlVc2VybmFtZSIsInNldCIsInRyYW5zZm9ybSIsImRvYyIsInJldCIsIm1hcHBpbmdSZXNwb25zZSIsInByZSIsIm5leHQiLCJzZWxmIiwiaXNNb2RpZmllZCIsImdlblNhbHQiLCJzYWx0IiwiaGFzaCIsInByb3BzIiwiZGF0YSIsIl9pZCIsImlzX2FjdGl2ZSIsImNyZWF0ZWRfYXQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkX2F0IiwidXBkYXRlZEF0Iiwid2FyZWhvdXNlIiwiVXNlciIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7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QUFTLE9BQU91QixJQUFJLENBQUN2QixHQUFELENBQVg7QUFFVHdCLE1BQUFBLElBQUksQ0FBQ2xELFFBQUwsR0FBZ0JzRCxJQUFoQjtBQUNBTCxNQUFBQSxJQUFJO0FBQ1AsS0FMRDtBQU1ILEdBVEQ7QUFVSCxDQWhCRDs7QUFrQkEsU0FBU0YsZUFBVCxDQUF5QlEsS0FBSyxHQUFHLEVBQWpDLEVBQXFDO0FBQ2pDLFFBQU1DLElBQUksR0FBRztBQUNUMUIsSUFBQUEsRUFBRSxFQUFFeUIsS0FBSyxDQUFDRSxHQUREO0FBRVRqRSxJQUFBQSxRQUFRLEVBQUUrRCxLQUFLLENBQUMvRCxRQUZQO0FBR1RNLElBQUFBLEtBQUssRUFBRXlELEtBQUssQ0FBQ3pELEtBSEo7QUFJVEcsSUFBQUEsSUFBSSxFQUFFc0QsS0FBSyxDQUFDdEQsSUFKSDtBQUtUQyxJQUFBQSxNQUFNLEVBQUVxRCxLQUFLLENBQUNyRCxNQUxMO0FBTVRNLElBQUFBLElBQUksRUFBRStDLEtBQUssQ0FBQy9DLElBTkg7QUFPVGtELElBQUFBLFNBQVMsRUFBRUgsS0FBSyxDQUFDbEQsUUFQUjtBQVFUc0QsSUFBQUEsVUFBVSxFQUFFSixLQUFLLENBQUNLLFNBUlQ7QUFTVEMsSUFBQUEsVUFBVSxFQUFFTixLQUFLLENBQUNPLFNBVFQ7QUFVVEMsSUFBQUEsU0FBUyxFQUFFUixLQUFLLENBQUM1QztBQVZSLEdBQWI7QUFhQSxTQUFPNkMsSUFBUDtBQUNIOztBQUVELE1BQU1RLElBQUksR0FBRzFFLGtCQUFTMkUsS0FBVCxDQUFlLE1BQWYsRUFBdUI1RSxVQUF2QixDQUFiIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlUGx1Z2luIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlLXYyJztcbmltcG9ydCB1bmlxdWVWYWxpZGF0b3IgZnJvbSAnbW9uZ29vc2UtdW5pcXVlLXZhbGlkYXRvcic7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQtbm9kZWpzJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IHZhbHVlcyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBHRU5ERVIsIFJPTEUgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmNvbnN0IFNBTFRfV09SS19GQUNUT1IgPSAxMDtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgbG93ZXJjYXNlOiB0cnVlLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHRyaW06IHRydWUsXG4gICAgfSxcbiAgICBnZW5kZXI6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBlbnVtOiB2YWx1ZXMoR0VOREVSKSxcbiAgICB9LFxuICAgIGlzQWN0aXZlOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgfSxcbiAgICByb2xlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZW51bTogdmFsdWVzKFJPTEUpLFxuICAgICAgICBkZWZhdWx0OiBST0xFLlVTRVIsXG4gICAgfSxcbiAgICB3YXJlaG91c2VJZDoge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1dhcmVob3VzZScsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxufSwgeyB0aW1lc3RhbXBzOiB0cnVlIH0pO1xuXG5Vc2VyU2NoZW1hLnBsdWdpbihtb25nb29zZVBhZ2luYXRlUGx1Z2luKTtcblVzZXJTY2hlbWEucGx1Z2luKHVuaXF1ZVZhbGlkYXRvcik7XG5cbi8qKlxuICogSGVscGVyIG1ldGhvZCBmb3IgdmFsaWRhdGluZyB1c2VyJ3MgcGFzc3dvcmQuXG4gKi9cblVzZXJTY2hlbWEubWV0aG9kcy5jb21wYXJlUGFzc3dvcmQgPVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVQYXNzd29yZChjYW5kaWRhdGVQYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGJjcnlwdC5jb21wYXJlKGNhbmRpZGF0ZVBhc3N3b3JkLCB0aGlzLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIChlcnIsIGlzTWF0Y2hlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpc01hdGNoZWQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4vKipcbiAqIEhlbHBlciBtZXRob2QgZm9yIGdlbmVyYXRlIGFjY2VzcyB0b2tlblxuICovXG5Vc2VyU2NoZW1hLm1ldGhvZHMuZ2VuZXJhdGVKV1QgPSBmdW5jdGlvbiBnZW5lcmF0ZUpXVCgpIHtcbiAgICBjb25zdCBwYXlsb2FkID0geyBpZDogdGhpcy5pZCB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgZXhwaXJlc0luOiBDT05GSUcuSldUX0VYUElSQVRJT04gfTtcblxuICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBDT05GSUcuSldUX0VOQ1JZUFRJT04sIG9wdGlvbnMpO1xufTtcblxuVXNlclNjaGVtYS5tZXRob2RzLmhhc1JvbGUgPSBmdW5jdGlvbiBoYXNSb2xlKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5yb2xlID09PSBuYW1lO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgbWV0aG9kIGZvciBmaW5kIGEgdXNlciBieSBlbWFpbFxuICogQHBhcmFtIHtTdHJpbmd9IGVtYWlsXG4gKi9cblVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlFbWFpbCA9IGZ1bmN0aW9uIGZpbmRCeUVtYWlsKGVtYWlsKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGVtYWlsIH0pO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgbWV0aG9kIGZvciBmaW5kIGEgdXNlciBieSB1c2VybmFtZVxuICogQHBhcmFtIHVzZXJuYW1lXG4gKi9cblVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlVc2VybmFtZSA9IGZ1bmN0aW9uIGZpbmRCeVVzZXJuYW1lKHVzZXJuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xufTtcblxuVXNlclNjaGVtYS5zZXQoJ3RvSlNPTicsIHtcbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIChkb2MsIHJldCkge1xuICAgICAgICByZXR1cm4gbWFwcGluZ1Jlc3BvbnNlKHJldCk7XG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIEJFRk9SRSBTQVZFIE1JRERMRVdBUkVcbiAqL1xuVXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFzZWxmLmlzTW9kaWZpZWQoJ3Bhc3N3b3JkJykpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG5cbiAgICBiY3J5cHQuZ2VuU2FsdChTQUxUX1dPUktfRkFDVE9SLCBmdW5jdGlvbiAoZXJyLCBzYWx0KSB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiBuZXh0KGVycik7XG5cbiAgICAgICAgYmNyeXB0Lmhhc2goc2VsZi5wYXNzd29yZCwgc2FsdCwgbnVsbCwgZnVuY3Rpb24gKGVyciwgaGFzaCkge1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIG5leHQoZXJyKTtcblxuICAgICAgICAgICAgc2VsZi5wYXNzd29yZCA9IGhhc2g7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG5cbmZ1bmN0aW9uIG1hcHBpbmdSZXNwb25zZShwcm9wcyA9IHt9KSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgaWQ6IHByb3BzLl9pZCxcbiAgICAgICAgdXNlcm5hbWU6IHByb3BzLnVzZXJuYW1lLFxuICAgICAgICBlbWFpbDogcHJvcHMuZW1haWwsXG4gICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgIGdlbmRlcjogcHJvcHMuZ2VuZGVyLFxuICAgICAgICByb2xlOiBwcm9wcy5yb2xlLFxuICAgICAgICBpc19hY3RpdmU6IHByb3BzLmlzQWN0aXZlLFxuICAgICAgICBjcmVhdGVkX2F0OiBwcm9wcy5jcmVhdGVkQXQsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHByb3BzLnVwZGF0ZWRBdCxcbiAgICAgICAgd2FyZWhvdXNlOiBwcm9wcy53YXJlaG91c2VJZCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRhdGE7XG59XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIFVzZXJTY2hlbWEpO1xuXG5leHBvcnQge1xuICAgIFVzZXIsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.model.js"
      ],
      "names": [
        "SALT_WORK_FACTOR",
        "UserSchema",
        "mongoose",
        "Schema",
        "username",
        "type",
        "String",
        "unique",
        "required",
        "trim",
        "email",
        "lowercase",
        "password",
        "name",
        "gender",
        "enum",
        "GENDER",
        "isActive",
        "Boolean",
        "default",
        "role",
        "ROLE",
        "USER",
        "warehouseId",
        "Types",
        "ObjectId",
        "ref",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "uniqueValidator",
        "methods",
        "comparePassword",
        "candidatePassword",
        "Promise",
        "resolve",
        "bcrypt",
        "compare",
        "err",
        "isMatched",
        "generateJWT",
        "payload",
        "id",
        "options",
        "expiresIn",
        "CONFIG",
        "JWT_EXPIRATION",
        "jwt",
        "sign",
        "JWT_ENCRYPTION",
        "hasRole",
        "statics",
        "findByEmail",
        "findOne",
        "findByUsername",
        "set",
        "transform",
        "doc",
        "ret",
        "mappingResponse",
        "pre",
        "next",
        "self",
        "isModified",
        "genSalt",
        "salt",
        "hash",
        "props",
        "data",
        "_id",
        "is_active",
        "created_at",
        "createdAt",
        "updated_at",
        "updatedAt",
        "warehouse",
        "User",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\nimport uniqueValidator from 'mongoose-unique-validator';\nimport { CONFIG } from '../config';\nimport bcrypt from 'bcrypt-nodejs';\nimport jwt from 'jsonwebtoken';\nimport { values } from 'lodash';\nimport { GENDER, ROLE } from '../enums';\n\nconst SALT_WORK_FACTOR = 10;\n\nconst UserSchema = new mongoose.Schema({\n    username: {\n        type: String,\n        unique: true,\n        required: true,\n        trim: true,\n    },\n    email: {\n        type: String,\n        unique: true,\n        required: true,\n        lowercase: true,\n        trim: true,\n    },\n    password: {\n        type: String,\n    },\n    name: {\n        type: String,\n        trim: true,\n    },\n    gender: {\n        type: String,\n        enum: values(GENDER),\n    },\n    isActive: {\n        type: Boolean,\n        default: true,\n    },\n    role: {\n        type: String,\n        enum: values(ROLE),\n        default: ROLE.USER,\n    },\n    warehouseId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Warehouse',\n        required: false,\n        default: null,\n    },\n}, { timestamps: true });\n\nUserSchema.plugin(mongoosePaginatePlugin);\nUserSchema.plugin(uniqueValidator);\n\n/**\n * Helper method for validating user's password.\n */\nUserSchema.methods.comparePassword =\n    function comparePassword(candidatePassword) {\n        return new Promise((resolve) => {\n            bcrypt.compare(candidatePassword, this.password,\n                (err, isMatched) => {\n                    return resolve(isMatched);\n                },\n            );\n        });\n    };\n\n/**\n * Helper method for generate access token\n */\nUserSchema.methods.generateJWT = function generateJWT() {\n    const payload = { id: this.id };\n\n    const options = { expiresIn: CONFIG.JWT_EXPIRATION };\n\n    return jwt.sign(payload, CONFIG.JWT_ENCRYPTION, options);\n};\n\nUserSchema.methods.hasRole = function hasRole(name) {\n    return this.role === name;\n};\n\n/**\n * Helper method for find a user by email\n * @param {String} email\n */\nUserSchema.statics.findByEmail = function findByEmail(email) {\n    return this.findOne({ email });\n};\n\n/**\n * Helper method for find a user by username\n * @param username\n */\nUserSchema.statics.findByUsername = function findByUsername(username) {\n    return this.findOne({ username });\n};\n\nUserSchema.set('toJSON', {\n    transform: function (doc, ret) {\n        return mappingResponse(ret);\n    },\n});\n\n/**\n * BEFORE SAVE MIDDLEWARE\n */\nUserSchema.pre('save', function(next) {\n    const self = this;\n    if (!self.isModified('password')) {\n        return next();\n    }\n\n    bcrypt.genSalt(SALT_WORK_FACTOR, function (err, salt) {\n        if (err) return next(err);\n\n        bcrypt.hash(self.password, salt, null, function (err, hash) {\n            if (err) return next(err);\n\n            self.password = hash;\n            next();\n        });\n    });\n});\n\nfunction mappingResponse(props = {}) {\n    const data = {\n        id: props._id,\n        username: props.username,\n        email: props.email,\n        name: props.name,\n        gender: props.gender,\n        role: props.role,\n        is_active: props.isActive,\n        created_at: props.createdAt,\n        updated_at: props.updatedAt,\n        warehouse: props.warehouseId,\n    };\n\n    return data;\n}\n\nconst User = mongoose.model('User', UserSchema);\n\nexport {\n    User,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/models/warehouse.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/models/warehouse.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/models/warehouse.model.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/models/warehouse.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
        "sourceFileName": "warehouse.model.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Warehouse = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nconst WarehouseSchema = new Schema({\n  name: {\n    type: String,\n    required: true,\n    trim: true\n  }\n}, {\n  timestamps: true\n});\nWarehouseSchema.plugin(_mongoosePaginateV.default);\nWarehouseSchema.set('toJSON', {\n  transform: function (doc, ret) {\n    return mappingResponse(ret);\n  }\n});\n\nfunction mappingResponse(props) {\n  return {\n    id: props._id,\n    name: props.name,\n    created_at: props.createdAt,\n    updated_at: props.updatedAt\n  };\n}\n\nconst Warehouse = _mongoose.default.model('Warehouse', WarehouseSchema);\n\nexports.Warehouse = Warehouse;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhcmVob3VzZS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIldhcmVob3VzZVNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwidGltZXN0YW1wcyIsInBsdWdpbiIsIm1vbmdvb3NlUGFnaW5hdGVQbHVnaW4iLCJzZXQiLCJ0cmFuc2Zvcm0iLCJkb2MiLCJyZXQiLCJtYXBwaW5nUmVzcG9uc2UiLCJwcm9wcyIsImlkIiwiX2lkIiwiY3JlYXRlZF9hdCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRfYXQiLCJ1cGRhdGVkQXQiLCJXYXJlaG91c2UiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsTUFBTUUsZUFBZSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUMvQkcsRUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLElBQUFBLElBQUksRUFBRUMsTUFESjtBQUVGQyxJQUFBQSxRQUFRLEVBQUUsSUFGUjtBQUdGQyxJQUFBQSxJQUFJLEVBQUU7QUFISjtBQUR5QixDQUFYLEVBTXJCO0FBQUVDLEVBQUFBLFVBQVUsRUFBRTtBQUFkLENBTnFCLENBQXhCO0FBUUFOLGVBQWUsQ0FBQ08sTUFBaEIsQ0FBdUJDLDBCQUF2QjtBQUVBUixlQUFlLENBQUNTLEdBQWhCLENBQW9CLFFBQXBCLEVBQThCO0FBQzFCQyxFQUFBQSxTQUFTLEVBQUUsVUFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQzNCLFdBQU9DLGVBQWUsQ0FBQ0QsR0FBRCxDQUF0QjtBQUNIO0FBSHlCLENBQTlCOztBQU1BLFNBQVNDLGVBQVQsQ0FBeUJDLEtBQXpCLEVBQWdDO0FBQzVCLFNBQU87QUFDSEMsSUFBQUEsRUFBRSxFQUFFRCxLQUFLLENBQUNFLEdBRFA7QUFFSGYsSUFBQUEsSUFBSSxFQUFFYSxLQUFLLENBQUNiLElBRlQ7QUFHSGdCLElBQUFBLFVBQVUsRUFBRUgsS0FBSyxDQUFDSSxTQUhmO0FBSUhDLElBQUFBLFVBQVUsRUFBRUwsS0FBSyxDQUFDTTtBQUpmLEdBQVA7QUFNSDs7QUFFRCxNQUFNQyxTQUFTLEdBQUd0QixrQkFBU3VCLEtBQVQsQ0FBZSxXQUFmLEVBQTRCdEIsZUFBNUIsQ0FBbEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYy9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgbW9uZ29vc2VQYWdpbmF0ZVBsdWdpbiBmcm9tICdtb25nb29zZS1wYWdpbmF0ZS12Mic7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgV2FyZWhvdXNlU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB0cmltOiB0cnVlLFxuICAgIH0sXG59LCB7IHRpbWVzdGFtcHM6IHRydWUgfSk7XG5cbldhcmVob3VzZVNjaGVtYS5wbHVnaW4obW9uZ29vc2VQYWdpbmF0ZVBsdWdpbik7XG5cbldhcmVob3VzZVNjaGVtYS5zZXQoJ3RvSlNPTicsIHtcbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIChkb2MsIHJldCkge1xuICAgICAgICByZXR1cm4gbWFwcGluZ1Jlc3BvbnNlKHJldCk7XG4gICAgfSxcbn0pO1xuXG5mdW5jdGlvbiBtYXBwaW5nUmVzcG9uc2UocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogcHJvcHMuX2lkLFxuICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICBjcmVhdGVkX2F0OiBwcm9wcy5jcmVhdGVkQXQsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHByb3BzLnVwZGF0ZWRBdCxcbiAgICB9O1xufVxuXG5jb25zdCBXYXJlaG91c2UgPSBtb25nb29zZS5tb2RlbCgnV2FyZWhvdXNlJywgV2FyZWhvdXNlU2NoZW1hKTtcblxuZXhwb3J0IHtcbiAgICBXYXJlaG91c2UsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "warehouse.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "WarehouseSchema",
        "name",
        "type",
        "String",
        "required",
        "trim",
        "timestamps",
        "plugin",
        "mongoosePaginatePlugin",
        "set",
        "transform",
        "doc",
        "ret",
        "mappingResponse",
        "props",
        "id",
        "_id",
        "created_at",
        "createdAt",
        "updated_at",
        "updatedAt",
        "Warehouse",
        "model"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,MAAME,eAAe,GAAG,IAAIF,MAAJ,CAAW;AAC/BG,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE,IAFR;AAGFC,IAAAA,IAAI,EAAE;AAHJ;AADyB,CAAX,EAMrB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CANqB,CAAxB;AAQAN,eAAe,CAACO,MAAhB,CAAuBC,0BAAvB;AAEAR,eAAe,CAACS,GAAhB,CAAoB,QAApB,EAA8B;AAC1BC,EAAAA,SAAS,EAAE,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC3B,WAAOC,eAAe,CAACD,GAAD,CAAtB;AACH;AAHyB,CAA9B;;AAMA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,SAAO;AACHC,IAAAA,EAAE,EAAED,KAAK,CAACE,GADP;AAEHf,IAAAA,IAAI,EAAEa,KAAK,CAACb,IAFT;AAGHgB,IAAAA,UAAU,EAAEH,KAAK,CAACI,SAHf;AAIHC,IAAAA,UAAU,EAAEL,KAAK,CAACM;AAJf,GAAP;AAMH;;AAED,MAAMC,SAAS,GAAGtB,kBAASuB,KAAT,CAAe,WAAf,EAA4BtB,eAA5B,CAAlB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/models",
      "sourcesContent": [
        "'use strict';\n\nimport mongoose from 'mongoose';\nimport mongoosePaginatePlugin from 'mongoose-paginate-v2';\n\nconst Schema = mongoose.Schema;\n\nconst WarehouseSchema = new Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true,\n    },\n}, { timestamps: true });\n\nWarehouseSchema.plugin(mongoosePaginatePlugin);\n\nWarehouseSchema.set('toJSON', {\n    transform: function (doc, ret) {\n        return mappingResponse(ret);\n    },\n});\n\nfunction mappingResponse(props) {\n    return {\n        id: props._id,\n        name: props.name,\n        created_at: props.createdAt,\n        updated_at: props.updatedAt,\n    };\n}\n\nconst Warehouse = mongoose.model('Warehouse', WarehouseSchema);\n\nexport {\n    Warehouse,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/logger.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/logger.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/logger.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/logger.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
        "sourceFileName": "logger.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _winston = _interopRequireDefault(require(\"winston\"));\n\nrequire(\"winston-daily-rotate-file\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst TIMESTAMP_FORMAT = 'YYYY-MM-DD HH:mm:ss.SSS';\nconst logger = new _winston.default.Logger({\n  transports: [new _winston.default.transports.Console({\n    name: 'app_console_log',\n    level: process.env.APP_LOG_LEVEL || 'info',\n    colorize: true,\n    timestamp: () => {\n      return (0, _moment.default)().format(TIMESTAMP_FORMAT);\n    }\n  }), new _winston.default.transports.DailyRotateFile({\n    name: 'app_daily_log',\n    filename: _path.default.resolve(__dirname, '../', 'logs', 'app.%DATE%.log'),\n    datePattern: 'YYYY-MM-DD',\n    prepend: true,\n    zippedArchive: true,\n    level: process.env.APP_LOG_LEVEL || 'info',\n    timestamp: function () {\n      return (0, _moment.default)().format(TIMESTAMP_FORMAT);\n    }\n  })]\n});\nvar _default = logger;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dlci5qcyJdLCJuYW1lcyI6WyJUSU1FU1RBTVBfRk9STUFUIiwibG9nZ2VyIiwid2luc3RvbiIsIkxvZ2dlciIsInRyYW5zcG9ydHMiLCJDb25zb2xlIiwibmFtZSIsImxldmVsIiwicHJvY2VzcyIsImVudiIsIkFQUF9MT0dfTEVWRUwiLCJjb2xvcml6ZSIsInRpbWVzdGFtcCIsImZvcm1hdCIsIkRhaWx5Um90YXRlRmlsZSIsImZpbGVuYW1lIiwicGF0aCIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJkYXRlUGF0dGVybiIsInByZXBlbmQiLCJ6aXBwZWRBcmNoaXZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcseUJBQXpCO0FBRUEsTUFBTUMsTUFBTSxHQUFHLElBQUlDLGlCQUFRQyxNQUFaLENBQW1CO0FBQzlCQyxFQUFBQSxVQUFVLEVBQUUsQ0FFUixJQUFJRixpQkFBUUUsVUFBUixDQUFtQkMsT0FBdkIsQ0FBK0I7QUFDM0JDLElBQUFBLElBQUksRUFBRSxpQkFEcUI7QUFFM0JDLElBQUFBLEtBQUssRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQVosSUFBNkIsTUFGVDtBQUczQkMsSUFBQUEsUUFBUSxFQUFFLElBSGlCO0FBSTNCQyxJQUFBQSxTQUFTLEVBQUUsTUFBTTtBQUNiLGFBQU8sdUJBQVNDLE1BQVQsQ0FBZ0JiLGdCQUFoQixDQUFQO0FBQ0g7QUFOMEIsR0FBL0IsQ0FGUSxFQVdSLElBQUlFLGlCQUFRRSxVQUFSLENBQW1CVSxlQUF2QixDQUF1QztBQUNuQ1IsSUFBQUEsSUFBSSxFQUFFLGVBRDZCO0FBRW5DUyxJQUFBQSxRQUFRLEVBQUVDLGNBQUtDLE9BQUwsQ0FBYUMsU0FBYixFQUF3QixLQUF4QixFQUErQixNQUEvQixFQUF1QyxnQkFBdkMsQ0FGeUI7QUFHbkNDLElBQUFBLFdBQVcsRUFBRSxZQUhzQjtBQUluQ0MsSUFBQUEsT0FBTyxFQUFFLElBSjBCO0FBS25DQyxJQUFBQSxhQUFhLEVBQUUsSUFMb0I7QUFNbkNkLElBQUFBLEtBQUssRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQVosSUFBNkIsTUFORDtBQU9uQ0UsSUFBQUEsU0FBUyxFQUFFLFlBQVk7QUFDbkIsYUFBTyx1QkFBU0MsTUFBVCxDQUFnQmIsZ0JBQWhCLENBQVA7QUFDSDtBQVRrQyxHQUF2QyxDQVhRO0FBRGtCLENBQW5CLENBQWY7ZUEwQmVDLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHdpbnN0b24gZnJvbSAnd2luc3Rvbic7XG5pbXBvcnQgJ3dpbnN0b24tZGFpbHktcm90YXRlLWZpbGUnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IFRJTUVTVEFNUF9GT1JNQVQgPSAnWVlZWS1NTS1ERCBISDptbTpzcy5TU1MnO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgd2luc3Rvbi5Mb2dnZXIoe1xuICAgIHRyYW5zcG9ydHM6IFtcblxuICAgICAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkNvbnNvbGUoe1xuICAgICAgICAgICAgbmFtZTogJ2FwcF9jb25zb2xlX2xvZycsXG4gICAgICAgICAgICBsZXZlbDogcHJvY2Vzcy5lbnYuQVBQX0xPR19MRVZFTCB8fCAnaW5mbycsXG4gICAgICAgICAgICBjb2xvcml6ZTogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQoKS5mb3JtYXQoVElNRVNUQU1QX0ZPUk1BVCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcblxuICAgICAgICBuZXcgd2luc3Rvbi50cmFuc3BvcnRzLkRhaWx5Um90YXRlRmlsZSh7XG4gICAgICAgICAgICBuYW1lOiAnYXBwX2RhaWx5X2xvZycsXG4gICAgICAgICAgICBmaWxlbmFtZTogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uLycsICdsb2dzJywgJ2FwcC4lREFURSUubG9nJyksXG4gICAgICAgICAgICBkYXRlUGF0dGVybjogJ1lZWVktTU0tREQnLFxuICAgICAgICAgICAgcHJlcGVuZDogdHJ1ZSxcbiAgICAgICAgICAgIHppcHBlZEFyY2hpdmU6IHRydWUsXG4gICAgICAgICAgICBsZXZlbDogcHJvY2Vzcy5lbnYuQVBQX0xPR19MRVZFTCB8fCAnaW5mbycsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KCkuZm9ybWF0KFRJTUVTVEFNUF9GT1JNQVQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgXSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "logger.js"
      ],
      "names": [
        "TIMESTAMP_FORMAT",
        "logger",
        "winston",
        "Logger",
        "transports",
        "Console",
        "name",
        "level",
        "process",
        "env",
        "APP_LOG_LEVEL",
        "colorize",
        "timestamp",
        "format",
        "DailyRotateFile",
        "filename",
        "path",
        "resolve",
        "__dirname",
        "datePattern",
        "prepend",
        "zippedArchive"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,yBAAzB;AAEA,MAAMC,MAAM,GAAG,IAAIC,iBAAQC,MAAZ,CAAmB;AAC9BC,EAAAA,UAAU,EAAE,CAER,IAAIF,iBAAQE,UAAR,CAAmBC,OAAvB,CAA+B;AAC3BC,IAAAA,IAAI,EAAE,iBADqB;AAE3BC,IAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,IAA6B,MAFT;AAG3BC,IAAAA,QAAQ,EAAE,IAHiB;AAI3BC,IAAAA,SAAS,EAAE,MAAM;AACb,aAAO,uBAASC,MAAT,CAAgBb,gBAAhB,CAAP;AACH;AAN0B,GAA/B,CAFQ,EAWR,IAAIE,iBAAQE,UAAR,CAAmBU,eAAvB,CAAuC;AACnCR,IAAAA,IAAI,EAAE,eAD6B;AAEnCS,IAAAA,QAAQ,EAAEC,cAAKC,OAAL,CAAaC,SAAb,EAAwB,KAAxB,EAA+B,MAA/B,EAAuC,gBAAvC,CAFyB;AAGnCC,IAAAA,WAAW,EAAE,YAHsB;AAInCC,IAAAA,OAAO,EAAE,IAJ0B;AAKnCC,IAAAA,aAAa,EAAE,IALoB;AAMnCd,IAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAYC,aAAZ,IAA6B,MAND;AAOnCE,IAAAA,SAAS,EAAE,YAAY;AACnB,aAAO,uBAASC,MAAT,CAAgBb,gBAAhB,CAAP;AACH;AATkC,GAAvC,CAXQ;AADkB,CAAnB,CAAf;eA0BeC,M",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport winston from 'winston';\nimport 'winston-daily-rotate-file';\nimport moment from 'moment';\nimport path from 'path';\n\nconst TIMESTAMP_FORMAT = 'YYYY-MM-DD HH:mm:ss.SSS';\n\nconst logger = new winston.Logger({\n    transports: [\n\n        new winston.transports.Console({\n            name: 'app_console_log',\n            level: process.env.APP_LOG_LEVEL || 'info',\n            colorize: true,\n            timestamp: () => {\n                return moment().format(TIMESTAMP_FORMAT);\n            },\n        }),\n\n        new winston.transports.DailyRotateFile({\n            name: 'app_daily_log',\n            filename: path.resolve(__dirname, '../', 'logs', 'app.%DATE%.log'),\n            datePattern: 'YYYY-MM-DD',\n            prepend: true,\n            zippedArchive: true,\n            level: process.env.APP_LOG_LEVEL || 'info',\n            timestamp: function () {\n                return moment().format(TIMESTAMP_FORMAT);\n            },\n        }),\n    ],\n});\n\nexport default logger;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/routes/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/routes/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/routes/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/routes/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/routes",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _api = require(\"./api.routes\");\n\nObject.keys(_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _api[key];\n    }\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vYXBpLnJvdXRlcyc7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/routes",
      "sourcesContent": [
        "export * from './api.routes';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/routes/api.routes.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/routes/api.routes.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/routes/api.routes.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/routes/api.routes.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/routes",
        "sourceFileName": "api.routes.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.apiRoutes = void 0;\n\nvar _express = require(\"express\");\n\nvar _auth = require(\"../auth\");\n\nvar _middleware = require(\"../middleware\");\n\nvar _controllers = require(\"../controllers\");\n\n// import { UploadAvatarMiddleware } from '../middleware';\nconst routes = (0, _express.Router)();\nexports.apiRoutes = routes;\nroutes.use('/me', (0, _auth.authenticate)());\nroutes.get('/me', _controllers.MeController.profile);\nroutes.patch('/me', _controllers.MeController.changeProfile);\nroutes.post('/auth/login', _controllers.AuthController.login);\nroutes.use('/users', (0, _auth.authenticate)());\nroutes.get('/users', _controllers.UserController.list);\nroutes.get('/users/:id', _controllers.UserController.findOne);\nroutes.post('/users', _controllers.UserController.create);\nroutes.patch('/users/:id', _controllers.UserController.update);\nroutes.delete('/users/:id', _controllers.UserController.remove);\nroutes.use('/purchase-orders', (0, _auth.authenticate)());\nroutes.get('/purchase-orders', _controllers.PurchaseOrderController.find);\nroutes.get('/purchase-orders/:id', _controllers.PurchaseOrderController.findOne);\nroutes.post('/purchase-orders', _controllers.PurchaseOrderController.create);\nroutes.patch('/purchase-orders/:id', _controllers.PurchaseOrderController.update);\nroutes.delete('/purchase-orders/:id', _controllers.PurchaseOrderController.remove);\n/*routes.post('/avatars',\n    authenticate(),\n    UploadAvatarMiddleware,\n    AvatarController.upload\n);*/\n\nroutes.use('/warehouses', (0, _auth.authenticate)());\nroutes.get('/warehouses', _controllers.WarehouseController.list);\nroutes.post('/warehouses', _controllers.WarehouseController.create);\nroutes.patch('/warehouses/:id', _controllers.WarehouseController.update);\nroutes.delete('/warehouses/:id', _controllers.WarehouseController.remove);\nroutes.use('/products', (0, _auth.authenticate)());\nroutes.get('/products', _controllers.ProductController.find);\nroutes.get('/products/:id', _controllers.ProductController.findOne);\nroutes.post('/products', _controllers.ProductController.create);\nroutes.patch('/products/:id', _controllers.ProductController.update);\nroutes.delete('/products/:id', _controllers.ProductController.remove);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5yb3V0ZXMuanMiXSwibmFtZXMiOlsicm91dGVzIiwidXNlIiwiZ2V0IiwiTWVDb250cm9sbGVyIiwicHJvZmlsZSIsInBhdGNoIiwiY2hhbmdlUHJvZmlsZSIsInBvc3QiLCJBdXRoQ29udHJvbGxlciIsImxvZ2luIiwiVXNlckNvbnRyb2xsZXIiLCJsaXN0IiwiZmluZE9uZSIsImNyZWF0ZSIsInVwZGF0ZSIsImRlbGV0ZSIsInJlbW92ZSIsIlB1cmNoYXNlT3JkZXJDb250cm9sbGVyIiwiZmluZCIsIldhcmVob3VzZUNvbnRyb2xsZXIiLCJQcm9kdWN0Q29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFHQTs7QUFFQTs7QUFKQTtBQWNBLE1BQU1BLE1BQU0sR0FBRyxzQkFBZjs7QUFFQUEsTUFBTSxDQUFDQyxHQUFQLENBQVcsS0FBWCxFQUFrQix5QkFBbEI7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsS0FBWCxFQUFrQkMsMEJBQWFDLE9BQS9CO0FBQ0FKLE1BQU0sQ0FBQ0ssS0FBUCxDQUFhLEtBQWIsRUFBb0JGLDBCQUFhRyxhQUFqQztBQUVBTixNQUFNLENBQUNPLElBQVAsQ0FBWSxhQUFaLEVBQTJCQyw0QkFBZUMsS0FBMUM7QUFFQVQsTUFBTSxDQUFDQyxHQUFQLENBQVcsUUFBWCxFQUFxQix5QkFBckI7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsUUFBWCxFQUFxQlEsNEJBQWVDLElBQXBDO0FBQ0FYLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFlBQVgsRUFBeUJRLDRCQUFlRSxPQUF4QztBQUNBWixNQUFNLENBQUNPLElBQVAsQ0FBWSxRQUFaLEVBQXNCRyw0QkFBZUcsTUFBckM7QUFDQWIsTUFBTSxDQUFDSyxLQUFQLENBQWEsWUFBYixFQUEyQkssNEJBQWVJLE1BQTFDO0FBQ0FkLE1BQU0sQ0FBQ2UsTUFBUCxDQUFjLFlBQWQsRUFBNEJMLDRCQUFlTSxNQUEzQztBQUVBaEIsTUFBTSxDQUFDQyxHQUFQLENBQVcsa0JBQVgsRUFBK0IseUJBQS9CO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLGtCQUFYLEVBQStCZSxxQ0FBd0JDLElBQXZEO0FBQ0FsQixNQUFNLENBQUNFLEdBQVAsQ0FBVyxzQkFBWCxFQUFtQ2UscUNBQXdCTCxPQUEzRDtBQUNBWixNQUFNLENBQUNPLElBQVAsQ0FBWSxrQkFBWixFQUFnQ1UscUNBQXdCSixNQUF4RDtBQUNBYixNQUFNLENBQUNLLEtBQVAsQ0FBYSxzQkFBYixFQUFxQ1kscUNBQXdCSCxNQUE3RDtBQUNBZCxNQUFNLENBQUNlLE1BQVAsQ0FBYyxzQkFBZCxFQUFzQ0UscUNBQXdCRCxNQUE5RDtBQUVBOzs7Ozs7QUFPQWhCLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXLGFBQVgsRUFBMEIseUJBQTFCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLGFBQVgsRUFBMEJpQixpQ0FBb0JSLElBQTlDO0FBQ0FYLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLGFBQVosRUFBMkJZLGlDQUFvQk4sTUFBL0M7QUFDQWIsTUFBTSxDQUFDSyxLQUFQLENBQWEsaUJBQWIsRUFBZ0NjLGlDQUFvQkwsTUFBcEQ7QUFDQWQsTUFBTSxDQUFDZSxNQUFQLENBQWMsaUJBQWQsRUFBaUNJLGlDQUFvQkgsTUFBckQ7QUFFQWhCLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXLFdBQVgsRUFBd0IseUJBQXhCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLFdBQVgsRUFBd0JrQiwrQkFBa0JGLElBQTFDO0FBQ0FsQixNQUFNLENBQUNFLEdBQVAsQ0FBVyxlQUFYLEVBQTRCa0IsK0JBQWtCUixPQUE5QztBQUNBWixNQUFNLENBQUNPLElBQVAsQ0FBWSxXQUFaLEVBQXlCYSwrQkFBa0JQLE1BQTNDO0FBQ0FiLE1BQU0sQ0FBQ0ssS0FBUCxDQUFhLGVBQWIsRUFBOEJlLCtCQUFrQk4sTUFBaEQ7QUFDQWQsTUFBTSxDQUFDZSxNQUFQLENBQWMsZUFBZCxFQUErQkssK0JBQWtCSixNQUFqRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tICcuLi9hdXRoJztcbi8vIGltcG9ydCB7IFVwbG9hZEF2YXRhck1pZGRsZXdhcmUgfSBmcm9tICcuLi9taWRkbGV3YXJlJztcblxuaW1wb3J0IHsgVXNlckNyZWF0ZU1pZGRsZXdhcmUgfSBmcm9tICcuLi9taWRkbGV3YXJlJztcblxuaW1wb3J0IHtcbiAgICBNZUNvbnRyb2xsZXIsXG4gICAgQXV0aENvbnRyb2xsZXIsXG4gICAgVXNlckNvbnRyb2xsZXIsXG4gICAgLy8gQXZhdGFyQ29udHJvbGxlcixcbiAgICBXYXJlaG91c2VDb250cm9sbGVyLFxuICAgIFB1cmNoYXNlT3JkZXJDb250cm9sbGVyLFxuICAgIFByb2R1Y3RDb250cm9sbGVyLFxufSBmcm9tICcuLi9jb250cm9sbGVycyc7XG5cbmNvbnN0IHJvdXRlcyA9IFJvdXRlcigpO1xuXG5yb3V0ZXMudXNlKCcvbWUnLCBhdXRoZW50aWNhdGUoKSk7XG5yb3V0ZXMuZ2V0KCcvbWUnLCBNZUNvbnRyb2xsZXIucHJvZmlsZSk7XG5yb3V0ZXMucGF0Y2goJy9tZScsIE1lQ29udHJvbGxlci5jaGFuZ2VQcm9maWxlKTtcblxucm91dGVzLnBvc3QoJy9hdXRoL2xvZ2luJywgQXV0aENvbnRyb2xsZXIubG9naW4pO1xuXG5yb3V0ZXMudXNlKCcvdXNlcnMnLCBhdXRoZW50aWNhdGUoKSk7XG5yb3V0ZXMuZ2V0KCcvdXNlcnMnLCBVc2VyQ29udHJvbGxlci5saXN0KTtcbnJvdXRlcy5nZXQoJy91c2Vycy86aWQnLCBVc2VyQ29udHJvbGxlci5maW5kT25lKTtcbnJvdXRlcy5wb3N0KCcvdXNlcnMnLCBVc2VyQ29udHJvbGxlci5jcmVhdGUpO1xucm91dGVzLnBhdGNoKCcvdXNlcnMvOmlkJywgVXNlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlcy5kZWxldGUoJy91c2Vycy86aWQnLCBVc2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXMudXNlKCcvcHVyY2hhc2Utb3JkZXJzJywgYXV0aGVudGljYXRlKCkpO1xucm91dGVzLmdldCgnL3B1cmNoYXNlLW9yZGVycycsIFB1cmNoYXNlT3JkZXJDb250cm9sbGVyLmZpbmQpO1xucm91dGVzLmdldCgnL3B1cmNoYXNlLW9yZGVycy86aWQnLCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlci5maW5kT25lKTtcbnJvdXRlcy5wb3N0KCcvcHVyY2hhc2Utb3JkZXJzJywgUHVyY2hhc2VPcmRlckNvbnRyb2xsZXIuY3JlYXRlKTtcbnJvdXRlcy5wYXRjaCgnL3B1cmNoYXNlLW9yZGVycy86aWQnLCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVzLmRlbGV0ZSgnL3B1cmNoYXNlLW9yZGVycy86aWQnLCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlci5yZW1vdmUpO1xuXG4vKnJvdXRlcy5wb3N0KCcvYXZhdGFycycsXG4gICAgYXV0aGVudGljYXRlKCksXG4gICAgVXBsb2FkQXZhdGFyTWlkZGxld2FyZSxcbiAgICBBdmF0YXJDb250cm9sbGVyLnVwbG9hZFxuKTsqL1xuXG5cbnJvdXRlcy51c2UoJy93YXJlaG91c2VzJywgYXV0aGVudGljYXRlKCkpO1xucm91dGVzLmdldCgnL3dhcmVob3VzZXMnLCBXYXJlaG91c2VDb250cm9sbGVyLmxpc3QpO1xucm91dGVzLnBvc3QoJy93YXJlaG91c2VzJywgV2FyZWhvdXNlQ29udHJvbGxlci5jcmVhdGUpO1xucm91dGVzLnBhdGNoKCcvd2FyZWhvdXNlcy86aWQnLCBXYXJlaG91c2VDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXMuZGVsZXRlKCcvd2FyZWhvdXNlcy86aWQnLCBXYXJlaG91c2VDb250cm9sbGVyLnJlbW92ZSk7XG5cbnJvdXRlcy51c2UoJy9wcm9kdWN0cycsIGF1dGhlbnRpY2F0ZSgpKTtcbnJvdXRlcy5nZXQoJy9wcm9kdWN0cycsIFByb2R1Y3RDb250cm9sbGVyLmZpbmQpO1xucm91dGVzLmdldCgnL3Byb2R1Y3RzLzppZCcsIFByb2R1Y3RDb250cm9sbGVyLmZpbmRPbmUpO1xucm91dGVzLnBvc3QoJy9wcm9kdWN0cycsIFByb2R1Y3RDb250cm9sbGVyLmNyZWF0ZSk7XG5yb3V0ZXMucGF0Y2goJy9wcm9kdWN0cy86aWQnLCBQcm9kdWN0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVzLmRlbGV0ZSgnL3Byb2R1Y3RzLzppZCcsIFByb2R1Y3RDb250cm9sbGVyLnJlbW92ZSk7XG5cbmV4cG9ydCB7XG4gICAgcm91dGVzIGFzIGFwaVJvdXRlcyxcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "api.routes.js"
      ],
      "names": [
        "routes",
        "use",
        "get",
        "MeController",
        "profile",
        "patch",
        "changeProfile",
        "post",
        "AuthController",
        "login",
        "UserController",
        "list",
        "findOne",
        "create",
        "update",
        "delete",
        "remove",
        "PurchaseOrderController",
        "find",
        "WarehouseController",
        "ProductController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AAGA;;AAEA;;AAJA;AAcA,MAAMA,MAAM,GAAG,sBAAf;;AAEAA,MAAM,CAACC,GAAP,CAAW,KAAX,EAAkB,yBAAlB;AACAD,MAAM,CAACE,GAAP,CAAW,KAAX,EAAkBC,0BAAaC,OAA/B;AACAJ,MAAM,CAACK,KAAP,CAAa,KAAb,EAAoBF,0BAAaG,aAAjC;AAEAN,MAAM,CAACO,IAAP,CAAY,aAAZ,EAA2BC,4BAAeC,KAA1C;AAEAT,MAAM,CAACC,GAAP,CAAW,QAAX,EAAqB,yBAArB;AACAD,MAAM,CAACE,GAAP,CAAW,QAAX,EAAqBQ,4BAAeC,IAApC;AACAX,MAAM,CAACE,GAAP,CAAW,YAAX,EAAyBQ,4BAAeE,OAAxC;AACAZ,MAAM,CAACO,IAAP,CAAY,QAAZ,EAAsBG,4BAAeG,MAArC;AACAb,MAAM,CAACK,KAAP,CAAa,YAAb,EAA2BK,4BAAeI,MAA1C;AACAd,MAAM,CAACe,MAAP,CAAc,YAAd,EAA4BL,4BAAeM,MAA3C;AAEAhB,MAAM,CAACC,GAAP,CAAW,kBAAX,EAA+B,yBAA/B;AACAD,MAAM,CAACE,GAAP,CAAW,kBAAX,EAA+Be,qCAAwBC,IAAvD;AACAlB,MAAM,CAACE,GAAP,CAAW,sBAAX,EAAmCe,qCAAwBL,OAA3D;AACAZ,MAAM,CAACO,IAAP,CAAY,kBAAZ,EAAgCU,qCAAwBJ,MAAxD;AACAb,MAAM,CAACK,KAAP,CAAa,sBAAb,EAAqCY,qCAAwBH,MAA7D;AACAd,MAAM,CAACe,MAAP,CAAc,sBAAd,EAAsCE,qCAAwBD,MAA9D;AAEA;;;;;;AAOAhB,MAAM,CAACC,GAAP,CAAW,aAAX,EAA0B,yBAA1B;AACAD,MAAM,CAACE,GAAP,CAAW,aAAX,EAA0BiB,iCAAoBR,IAA9C;AACAX,MAAM,CAACO,IAAP,CAAY,aAAZ,EAA2BY,iCAAoBN,MAA/C;AACAb,MAAM,CAACK,KAAP,CAAa,iBAAb,EAAgCc,iCAAoBL,MAApD;AACAd,MAAM,CAACe,MAAP,CAAc,iBAAd,EAAiCI,iCAAoBH,MAArD;AAEAhB,MAAM,CAACC,GAAP,CAAW,WAAX,EAAwB,yBAAxB;AACAD,MAAM,CAACE,GAAP,CAAW,WAAX,EAAwBkB,+BAAkBF,IAA1C;AACAlB,MAAM,CAACE,GAAP,CAAW,eAAX,EAA4BkB,+BAAkBR,OAA9C;AACAZ,MAAM,CAACO,IAAP,CAAY,WAAZ,EAAyBa,+BAAkBP,MAA3C;AACAb,MAAM,CAACK,KAAP,CAAa,eAAb,EAA8Be,+BAAkBN,MAAhD;AACAd,MAAM,CAACe,MAAP,CAAc,eAAd,EAA+BK,+BAAkBJ,MAAjD",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/routes",
      "sourcesContent": [
        "'use strict';\n\nimport { Router } from 'express';\nimport { authenticate } from '../auth';\n// import { UploadAvatarMiddleware } from '../middleware';\n\nimport { UserCreateMiddleware } from '../middleware';\n\nimport {\n    MeController,\n    AuthController,\n    UserController,\n    // AvatarController,\n    WarehouseController,\n    PurchaseOrderController,\n    ProductController,\n} from '../controllers';\n\nconst routes = Router();\n\nroutes.use('/me', authenticate());\nroutes.get('/me', MeController.profile);\nroutes.patch('/me', MeController.changeProfile);\n\nroutes.post('/auth/login', AuthController.login);\n\nroutes.use('/users', authenticate());\nroutes.get('/users', UserController.list);\nroutes.get('/users/:id', UserController.findOne);\nroutes.post('/users', UserController.create);\nroutes.patch('/users/:id', UserController.update);\nroutes.delete('/users/:id', UserController.remove);\n\nroutes.use('/purchase-orders', authenticate());\nroutes.get('/purchase-orders', PurchaseOrderController.find);\nroutes.get('/purchase-orders/:id', PurchaseOrderController.findOne);\nroutes.post('/purchase-orders', PurchaseOrderController.create);\nroutes.patch('/purchase-orders/:id', PurchaseOrderController.update);\nroutes.delete('/purchase-orders/:id', PurchaseOrderController.remove);\n\n/*routes.post('/avatars',\n    authenticate(),\n    UploadAvatarMiddleware,\n    AvatarController.upload\n);*/\n\n\nroutes.use('/warehouses', authenticate());\nroutes.get('/warehouses', WarehouseController.list);\nroutes.post('/warehouses', WarehouseController.create);\nroutes.patch('/warehouses/:id', WarehouseController.update);\nroutes.delete('/warehouses/:id', WarehouseController.remove);\n\nroutes.use('/products', authenticate());\nroutes.get('/products', ProductController.find);\nroutes.get('/products/:id', ProductController.findOne);\nroutes.post('/products', ProductController.create);\nroutes.patch('/products/:id', ProductController.update);\nroutes.delete('/products/:id', ProductController.remove);\n\nexport {\n    routes as apiRoutes,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/auth.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initialize = initialize;\nexports.authenticate = authenticate;\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nvar _passportLocal = require(\"passport-local\");\n\nvar _passportJwt = require(\"passport-jwt\");\n\nvar _config = require(\"./config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * SIGN IN USING USERNAME AND PASSWORD\n */\nfunction localStrategy() {\n  const options = {\n    usernameField: 'username',\n    passwordField: 'password',\n    passReqToCallback: true\n  };\n  return new _passportLocal.Strategy(options, async function (req, username, password, next) {\n    const {\n      User\n    } = req.app.get('models');\n\n    try {\n      const user = await User.findByUsername(username);\n\n      if (!user) {\n        return next(null, false);\n      }\n\n      if (false === (await user.comparePassword(password))) {\n        return next(null, false);\n      }\n\n      return next(null, user);\n    } catch (err) {\n      return next(err);\n    }\n  });\n}\n/**\n * AUTHENTICATE USER BY ACCESS TOKEN\n */\n\n\nconst AUTH_SCHEME = 'bearer';\nconst TOKEN_QUERY_PARAMETER_NAME = 'access_token';\n\nfunction jwtStrategy() {\n  const options = {\n    jwtFromRequest: _passportJwt.ExtractJwt.versionOneCompatibility({\n      authScheme: AUTH_SCHEME,\n      tokenQueryParameterName: TOKEN_QUERY_PARAMETER_NAME\n    }),\n    secretOrKey: _config.CONFIG.JWT_ENCRYPTION,\n    passReqToCallback: true\n  };\n  return new _passportJwt.Strategy(options, async function (req, payload, next) {\n    const {\n      User\n    } = req.app.get('models');\n    const {\n      id\n    } = payload;\n\n    try {\n      const user = await User.findById(id);\n\n      if (!user) {\n        return next(null, false);\n      }\n\n      return next(null, user);\n    } catch (err) {\n      return next(err);\n    }\n  });\n}\n\n_passport.default.use(localStrategy());\n\n_passport.default.use(jwtStrategy());\n\nfunction initialize() {\n  return _passport.default.initialize();\n}\n\nfunction authenticate() {\n  return _passport.default.authenticate('jwt', {\n    session: false\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsibG9jYWxTdHJhdGVneSIsIm9wdGlvbnMiLCJ1c2VybmFtZUZpZWxkIiwicGFzc3dvcmRGaWVsZCIsInBhc3NSZXFUb0NhbGxiYWNrIiwiTG9jYWxTdHJhdGVneSIsInJlcSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJuZXh0IiwiVXNlciIsImFwcCIsImdldCIsInVzZXIiLCJmaW5kQnlVc2VybmFtZSIsImNvbXBhcmVQYXNzd29yZCIsImVyciIsIkFVVEhfU0NIRU1FIiwiVE9LRU5fUVVFUllfUEFSQU1FVEVSX05BTUUiLCJqd3RTdHJhdGVneSIsImp3dEZyb21SZXF1ZXN0IiwiRXh0cmFjdEp3dCIsInZlcnNpb25PbmVDb21wYXRpYmlsaXR5IiwiYXV0aFNjaGVtZSIsInRva2VuUXVlcnlQYXJhbWV0ZXJOYW1lIiwic2VjcmV0T3JLZXkiLCJDT05GSUciLCJKV1RfRU5DUllQVElPTiIsIkp3dFN0cmF0ZWd5IiwicGF5bG9hZCIsImlkIiwiZmluZEJ5SWQiLCJwYXNzcG9ydCIsInVzZSIsImluaXRpYWxpemUiLCJhdXRoZW50aWNhdGUiLCJzZXNzaW9uIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBOzs7QUFHQSxTQUFTQSxhQUFULEdBQXlCO0FBQ3JCLFFBQU1DLE9BQU8sR0FBRztBQUNaQyxJQUFBQSxhQUFhLEVBQUUsVUFESDtBQUVaQyxJQUFBQSxhQUFhLEVBQUUsVUFGSDtBQUdaQyxJQUFBQSxpQkFBaUIsRUFBRTtBQUhQLEdBQWhCO0FBTUEsU0FBTyxJQUFJQyx1QkFBSixDQUNISixPQURHLEVBRUgsZ0JBQWdCSyxHQUFoQixFQUFxQkMsUUFBckIsRUFBK0JDLFFBQS9CLEVBQXlDQyxJQUF6QyxFQUErQztBQUUzQyxVQUFNO0FBQUVDLE1BQUFBO0FBQUYsUUFBV0osR0FBRyxDQUFDSyxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQWpCOztBQUVBLFFBQUk7QUFDQSxZQUFNQyxJQUFJLEdBQUcsTUFBTUgsSUFBSSxDQUFDSSxjQUFMLENBQW9CUCxRQUFwQixDQUFuQjs7QUFFQSxVQUFJLENBQUNNLElBQUwsRUFBVztBQUNQLGVBQU9KLElBQUksQ0FBQyxJQUFELEVBQU8sS0FBUCxDQUFYO0FBQ0g7O0FBRUQsVUFBSSxXQUFVLE1BQU1JLElBQUksQ0FBQ0UsZUFBTCxDQUFxQlAsUUFBckIsQ0FBaEIsQ0FBSixFQUFvRDtBQUNoRCxlQUFPQyxJQUFJLENBQUMsSUFBRCxFQUFPLEtBQVAsQ0FBWDtBQUNIOztBQUVELGFBQU9BLElBQUksQ0FBQyxJQUFELEVBQU9JLElBQVAsQ0FBWDtBQUNILEtBWkQsQ0FZRSxPQUFPRyxHQUFQLEVBQVk7QUFDVixhQUFPUCxJQUFJLENBQUNPLEdBQUQsQ0FBWDtBQUNIO0FBQ0osR0FyQkUsQ0FBUDtBQXVCSDtBQUVEOzs7OztBQUdBLE1BQU1DLFdBQVcsR0FBRyxRQUFwQjtBQUNBLE1BQU1DLDBCQUEwQixHQUFHLGNBQW5DOztBQUVBLFNBQVNDLFdBQVQsR0FBdUI7QUFDbkIsUUFBTWxCLE9BQU8sR0FBRztBQUNabUIsSUFBQUEsY0FBYyxFQUFFQyx3QkFBV0MsdUJBQVgsQ0FBbUM7QUFDL0NDLE1BQUFBLFVBQVUsRUFBRU4sV0FEbUM7QUFFL0NPLE1BQUFBLHVCQUF1QixFQUFFTjtBQUZzQixLQUFuQyxDQURKO0FBS1pPLElBQUFBLFdBQVcsRUFBRUMsZUFBT0MsY0FMUjtBQU1adkIsSUFBQUEsaUJBQWlCLEVBQUU7QUFOUCxHQUFoQjtBQVNBLFNBQU8sSUFBSXdCLHFCQUFKLENBQWdCM0IsT0FBaEIsRUFBeUIsZ0JBQWdCSyxHQUFoQixFQUFxQnVCLE9BQXJCLEVBQThCcEIsSUFBOUIsRUFBb0M7QUFDaEUsVUFBTTtBQUFFQyxNQUFBQTtBQUFGLFFBQVdKLEdBQUcsQ0FBQ0ssR0FBSixDQUFRQyxHQUFSLENBQVksUUFBWixDQUFqQjtBQUVBLFVBQU07QUFBRWtCLE1BQUFBO0FBQUYsUUFBU0QsT0FBZjs7QUFFQSxRQUFJO0FBQ0EsWUFBTWhCLElBQUksR0FBRyxNQUFNSCxJQUFJLENBQUNxQixRQUFMLENBQWNELEVBQWQsQ0FBbkI7O0FBRUEsVUFBSSxDQUFDakIsSUFBTCxFQUFXO0FBQ1AsZUFBT0osSUFBSSxDQUFDLElBQUQsRUFBTyxLQUFQLENBQVg7QUFDSDs7QUFFRCxhQUFPQSxJQUFJLENBQUMsSUFBRCxFQUFPSSxJQUFQLENBQVg7QUFDSCxLQVJELENBUUUsT0FBT0csR0FBUCxFQUFZO0FBQ1YsYUFBT1AsSUFBSSxDQUFDTyxHQUFELENBQVg7QUFDSDtBQUNKLEdBaEJNLENBQVA7QUFpQkg7O0FBRURnQixrQkFBU0MsR0FBVCxDQUFhakMsYUFBYSxFQUExQjs7QUFDQWdDLGtCQUFTQyxHQUFULENBQWFkLFdBQVcsRUFBeEI7O0FBRUEsU0FBU2UsVUFBVCxHQUFzQjtBQUNsQixTQUFPRixrQkFBU0UsVUFBVCxFQUFQO0FBQ0g7O0FBRUQsU0FBU0MsWUFBVCxHQUF3QjtBQUNwQixTQUFPSCxrQkFBU0csWUFBVCxDQUFzQixLQUF0QixFQUE2QjtBQUFFQyxJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUE3QixDQUFQO0FBQ0giLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCB7IFN0cmF0ZWd5IGFzIExvY2FsU3RyYXRlZ3kgfSBmcm9tICdwYXNzcG9ydC1sb2NhbCc7XG5pbXBvcnQgeyBTdHJhdGVneSBhcyBKd3RTdHJhdGVneSwgRXh0cmFjdEp3dCB9IGZyb20gJ3Bhc3Nwb3J0LWp3dCc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuL2NvbmZpZyc7XG5cbi8qKlxuICogU0lHTiBJTiBVU0lORyBVU0VSTkFNRSBBTkQgUEFTU1dPUkRcbiAqL1xuZnVuY3Rpb24gbG9jYWxTdHJhdGVneSgpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICB1c2VybmFtZUZpZWxkOiAndXNlcm5hbWUnLFxuICAgICAgICBwYXNzd29yZEZpZWxkOiAncGFzc3dvcmQnLFxuICAgICAgICBwYXNzUmVxVG9DYWxsYmFjazogdHJ1ZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBMb2NhbFN0cmF0ZWd5KFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBhc3luYyBmdW5jdGlvbiAocmVxLCB1c2VybmFtZSwgcGFzc3dvcmQsIG5leHQpIHtcblxuICAgICAgICAgICAgY29uc3QgeyBVc2VyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5VXNlcm5hbWUodXNlcm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KG51bGwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZmFsc2UgPT09IGF3YWl0IHVzZXIuY29tcGFyZVBhc3N3b3JkKHBhc3N3b3JkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQobnVsbCwgdXNlcik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICk7XG59XG5cbi8qKlxuICogQVVUSEVOVElDQVRFIFVTRVIgQlkgQUNDRVNTIFRPS0VOXG4gKi9cbmNvbnN0IEFVVEhfU0NIRU1FID0gJ2JlYXJlcic7XG5jb25zdCBUT0tFTl9RVUVSWV9QQVJBTUVURVJfTkFNRSA9ICdhY2Nlc3NfdG9rZW4nO1xuXG5mdW5jdGlvbiBqd3RTdHJhdGVneSgpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBqd3RGcm9tUmVxdWVzdDogRXh0cmFjdEp3dC52ZXJzaW9uT25lQ29tcGF0aWJpbGl0eSh7XG4gICAgICAgICAgICBhdXRoU2NoZW1lOiBBVVRIX1NDSEVNRSxcbiAgICAgICAgICAgIHRva2VuUXVlcnlQYXJhbWV0ZXJOYW1lOiBUT0tFTl9RVUVSWV9QQVJBTUVURVJfTkFNRSxcbiAgICAgICAgfSksXG4gICAgICAgIHNlY3JldE9yS2V5OiBDT05GSUcuSldUX0VOQ1JZUFRJT04sXG4gICAgICAgIHBhc3NSZXFUb0NhbGxiYWNrOiB0cnVlLFxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IEp3dFN0cmF0ZWd5KG9wdGlvbnMsIGFzeW5jIGZ1bmN0aW9uIChyZXEsIHBheWxvYWQsIG5leHQpIHtcbiAgICAgICAgY29uc3QgeyBVc2VyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG5cbiAgICAgICAgY29uc3QgeyBpZCB9ID0gcGF5bG9hZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoaWQpO1xuXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KG51bGwsIHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxucGFzc3BvcnQudXNlKGxvY2FsU3RyYXRlZ3koKSk7XG5wYXNzcG9ydC51c2Uoand0U3RyYXRlZ3koKSk7XG5cbmZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgcmV0dXJuIHBhc3Nwb3J0LmluaXRpYWxpemUoKTtcbn1cblxuZnVuY3Rpb24gYXV0aGVudGljYXRlKCkge1xuICAgIHJldHVybiBwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2p3dCcsIHsgc2Vzc2lvbjogZmFsc2UgfSk7XG59XG5cbmV4cG9ydCB7XG4gICAgaW5pdGlhbGl6ZSxcbiAgICBhdXRoZW50aWNhdGUsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "localStrategy",
        "options",
        "usernameField",
        "passwordField",
        "passReqToCallback",
        "LocalStrategy",
        "req",
        "username",
        "password",
        "next",
        "User",
        "app",
        "get",
        "user",
        "findByUsername",
        "comparePassword",
        "err",
        "AUTH_SCHEME",
        "TOKEN_QUERY_PARAMETER_NAME",
        "jwtStrategy",
        "jwtFromRequest",
        "ExtractJwt",
        "versionOneCompatibility",
        "authScheme",
        "tokenQueryParameterName",
        "secretOrKey",
        "CONFIG",
        "JWT_ENCRYPTION",
        "JwtStrategy",
        "payload",
        "id",
        "findById",
        "passport",
        "use",
        "initialize",
        "authenticate",
        "session"
      ],
      "mappings": "AAAA;;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA;;;AAGA,SAASA,aAAT,GAAyB;AACrB,QAAMC,OAAO,GAAG;AACZC,IAAAA,aAAa,EAAE,UADH;AAEZC,IAAAA,aAAa,EAAE,UAFH;AAGZC,IAAAA,iBAAiB,EAAE;AAHP,GAAhB;AAMA,SAAO,IAAIC,uBAAJ,CACHJ,OADG,EAEH,gBAAgBK,GAAhB,EAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,IAAzC,EAA+C;AAE3C,UAAM;AAAEC,MAAAA;AAAF,QAAWJ,GAAG,CAACK,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;;AAEA,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMH,IAAI,CAACI,cAAL,CAAoBP,QAApB,CAAnB;;AAEA,UAAI,CAACM,IAAL,EAAW;AACP,eAAOJ,IAAI,CAAC,IAAD,EAAO,KAAP,CAAX;AACH;;AAED,UAAI,WAAU,MAAMI,IAAI,CAACE,eAAL,CAAqBP,QAArB,CAAhB,CAAJ,EAAoD;AAChD,eAAOC,IAAI,CAAC,IAAD,EAAO,KAAP,CAAX;AACH;;AAED,aAAOA,IAAI,CAAC,IAAD,EAAOI,IAAP,CAAX;AACH,KAZD,CAYE,OAAOG,GAAP,EAAY;AACV,aAAOP,IAAI,CAACO,GAAD,CAAX;AACH;AACJ,GArBE,CAAP;AAuBH;AAED;;;;;AAGA,MAAMC,WAAW,GAAG,QAApB;AACA,MAAMC,0BAA0B,GAAG,cAAnC;;AAEA,SAASC,WAAT,GAAuB;AACnB,QAAMlB,OAAO,GAAG;AACZmB,IAAAA,cAAc,EAAEC,wBAAWC,uBAAX,CAAmC;AAC/CC,MAAAA,UAAU,EAAEN,WADmC;AAE/CO,MAAAA,uBAAuB,EAAEN;AAFsB,KAAnC,CADJ;AAKZO,IAAAA,WAAW,EAAEC,eAAOC,cALR;AAMZvB,IAAAA,iBAAiB,EAAE;AANP,GAAhB;AASA,SAAO,IAAIwB,qBAAJ,CAAgB3B,OAAhB,EAAyB,gBAAgBK,GAAhB,EAAqBuB,OAArB,EAA8BpB,IAA9B,EAAoC;AAChE,UAAM;AAAEC,MAAAA;AAAF,QAAWJ,GAAG,CAACK,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;AAEA,UAAM;AAAEkB,MAAAA;AAAF,QAASD,OAAf;;AAEA,QAAI;AACA,YAAMhB,IAAI,GAAG,MAAMH,IAAI,CAACqB,QAAL,CAAcD,EAAd,CAAnB;;AAEA,UAAI,CAACjB,IAAL,EAAW;AACP,eAAOJ,IAAI,CAAC,IAAD,EAAO,KAAP,CAAX;AACH;;AAED,aAAOA,IAAI,CAAC,IAAD,EAAOI,IAAP,CAAX;AACH,KARD,CAQE,OAAOG,GAAP,EAAY;AACV,aAAOP,IAAI,CAACO,GAAD,CAAX;AACH;AACJ,GAhBM,CAAP;AAiBH;;AAEDgB,kBAASC,GAAT,CAAajC,aAAa,EAA1B;;AACAgC,kBAASC,GAAT,CAAad,WAAW,EAAxB;;AAEA,SAASe,UAAT,GAAsB;AAClB,SAAOF,kBAASE,UAAT,EAAP;AACH;;AAED,SAASC,YAAT,GAAwB;AACpB,SAAOH,kBAASG,YAAT,CAAsB,KAAtB,EAA6B;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAA7B,CAAP;AACH",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src",
      "sourcesContent": [
        "'use strict';\n\nimport passport from 'passport';\nimport { Strategy as LocalStrategy } from 'passport-local';\nimport { Strategy as JwtStrategy, ExtractJwt } from 'passport-jwt';\nimport { CONFIG } from './config';\n\n/**\n * SIGN IN USING USERNAME AND PASSWORD\n */\nfunction localStrategy() {\n    const options = {\n        usernameField: 'username',\n        passwordField: 'password',\n        passReqToCallback: true,\n    };\n\n    return new LocalStrategy(\n        options,\n        async function (req, username, password, next) {\n\n            const { User } = req.app.get('models');\n\n            try {\n                const user = await User.findByUsername(username);\n\n                if (!user) {\n                    return next(null, false);\n                }\n\n                if (false === await user.comparePassword(password)) {\n                    return next(null, false);\n                }\n\n                return next(null, user);\n            } catch (err) {\n                return next(err);\n            }\n        },\n    );\n}\n\n/**\n * AUTHENTICATE USER BY ACCESS TOKEN\n */\nconst AUTH_SCHEME = 'bearer';\nconst TOKEN_QUERY_PARAMETER_NAME = 'access_token';\n\nfunction jwtStrategy() {\n    const options = {\n        jwtFromRequest: ExtractJwt.versionOneCompatibility({\n            authScheme: AUTH_SCHEME,\n            tokenQueryParameterName: TOKEN_QUERY_PARAMETER_NAME,\n        }),\n        secretOrKey: CONFIG.JWT_ENCRYPTION,\n        passReqToCallback: true,\n    };\n\n    return new JwtStrategy(options, async function (req, payload, next) {\n        const { User } = req.app.get('models');\n\n        const { id } = payload;\n\n        try {\n            const user = await User.findById(id);\n\n            if (!user) {\n                return next(null, false);\n            }\n\n            return next(null, user);\n        } catch (err) {\n            return next(err);\n        }\n    });\n}\n\npassport.use(localStrategy());\npassport.use(jwtStrategy());\n\nfunction initialize() {\n    return passport.initialize();\n}\n\nfunction authenticate() {\n    return passport.authenticate('jwt', { session: false });\n}\n\nexport {\n    initialize,\n    authenticate,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/middleware/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/middleware/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/middleware/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/middleware/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"LoggerMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _logger.LoggerMiddleware;\n  }\n});\nObject.defineProperty(exports, \"UploadAvatarMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _uploadAvatar.UploadAvatarMiddleware;\n  }\n});\nObject.defineProperty(exports, \"UserCreateMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _userCreate.UserCreateMiddleware;\n  }\n});\n\nvar _logger = require(\"./logger.middleware\");\n\nvar _uploadAvatar = require(\"./upload-avatar.middleware\");\n\nvar _userCreate = require(\"./user-create.middleware\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IExvZ2dlck1pZGRsZXdhcmUgfSBmcm9tICcuL2xvZ2dlci5taWRkbGV3YXJlJztcbmV4cG9ydCB7IFVwbG9hZEF2YXRhck1pZGRsZXdhcmUgfSBmcm9tICcuL3VwbG9hZC1hdmF0YXIubWlkZGxld2FyZSc7XG5cbmV4cG9ydCB7IFVzZXJDcmVhdGVNaWRkbGV3YXJlIH0gZnJvbSAnLi91c2VyLWNyZWF0ZS5taWRkbGV3YXJlJztcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "sourcesContent": [
        "export { LoggerMiddleware } from './logger.middleware';\nexport { UploadAvatarMiddleware } from './upload-avatar.middleware';\n\nexport { UserCreateMiddleware } from './user-create.middleware';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/middleware/logger.middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/middleware/logger.middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/middleware/logger.middleware.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/middleware/logger.middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
        "sourceFileName": "logger.middleware.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LoggerMiddleware = void 0;\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _split = _interopRequireDefault(require(\"split\"));\n\nvar _logger = _interopRequireDefault(require(\"../logger\"));\n\nvar _config = require(\"../config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst LoggerMiddleware = (0, _morgan.default)('combined', {\n  'stream': (0, _split.default)().on('data', line => {\n    _logger.default.info(line);\n  }),\n  'skip': () => _config.CONFIG.ENV === 'test'\n});\nexports.LoggerMiddleware = LoggerMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dlci5taWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbIkxvZ2dlck1pZGRsZXdhcmUiLCJvbiIsImxpbmUiLCJsb2dnZXIiLCJpbmZvIiwiQ09ORklHIiwiRU5WIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcscUJBQU8sVUFBUCxFQUFtQjtBQUN4QyxZQUFVLHNCQUFRQyxFQUFSLENBQVcsTUFBWCxFQUFvQkMsSUFBRCxJQUFVO0FBQ25DQyxvQkFBT0MsSUFBUCxDQUFZRixJQUFaO0FBQ0gsR0FGUyxDQUQ4QjtBQUl4QyxVQUFRLE1BQU1HLGVBQU9DLEdBQVAsS0FBZTtBQUpXLENBQW5CLENBQXpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IG1vcmdhbiBmcm9tICdtb3JnYW4nO1xuaW1wb3J0IHNwbGl0IGZyb20gJ3NwbGl0JztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IENPTkZJRyB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IExvZ2dlck1pZGRsZXdhcmUgPSBtb3JnYW4oJ2NvbWJpbmVkJywge1xuICAgICdzdHJlYW0nOiBzcGxpdCgpLm9uKCdkYXRhJywgKGxpbmUpID0+IHtcbiAgICAgICAgbG9nZ2VyLmluZm8obGluZSk7XG4gICAgfSksXG4gICAgJ3NraXAnOiAoKSA9PiBDT05GSUcuRU5WID09PSAndGVzdCcsXG59KTtcblxuZXhwb3J0IHtcbiAgICBMb2dnZXJNaWRkbGV3YXJlLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "logger.middleware.js"
      ],
      "names": [
        "LoggerMiddleware",
        "on",
        "line",
        "logger",
        "info",
        "CONFIG",
        "ENV"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,qBAAO,UAAP,EAAmB;AACxC,YAAU,sBAAQC,EAAR,CAAW,MAAX,EAAoBC,IAAD,IAAU;AACnCC,oBAAOC,IAAP,CAAYF,IAAZ;AACH,GAFS,CAD8B;AAIxC,UAAQ,MAAMG,eAAOC,GAAP,KAAe;AAJW,CAAnB,CAAzB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "sourcesContent": [
        "'use strict';\n\nimport morgan from 'morgan';\nimport split from 'split';\nimport logger from '../logger';\nimport { CONFIG } from '../config';\n\nconst LoggerMiddleware = morgan('combined', {\n    'stream': split().on('data', (line) => {\n        logger.info(line);\n    }),\n    'skip': () => CONFIG.ENV === 'test',\n});\n\nexport {\n    LoggerMiddleware,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/middleware/upload-avatar.middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/middleware/upload-avatar.middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/middleware/upload-avatar.middleware.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/middleware/upload-avatar.middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
        "sourceFileName": "upload-avatar.middleware.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UploadAvatarMiddleware = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _v = _interopRequireDefault(require(\"uuid/v1\"));\n\nvar _fsExtra = _interopRequireDefault(require(\"fs-extra\"));\n\nvar _config = require(\"../config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst avatarStorage = _multer.default.diskStorage({\n  destination: _config.CONFIG.UPLOAD_TEMP_PATH,\n  filename: (req, file, done) => {\n    const ext = _path.default.extname(file.originalname.toLowerCase());\n\n    const filename = (0, _v.default)(file.originalname);\n    return done(null, `${filename}${ext}`);\n  }\n});\n\nconst options = {\n  storage: avatarStorage,\n  limits: {\n    fileSize: _config.CONFIG.AVATAR_MAX_FILE_SIZE\n  },\n  fileFilter: (req, file, done) => {\n    const allowedTypes = /jpeg|jpg|png|bmp/;\n    const mimeType = allowedTypes.test(file.mimetype);\n    const extName = allowedTypes.test(_path.default.extname(file.originalname.toLowerCase()));\n\n    if (mimeType && extName) {\n      return done(null, true);\n    } // TODO: handle error\n\n\n    return done(new Error());\n  }\n};\n\n(async () => {\n  try {\n    await _fsExtra.default.ensureDir(`${_config.CONFIG.ROOT_DIR}/${_config.CONFIG.UPLOAD_TEMP_PATH}`);\n    await _fsExtra.default.ensureDir(`${_config.CONFIG.ROOT_DIR}/${_config.CONFIG.AVATAR_UPLOAD_PATH}`);\n  } catch (err) {\n    throw new Error(err);\n  }\n})();\n\nconst UploadAvatarMiddleware = (0, _multer.default)(options).single('avatar');\nexports.UploadAvatarMiddleware = UploadAvatarMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZC1hdmF0YXIubWlkZGxld2FyZS5qcyJdLCJuYW1lcyI6WyJhdmF0YXJTdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsIkNPTkZJRyIsIlVQTE9BRF9URU1QX1BBVEgiLCJmaWxlbmFtZSIsInJlcSIsImZpbGUiLCJkb25lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJ0b0xvd2VyQ2FzZSIsIm9wdGlvbnMiLCJzdG9yYWdlIiwibGltaXRzIiwiZmlsZVNpemUiLCJBVkFUQVJfTUFYX0ZJTEVfU0laRSIsImZpbGVGaWx0ZXIiLCJhbGxvd2VkVHlwZXMiLCJtaW1lVHlwZSIsInRlc3QiLCJtaW1ldHlwZSIsImV4dE5hbWUiLCJFcnJvciIsImZzIiwiZW5zdXJlRGlyIiwiUk9PVF9ESVIiLCJBVkFUQVJfVVBMT0FEX1BBVEgiLCJlcnIiLCJVcGxvYWRBdmF0YXJNaWRkbGV3YXJlIiwic2luZ2xlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUNyQ0MsRUFBQUEsV0FBVyxFQUFFQyxlQUFPQyxnQkFEaUI7QUFFckNDLEVBQUFBLFFBQVEsRUFBRSxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsSUFBWixLQUFxQjtBQUMzQixVQUFNQyxHQUFHLEdBQUdDLGNBQUtDLE9BQUwsQ0FBYUosSUFBSSxDQUFDSyxZQUFMLENBQWtCQyxXQUFsQixFQUFiLENBQVo7O0FBQ0EsVUFBTVIsUUFBUSxHQUFHLGdCQUFPRSxJQUFJLENBQUNLLFlBQVosQ0FBakI7QUFDQSxXQUFPSixJQUFJLENBQUMsSUFBRCxFQUFRLEdBQUVILFFBQVMsR0FBRUksR0FBSSxFQUF6QixDQUFYO0FBQ0g7QUFOb0MsQ0FBbkIsQ0FBdEI7O0FBU0EsTUFBTUssT0FBTyxHQUFHO0FBQ1pDLEVBQUFBLE9BQU8sRUFBRWhCLGFBREc7QUFFWmlCLEVBQUFBLE1BQU0sRUFBRTtBQUNKQyxJQUFBQSxRQUFRLEVBQUVkLGVBQU9lO0FBRGIsR0FGSTtBQUtaQyxFQUFBQSxVQUFVLEVBQUUsQ0FBQ2IsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLElBQVosS0FBcUI7QUFDN0IsVUFBTVksWUFBWSxHQUFHLGtCQUFyQjtBQUVBLFVBQU1DLFFBQVEsR0FBR0QsWUFBWSxDQUFDRSxJQUFiLENBQWtCZixJQUFJLENBQUNnQixRQUF2QixDQUFqQjtBQUVBLFVBQU1DLE9BQU8sR0FBR0osWUFBWSxDQUFDRSxJQUFiLENBQ1paLGNBQUtDLE9BQUwsQ0FBYUosSUFBSSxDQUFDSyxZQUFMLENBQWtCQyxXQUFsQixFQUFiLENBRFksQ0FBaEI7O0FBSUEsUUFBSVEsUUFBUSxJQUFJRyxPQUFoQixFQUF5QjtBQUNyQixhQUFPaEIsSUFBSSxDQUFDLElBQUQsRUFBTyxJQUFQLENBQVg7QUFDSCxLQVg0QixDQWE3Qjs7O0FBQ0EsV0FBT0EsSUFBSSxDQUFDLElBQUlpQixLQUFKLEVBQUQsQ0FBWDtBQUNIO0FBcEJXLENBQWhCOztBQXVCQSxDQUFDLFlBQVk7QUFDVCxNQUFJO0FBQ0EsVUFBTUMsaUJBQUdDLFNBQUgsQ0FBYyxHQUFFeEIsZUFBT3lCLFFBQVMsSUFBR3pCLGVBQU9DLGdCQUFpQixFQUEzRCxDQUFOO0FBQ0EsVUFBTXNCLGlCQUFHQyxTQUFILENBQWMsR0FBRXhCLGVBQU95QixRQUFTLElBQUd6QixlQUFPMEIsa0JBQW1CLEVBQTdELENBQU47QUFDSCxHQUhELENBR0UsT0FBT0MsR0FBUCxFQUFZO0FBQ1YsVUFBTSxJQUFJTCxLQUFKLENBQVVLLEdBQVYsQ0FBTjtBQUNIO0FBQ0osQ0FQRDs7QUFTTyxNQUFNQyxzQkFBc0IsR0FBRyxxQkFBT2pCLE9BQVAsRUFBZ0JrQixNQUFoQixDQUF1QixRQUF2QixDQUEvQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHV1aWR2MSBmcm9tICd1dWlkL3YxJztcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jb25zdCBhdmF0YXJTdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbjogQ09ORklHLlVQTE9BRF9URU1QX1BBVEgsXG4gICAgZmlsZW5hbWU6IChyZXEsIGZpbGUsIGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgZXh0ID0gcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHV1aWR2MShmaWxlLm9yaWdpbmFsbmFtZSk7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsIGAke2ZpbGVuYW1lfSR7ZXh0fWApO1xuICAgIH0sXG59KTtcblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBzdG9yYWdlOiBhdmF0YXJTdG9yYWdlLFxuICAgIGxpbWl0czoge1xuICAgICAgICBmaWxlU2l6ZTogQ09ORklHLkFWQVRBUl9NQVhfRklMRV9TSVpFLFxuICAgIH0sXG4gICAgZmlsZUZpbHRlcjogKHJlcSwgZmlsZSwgZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCBhbGxvd2VkVHlwZXMgPSAvanBlZ3xqcGd8cG5nfGJtcC87XG5cbiAgICAgICAgY29uc3QgbWltZVR5cGUgPSBhbGxvd2VkVHlwZXMudGVzdChmaWxlLm1pbWV0eXBlKTtcblxuICAgICAgICBjb25zdCBleHROYW1lID0gYWxsb3dlZFR5cGVzLnRlc3QoXG4gICAgICAgICAgICBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUudG9Mb3dlckNhc2UoKSksXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKG1pbWVUeXBlICYmIGV4dE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yXG4gICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcigpKTtcbiAgICB9LFxufTtcblxuKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoYCR7Q09ORklHLlJPT1RfRElSfS8ke0NPTkZJRy5VUExPQURfVEVNUF9QQVRIfWApO1xuICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoYCR7Q09ORklHLlJPT1RfRElSfS8ke0NPTkZJRy5BVkFUQVJfVVBMT0FEX1BBVEh9YCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbn0pKCk7XG5cbmV4cG9ydCBjb25zdCBVcGxvYWRBdmF0YXJNaWRkbGV3YXJlID0gbXVsdGVyKG9wdGlvbnMpLnNpbmdsZSgnYXZhdGFyJyk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "upload-avatar.middleware.js"
      ],
      "names": [
        "avatarStorage",
        "multer",
        "diskStorage",
        "destination",
        "CONFIG",
        "UPLOAD_TEMP_PATH",
        "filename",
        "req",
        "file",
        "done",
        "ext",
        "path",
        "extname",
        "originalname",
        "toLowerCase",
        "options",
        "storage",
        "limits",
        "fileSize",
        "AVATAR_MAX_FILE_SIZE",
        "fileFilter",
        "allowedTypes",
        "mimeType",
        "test",
        "mimetype",
        "extName",
        "Error",
        "fs",
        "ensureDir",
        "ROOT_DIR",
        "AVATAR_UPLOAD_PATH",
        "err",
        "UploadAvatarMiddleware",
        "single"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAGC,gBAAOC,WAAP,CAAmB;AACrCC,EAAAA,WAAW,EAAEC,eAAOC,gBADiB;AAErCC,EAAAA,QAAQ,EAAE,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAC3B,UAAMC,GAAG,GAAGC,cAAKC,OAAL,CAAaJ,IAAI,CAACK,YAAL,CAAkBC,WAAlB,EAAb,CAAZ;;AACA,UAAMR,QAAQ,GAAG,gBAAOE,IAAI,CAACK,YAAZ,CAAjB;AACA,WAAOJ,IAAI,CAAC,IAAD,EAAQ,GAAEH,QAAS,GAAEI,GAAI,EAAzB,CAAX;AACH;AANoC,CAAnB,CAAtB;;AASA,MAAMK,OAAO,GAAG;AACZC,EAAAA,OAAO,EAAEhB,aADG;AAEZiB,EAAAA,MAAM,EAAE;AACJC,IAAAA,QAAQ,EAAEd,eAAOe;AADb,GAFI;AAKZC,EAAAA,UAAU,EAAE,CAACb,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAC7B,UAAMY,YAAY,GAAG,kBAArB;AAEA,UAAMC,QAAQ,GAAGD,YAAY,CAACE,IAAb,CAAkBf,IAAI,CAACgB,QAAvB,CAAjB;AAEA,UAAMC,OAAO,GAAGJ,YAAY,CAACE,IAAb,CACZZ,cAAKC,OAAL,CAAaJ,IAAI,CAACK,YAAL,CAAkBC,WAAlB,EAAb,CADY,CAAhB;;AAIA,QAAIQ,QAAQ,IAAIG,OAAhB,EAAyB;AACrB,aAAOhB,IAAI,CAAC,IAAD,EAAO,IAAP,CAAX;AACH,KAX4B,CAa7B;;;AACA,WAAOA,IAAI,CAAC,IAAIiB,KAAJ,EAAD,CAAX;AACH;AApBW,CAAhB;;AAuBA,CAAC,YAAY;AACT,MAAI;AACA,UAAMC,iBAAGC,SAAH,CAAc,GAAExB,eAAOyB,QAAS,IAAGzB,eAAOC,gBAAiB,EAA3D,CAAN;AACA,UAAMsB,iBAAGC,SAAH,CAAc,GAAExB,eAAOyB,QAAS,IAAGzB,eAAO0B,kBAAmB,EAA7D,CAAN;AACH,GAHD,CAGE,OAAOC,GAAP,EAAY;AACV,UAAM,IAAIL,KAAJ,CAAUK,GAAV,CAAN;AACH;AACJ,CAPD;;AASO,MAAMC,sBAAsB,GAAG,qBAAOjB,OAAP,EAAgBkB,MAAhB,CAAuB,QAAvB,CAA/B",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "sourcesContent": [
        "'use strict';\n\nimport multer from 'multer';\nimport path from 'path';\nimport uuidv1 from 'uuid/v1';\nimport fs from 'fs-extra';\nimport { CONFIG } from '../config';\n\nconst avatarStorage = multer.diskStorage({\n    destination: CONFIG.UPLOAD_TEMP_PATH,\n    filename: (req, file, done) => {\n        const ext = path.extname(file.originalname.toLowerCase());\n        const filename = uuidv1(file.originalname);\n        return done(null, `${filename}${ext}`);\n    },\n});\n\nconst options = {\n    storage: avatarStorage,\n    limits: {\n        fileSize: CONFIG.AVATAR_MAX_FILE_SIZE,\n    },\n    fileFilter: (req, file, done) => {\n        const allowedTypes = /jpeg|jpg|png|bmp/;\n\n        const mimeType = allowedTypes.test(file.mimetype);\n\n        const extName = allowedTypes.test(\n            path.extname(file.originalname.toLowerCase()),\n        );\n\n        if (mimeType && extName) {\n            return done(null, true);\n        }\n\n        // TODO: handle error\n        return done(new Error());\n    },\n};\n\n(async () => {\n    try {\n        await fs.ensureDir(`${CONFIG.ROOT_DIR}/${CONFIG.UPLOAD_TEMP_PATH}`);\n        await fs.ensureDir(`${CONFIG.ROOT_DIR}/${CONFIG.AVATAR_UPLOAD_PATH}`);\n    } catch (err) {\n        throw new Error(err);\n    }\n})();\n\nexport const UploadAvatarMiddleware = multer(options).single('avatar');\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/middleware/user-create.middleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/middleware/user-create.middleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/middleware/user-create.middleware.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/middleware/user-create.middleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
        "sourceFileName": "user-create.middleware.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserCreateMiddleware = void 0;\n\nvar _check = require(\"express-validator/check\");\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nconst UserCreateMiddleware = () => {\n  return (0, _check.checkSchema)({\n    name: {\n      trim: true,\n      custom: {\n        options: value => {\n          return !(0, _lodash.isEmpty)(value);\n        }\n      },\n      errorMessage: 'REQUIRED'\n    },\n    email: {\n      isEmail: true,\n      normalizeEmail: true\n    },\n    password: {\n      isLength: {\n        options: {\n          min: 6\n        }\n      }\n    },\n    role: {\n      in: {\n        options: {}\n      }\n    }\n  });\n};\n\nexports.UserCreateMiddleware = UserCreateMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItY3JlYXRlLm1pZGRsZXdhcmUuanMiXSwibmFtZXMiOlsiVXNlckNyZWF0ZU1pZGRsZXdhcmUiLCJuYW1lIiwidHJpbSIsImN1c3RvbSIsIm9wdGlvbnMiLCJ2YWx1ZSIsImVycm9yTWVzc2FnZSIsImVtYWlsIiwiaXNFbWFpbCIsIm5vcm1hbGl6ZUVtYWlsIiwicGFzc3dvcmQiLCJpc0xlbmd0aCIsIm1pbiIsInJvbGUiLCJpbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFTyxNQUFNQSxvQkFBb0IsR0FBRyxNQUFNO0FBQ3RDLFNBQU8sd0JBQVk7QUFDZkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLElBQUksRUFBRSxJQURKO0FBRUZDLE1BQUFBLE1BQU0sRUFBRTtBQUNKQyxRQUFBQSxPQUFPLEVBQUdDLEtBQUQsSUFBVztBQUNoQixpQkFBTyxDQUFDLHFCQUFRQSxLQUFSLENBQVI7QUFDSDtBQUhHLE9BRk47QUFPRkMsTUFBQUEsWUFBWSxFQUFFO0FBUFosS0FEUztBQVVmQyxJQUFBQSxLQUFLLEVBQUU7QUFDSEMsTUFBQUEsT0FBTyxFQUFFLElBRE47QUFFSEMsTUFBQUEsY0FBYyxFQUFFO0FBRmIsS0FWUTtBQWNmQyxJQUFBQSxRQUFRLEVBQUU7QUFDTkMsTUFBQUEsUUFBUSxFQUFFO0FBQ05QLFFBQUFBLE9BQU8sRUFBRTtBQUNMUSxVQUFBQSxHQUFHLEVBQUU7QUFEQTtBQURIO0FBREosS0FkSztBQXFCZkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLEVBQUUsRUFBRTtBQUNBVixRQUFBQSxPQUFPLEVBQUU7QUFEVDtBQURGO0FBckJTLEdBQVosQ0FBUDtBQTZCSCxDQTlCTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGNoZWNrU2NoZW1hIH0gZnJvbSAnZXhwcmVzcy12YWxpZGF0b3IvY2hlY2snO1xuaW1wb3J0IHsgaXNFbXB0eSwgdmFsdWVzIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFJPTEUgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmV4cG9ydCBjb25zdCBVc2VyQ3JlYXRlTWlkZGxld2FyZSA9ICgpID0+IHtcbiAgICByZXR1cm4gY2hlY2tTY2hlbWEoe1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0cmltOiB0cnVlLFxuICAgICAgICAgICAgY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNFbXB0eSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdSRVFVSVJFRCcsXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICBpc0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgbm9ybWFsaXplRW1haWw6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgICAgICBpc0xlbmd0aDoge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiA2LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByb2xlOiB7XG4gICAgICAgICAgICBpbjoge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user-create.middleware.js"
      ],
      "names": [
        "UserCreateMiddleware",
        "name",
        "trim",
        "custom",
        "options",
        "value",
        "errorMessage",
        "email",
        "isEmail",
        "normalizeEmail",
        "password",
        "isLength",
        "min",
        "role",
        "in"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;AAEO,MAAMA,oBAAoB,GAAG,MAAM;AACtC,SAAO,wBAAY;AACfC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,IADJ;AAEFC,MAAAA,MAAM,EAAE;AACJC,QAAAA,OAAO,EAAGC,KAAD,IAAW;AAChB,iBAAO,CAAC,qBAAQA,KAAR,CAAR;AACH;AAHG,OAFN;AAOFC,MAAAA,YAAY,EAAE;AAPZ,KADS;AAUfC,IAAAA,KAAK,EAAE;AACHC,MAAAA,OAAO,EAAE,IADN;AAEHC,MAAAA,cAAc,EAAE;AAFb,KAVQ;AAcfC,IAAAA,QAAQ,EAAE;AACNC,MAAAA,QAAQ,EAAE;AACNP,QAAAA,OAAO,EAAE;AACLQ,UAAAA,GAAG,EAAE;AADA;AADH;AADJ,KAdK;AAqBfC,IAAAA,IAAI,EAAE;AACFC,MAAAA,EAAE,EAAE;AACAV,QAAAA,OAAO,EAAE;AADT;AADF;AArBS,GAAZ,CAAP;AA6BH,CA9BM",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/middleware",
      "sourcesContent": [
        "'use strict';\n\nimport { checkSchema } from 'express-validator/check';\nimport { isEmpty, values } from 'lodash';\nimport { ROLE } from '../enums';\n\nexport const UserCreateMiddleware = () => {\n    return checkSchema({\n        name: {\n            trim: true,\n            custom: {\n                options: (value) => {\n                    return !isEmpty(value);\n                },\n            },\n            errorMessage: 'REQUIRED',\n        },\n        email: {\n            isEmail: true,\n            normalizeEmail: true,\n        },\n        password: {\n            isLength: {\n                options: {\n                    min: 6,\n                },\n            },\n        },\n        role: {\n            in: {\n                options: {\n\n                }\n            },\n        },\n    });\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/index.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"AuthController\", {\n  enumerable: true,\n  get: function () {\n    return _auth.AuthController;\n  }\n});\nObject.defineProperty(exports, \"MeController\", {\n  enumerable: true,\n  get: function () {\n    return _me.MeController;\n  }\n});\nObject.defineProperty(exports, \"UserController\", {\n  enumerable: true,\n  get: function () {\n    return _user.UserController;\n  }\n});\nObject.defineProperty(exports, \"AvatarController\", {\n  enumerable: true,\n  get: function () {\n    return _avatar.AvatarController;\n  }\n});\nObject.defineProperty(exports, \"WarehouseController\", {\n  enumerable: true,\n  get: function () {\n    return _warehouse.WarehouseController;\n  }\n});\nObject.defineProperty(exports, \"PurchaseOrderController\", {\n  enumerable: true,\n  get: function () {\n    return _purchaseOrder.PurchaseOrderController;\n  }\n});\nObject.defineProperty(exports, \"ProductController\", {\n  enumerable: true,\n  get: function () {\n    return _product.ProductController;\n  }\n});\n\nvar _auth = require(\"./auth.controller\");\n\nvar _me = require(\"./me.controller\");\n\nvar _user = require(\"./user.controller\");\n\nvar _avatar = require(\"./avatar.controller\");\n\nvar _warehouse = require(\"./warehouse.controller\");\n\nvar _purchaseOrder = require(\"./purchase-order.controller\");\n\nvar _product = require(\"./product.controller\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgeyBBdXRoQ29udHJvbGxlciB9IGZyb20gJy4vYXV0aC5jb250cm9sbGVyJztcbmV4cG9ydCB7IE1lQ29udHJvbGxlciB9IGZyb20gJy4vbWUuY29udHJvbGxlcic7XG5leHBvcnQgeyBVc2VyQ29udHJvbGxlciB9IGZyb20gJy4vdXNlci5jb250cm9sbGVyJztcbmV4cG9ydCB7IEF2YXRhckNvbnRyb2xsZXIgfSBmcm9tICcuL2F2YXRhci5jb250cm9sbGVyJztcbmV4cG9ydCB7IFdhcmVob3VzZUNvbnRyb2xsZXIgfSBmcm9tICcuL3dhcmVob3VzZS5jb250cm9sbGVyJztcbmV4cG9ydCB7IFB1cmNoYXNlT3JkZXJDb250cm9sbGVyIH0gZnJvbSAnLi9wdXJjaGFzZS1vcmRlci5jb250cm9sbGVyJztcbmV4cG9ydCB7IFByb2R1Y3RDb250cm9sbGVyIH0gZnJvbSAnLi9wcm9kdWN0LmNvbnRyb2xsZXInO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [],
      "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nexport { AuthController } from './auth.controller';\nexport { MeController } from './me.controller';\nexport { UserController } from './user.controller';\nexport { AvatarController } from './avatar.controller';\nexport { WarehouseController } from './warehouse.controller';\nexport { PurchaseOrderController } from './purchase-order.controller';\nexport { ProductController } from './product.controller';\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/auth.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/auth.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/auth.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/auth.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "auth.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _throw = require(\"throw.js\");\n\nvar _passport = _interopRequireDefault(require(\"passport\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nasync function login(req, res, next) {\n  return _passport.default.authenticate('local', {\n    session: false\n  }, function authenticate(err, user) {\n    if (err || false === user) {\n      return next(new _throw.BadRequest());\n    }\n\n    const accessToken = user.generateJWT();\n    const data = {\n      access_token: accessToken\n    };\n    return res.json(data);\n  })(req, res, next);\n}\n\nconst AuthController = {\n  login\n};\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJsb2dpbiIsInJlcSIsInJlcyIsIm5leHQiLCJwYXNzcG9ydCIsImF1dGhlbnRpY2F0ZSIsInNlc3Npb24iLCJlcnIiLCJ1c2VyIiwiQmFkUmVxdWVzdCIsImFjY2Vzc1Rva2VuIiwiZ2VuZXJhdGVKV1QiLCJkYXRhIiwiYWNjZXNzX3Rva2VuIiwianNvbiIsIkF1dGhDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOztBQUNBOzs7O0FBRUEsZUFBZUEsS0FBZixDQUFxQkMsR0FBckIsRUFBMEJDLEdBQTFCLEVBQStCQyxJQUEvQixFQUFxQztBQUNqQyxTQUFPQyxrQkFBU0MsWUFBVCxDQUFzQixPQUF0QixFQUErQjtBQUFFQyxJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUEvQixFQUNILFNBQVNELFlBQVQsQ0FBc0JFLEdBQXRCLEVBQTJCQyxJQUEzQixFQUFpQztBQUU3QixRQUFJRCxHQUFHLElBQUksVUFBVUMsSUFBckIsRUFBMkI7QUFDdkIsYUFBT0wsSUFBSSxDQUFDLElBQUlNLGlCQUFKLEVBQUQsQ0FBWDtBQUNIOztBQUVELFVBQU1DLFdBQVcsR0FBR0YsSUFBSSxDQUFDRyxXQUFMLEVBQXBCO0FBRUEsVUFBTUMsSUFBSSxHQUFHO0FBQ1RDLE1BQUFBLFlBQVksRUFBRUg7QUFETCxLQUFiO0FBSUEsV0FBT1IsR0FBRyxDQUFDWSxJQUFKLENBQVNGLElBQVQsQ0FBUDtBQUNILEdBZEUsRUFjQVgsR0FkQSxFQWNLQyxHQWRMLEVBY1VDLElBZFYsQ0FBUDtBQWVIOztBQUVELE1BQU1ZLGNBQWMsR0FBRztBQUNuQmYsRUFBQUE7QUFEbUIsQ0FBdkIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYy9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgQmFkUmVxdWVzdCB9IGZyb20gJ3Rocm93LmpzJztcbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5cbmFzeW5jIGZ1bmN0aW9uIGxvZ2luKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmV0dXJuIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9jYWwnLCB7IHNlc3Npb246IGZhbHNlIH0sXG4gICAgICAgIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShlcnIsIHVzZXIpIHtcblxuICAgICAgICAgICAgaWYgKGVyciB8fCBmYWxzZSA9PT0gdXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KG5ldyBCYWRSZXF1ZXN0KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHVzZXIuZ2VuZXJhdGVKV1QoKTtcblxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGRhdGEpO1xuICAgICAgICB9KShyZXEsIHJlcywgbmV4dCk7XG59XG5cbmNvbnN0IEF1dGhDb250cm9sbGVyID0ge1xuICAgIGxvZ2luLFxufTtcblxuZXhwb3J0IHtcbiAgICBBdXRoQ29udHJvbGxlcixcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "auth.controller.js"
      ],
      "names": [
        "login",
        "req",
        "res",
        "next",
        "passport",
        "authenticate",
        "session",
        "err",
        "user",
        "BadRequest",
        "accessToken",
        "generateJWT",
        "data",
        "access_token",
        "json",
        "AuthController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;;;AAEA,eAAeA,KAAf,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACjC,SAAOC,kBAASC,YAAT,CAAsB,OAAtB,EAA+B;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAA/B,EACH,SAASD,YAAT,CAAsBE,GAAtB,EAA2BC,IAA3B,EAAiC;AAE7B,QAAID,GAAG,IAAI,UAAUC,IAArB,EAA2B;AACvB,aAAOL,IAAI,CAAC,IAAIM,iBAAJ,EAAD,CAAX;AACH;;AAED,UAAMC,WAAW,GAAGF,IAAI,CAACG,WAAL,EAApB;AAEA,UAAMC,IAAI,GAAG;AACTC,MAAAA,YAAY,EAAEH;AADL,KAAb;AAIA,WAAOR,GAAG,CAACY,IAAJ,CAASF,IAAT,CAAP;AACH,GAdE,EAcAX,GAdA,EAcKC,GAdL,EAcUC,IAdV,CAAP;AAeH;;AAED,MAAMY,cAAc,GAAG;AACnBf,EAAAA;AADmB,CAAvB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { BadRequest } from 'throw.js';\nimport passport from 'passport';\n\nasync function login(req, res, next) {\n    return passport.authenticate('local', { session: false },\n        function authenticate(err, user) {\n\n            if (err || false === user) {\n                return next(new BadRequest());\n            }\n\n            const accessToken = user.generateJWT();\n\n            const data = {\n                access_token: accessToken,\n            };\n\n            return res.json(data);\n        })(req, res, next);\n}\n\nconst AuthController = {\n    login,\n};\n\nexport {\n    AuthController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/me.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/me.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/me.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/me.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "me.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MeController = void 0;\n\nvar _lodash = require(\"lodash\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nasync function profile(req, res, next) {\n  const {\n    User\n  } = req.app.get('models');\n  const id = (0, _lodash.get)(req, 'user');\n\n  if (!id) {\n    // TODO: handle error\n    return next('404');\n  }\n\n  try {\n    const user = await User.findById(id).populate('warehouseId'); // TODO: check if user is exists\n\n    return res.json(user);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function changeProfile(req, res, next) {\n  const {\n    User\n  } = req.app.get('models');\n  const currentUser = req.user;\n\n  try {\n    const user = await User.findById(currentUser.id);\n\n    if (!user) {\n      // TODO: handle error\n      return next(new Error());\n    }\n\n    const data = (0, _lodash.pick)(req.body, ['name', 'email', 'password', 'gender']);\n\n    if ((0, _lodash.isEmpty)(data.password)) {\n      delete data.password;\n    }\n\n    user.set(_objectSpread({}, data));\n    await user.save();\n    return res.json(user);\n  } catch (err) {\n    return next(err);\n  }\n}\n\nconst MeController = {\n  profile,\n  changeProfile\n};\nexports.MeController = MeController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsicHJvZmlsZSIsInJlcSIsInJlcyIsIm5leHQiLCJVc2VyIiwiYXBwIiwiZ2V0IiwiaWQiLCJ1c2VyIiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsImpzb24iLCJlcnIiLCJjaGFuZ2VQcm9maWxlIiwiY3VycmVudFVzZXIiLCJFcnJvciIsImRhdGEiLCJib2R5IiwicGFzc3dvcmQiLCJzZXQiLCJzYXZlIiwiTWVDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQUVBOzs7Ozs7QUFFQSxlQUFlQSxPQUFmLENBQXVCQyxHQUF2QixFQUE0QkMsR0FBNUIsRUFBaUNDLElBQWpDLEVBQXVDO0FBQ25DLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFXSCxHQUFHLENBQUNJLEdBQUosQ0FBUUMsR0FBUixDQUFZLFFBQVosQ0FBakI7QUFDQSxRQUFNQyxFQUFFLEdBQUcsaUJBQUlOLEdBQUosRUFBUyxNQUFULENBQVg7O0FBRUEsTUFBSSxDQUFDTSxFQUFMLEVBQVM7QUFDTDtBQUNBLFdBQU9KLElBQUksQ0FBQyxLQUFELENBQVg7QUFDSDs7QUFFRCxNQUFJO0FBQ0EsVUFBTUssSUFBSSxHQUFHLE1BQU1KLElBQUksQ0FDbEJLLFFBRGMsQ0FDTEYsRUFESyxFQUVkRyxRQUZjLENBRUwsYUFGSyxDQUFuQixDQURBLENBS0E7O0FBRUEsV0FBT1IsR0FBRyxDQUFDUyxJQUFKLENBQVNILElBQVQsQ0FBUDtBQUNILEdBUkQsQ0FRRSxPQUFPSSxHQUFQLEVBQVk7QUFDVjtBQUNBLFdBQU9ULElBQUksQ0FBQ1MsR0FBRCxDQUFYO0FBQ0g7QUFDSjs7QUFFRCxlQUFlQyxhQUFmLENBQTZCWixHQUE3QixFQUFrQ0MsR0FBbEMsRUFBdUNDLElBQXZDLEVBQTZDO0FBQ3pDLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFXSCxHQUFHLENBQUNJLEdBQUosQ0FBUUMsR0FBUixDQUFZLFFBQVosQ0FBakI7QUFDQSxRQUFNUSxXQUFXLEdBQUdiLEdBQUcsQ0FBQ08sSUFBeEI7O0FBRUEsTUFBSTtBQUNBLFVBQU1BLElBQUksR0FBRyxNQUFNSixJQUFJLENBQUNLLFFBQUwsQ0FBY0ssV0FBVyxDQUFDUCxFQUExQixDQUFuQjs7QUFFQSxRQUFJLENBQUNDLElBQUwsRUFBVztBQUNQO0FBQ0EsYUFBT0wsSUFBSSxDQUFDLElBQUlZLEtBQUosRUFBRCxDQUFYO0FBQ0g7O0FBRUQsVUFBTUMsSUFBSSxHQUFHLGtCQUFLZixHQUFHLENBQUNnQixJQUFULEVBQWUsQ0FDeEIsTUFEd0IsRUFFeEIsT0FGd0IsRUFHeEIsVUFId0IsRUFJeEIsUUFKd0IsQ0FBZixDQUFiOztBQU9BLFFBQUkscUJBQVFELElBQUksQ0FBQ0UsUUFBYixDQUFKLEVBQTRCO0FBQ3hCLGFBQU9GLElBQUksQ0FBQ0UsUUFBWjtBQUNIOztBQUVEVixJQUFBQSxJQUFJLENBQUNXLEdBQUwsbUJBQWFILElBQWI7QUFFQSxVQUFNUixJQUFJLENBQUNZLElBQUwsRUFBTjtBQUVBLFdBQU9sQixHQUFHLENBQUNTLElBQUosQ0FBU0gsSUFBVCxDQUFQO0FBQ0gsR0F4QkQsQ0F3QkUsT0FBT0ksR0FBUCxFQUFZO0FBQ1YsV0FBT1QsSUFBSSxDQUFDUyxHQUFELENBQVg7QUFDSDtBQUNKOztBQUVELE1BQU1TLFlBQVksR0FBRztBQUNqQnJCLEVBQUFBLE9BRGlCO0FBRWpCYSxFQUFBQTtBQUZpQixDQUFyQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBnZXQsIHBpY2ssIGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnO1xuXG5hc3luYyBmdW5jdGlvbiBwcm9maWxlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBVc2VyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG4gICAgY29uc3QgaWQgPSBnZXQocmVxLCAndXNlcicpO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQoJzQwNCcpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyXG4gICAgICAgICAgICAuZmluZEJ5SWQoaWQpXG4gICAgICAgICAgICAucG9wdWxhdGUoJ3dhcmVob3VzZUlkJyk7XG5cbiAgICAgICAgLy8gVE9ETzogY2hlY2sgaWYgdXNlciBpcyBleGlzdHNcblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvclxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY2hhbmdlUHJvZmlsZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHsgVXNlciB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gcmVxLnVzZXI7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChjdXJyZW50VXNlci5pZCk7XG5cbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBuZXh0KG5ldyBFcnJvcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBwaWNrKHJlcS5ib2R5LCBbXG4gICAgICAgICAgICAnbmFtZScsXG4gICAgICAgICAgICAnZW1haWwnLFxuICAgICAgICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICAgICAgICdnZW5kZXInLFxuICAgICAgICBdKTtcblxuICAgICAgICBpZiAoaXNFbXB0eShkYXRhLnBhc3N3b3JkKSkge1xuICAgICAgICAgICAgZGVsZXRlIGRhdGEucGFzc3dvcmQ7XG4gICAgICAgIH1cblxuICAgICAgICB1c2VyLnNldCh7Li4uZGF0YX0pO1xuXG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih1c2VyKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmNvbnN0IE1lQ29udHJvbGxlciA9IHtcbiAgICBwcm9maWxlLFxuICAgIGNoYW5nZVByb2ZpbGUsXG59O1xuXG5leHBvcnQge1xuICAgIE1lQ29udHJvbGxlcixcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "me.controller.js"
      ],
      "names": [
        "profile",
        "req",
        "res",
        "next",
        "User",
        "app",
        "get",
        "id",
        "user",
        "findById",
        "populate",
        "json",
        "err",
        "changeProfile",
        "currentUser",
        "Error",
        "data",
        "body",
        "password",
        "set",
        "save",
        "MeController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;;;;;AAEA,eAAeA,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuC;AACnC,QAAM;AAAEC,IAAAA;AAAF,MAAWH,GAAG,CAACI,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;AACA,QAAMC,EAAE,GAAG,iBAAIN,GAAJ,EAAS,MAAT,CAAX;;AAEA,MAAI,CAACM,EAAL,EAAS;AACL;AACA,WAAOJ,IAAI,CAAC,KAAD,CAAX;AACH;;AAED,MAAI;AACA,UAAMK,IAAI,GAAG,MAAMJ,IAAI,CAClBK,QADc,CACLF,EADK,EAEdG,QAFc,CAEL,aAFK,CAAnB,CADA,CAKA;;AAEA,WAAOR,GAAG,CAACS,IAAJ,CAASH,IAAT,CAAP;AACH,GARD,CAQE,OAAOI,GAAP,EAAY;AACV;AACA,WAAOT,IAAI,CAACS,GAAD,CAAX;AACH;AACJ;;AAED,eAAeC,aAAf,CAA6BZ,GAA7B,EAAkCC,GAAlC,EAAuCC,IAAvC,EAA6C;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAAWH,GAAG,CAACI,GAAJ,CAAQC,GAAR,CAAY,QAAZ,CAAjB;AACA,QAAMQ,WAAW,GAAGb,GAAG,CAACO,IAAxB;;AAEA,MAAI;AACA,UAAMA,IAAI,GAAG,MAAMJ,IAAI,CAACK,QAAL,CAAcK,WAAW,CAACP,EAA1B,CAAnB;;AAEA,QAAI,CAACC,IAAL,EAAW;AACP;AACA,aAAOL,IAAI,CAAC,IAAIY,KAAJ,EAAD,CAAX;AACH;;AAED,UAAMC,IAAI,GAAG,kBAAKf,GAAG,CAACgB,IAAT,EAAe,CACxB,MADwB,EAExB,OAFwB,EAGxB,UAHwB,EAIxB,QAJwB,CAAf,CAAb;;AAOA,QAAI,qBAAQD,IAAI,CAACE,QAAb,CAAJ,EAA4B;AACxB,aAAOF,IAAI,CAACE,QAAZ;AACH;;AAEDV,IAAAA,IAAI,CAACW,GAAL,mBAAaH,IAAb;AAEA,UAAMR,IAAI,CAACY,IAAL,EAAN;AAEA,WAAOlB,GAAG,CAACS,IAAJ,CAASH,IAAT,CAAP;AACH,GAxBD,CAwBE,OAAOI,GAAP,EAAY;AACV,WAAOT,IAAI,CAACS,GAAD,CAAX;AACH;AACJ;;AAED,MAAMS,YAAY,GAAG;AACjBrB,EAAAA,OADiB;AAEjBa,EAAAA;AAFiB,CAArB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { get, pick, isEmpty } from 'lodash';\n\nasync function profile(req, res, next) {\n    const { User } = req.app.get('models');\n    const id = get(req, 'user');\n\n    if (!id) {\n        // TODO: handle error\n        return next('404');\n    }\n\n    try {\n        const user = await User\n            .findById(id)\n            .populate('warehouseId');\n\n        // TODO: check if user is exists\n\n        return res.json(user);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function changeProfile(req, res, next) {\n    const { User } = req.app.get('models');\n    const currentUser = req.user;\n\n    try {\n        const user = await User.findById(currentUser.id);\n\n        if (!user) {\n            // TODO: handle error\n            return next(new Error());\n        }\n\n        const data = pick(req.body, [\n            'name',\n            'email',\n            'password',\n            'gender',\n        ]);\n\n        if (isEmpty(data.password)) {\n            delete data.password;\n        }\n\n        user.set({...data});\n\n        await user.save();\n\n        return res.json(user);\n    } catch (err) {\n        return next(err);\n    }\n}\n\nconst MeController = {\n    profile,\n    changeProfile,\n};\n\nexport {\n    MeController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/user.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/user.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/user.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/user.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "user.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserController = void 0;\n\nvar _throw = require(\"throw.js\");\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nasync function list(req, res, next) {\n  const {\n    User\n  } = req.app.get('models');\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const filter = JSON.parse((0, _lodash.get)(req.query, 'filter', '{}'));\n  const query = {};\n\n  if (filter.username) {\n    query.username = {\n      '$regex': filter.username\n    };\n  }\n\n  const options = {\n    page,\n    limit,\n    populate: (0, _lodash.get)(filter, 'populate', {})\n  };\n\n  try {\n    const results = await User.paginate(query, options);\n    const count = results.totalDocs;\n    const users = results.docs;\n    return res.json({\n      items: users,\n      count\n    });\n  } catch (err) {\n    return next(new _throw.InternalServerError(err));\n  }\n}\n\nasync function create(req, res, next) {\n  const data = req.body;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    if ((0, _lodash.isEmpty)(data.warehouseId)) {\n      delete data.warehouseId;\n    }\n\n    const user = await User.create(data);\n    return res.json(user);\n  } catch (err) {\n    return next(new _throw.UnprocessableEntity(err));\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const data = req.body;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    const user = await User.findById(id);\n\n    if (!user) {\n      return next(new _throw.NotFound());\n    }\n\n    if ((0, _lodash.isEmpty)(data.password)) {\n      delete data.pass;\n    }\n\n    if ((0, _lodash.isEmpty)(data.warehouseId)) {\n      data.warehouseId = null;\n    }\n\n    user.set(_objectSpread({}, data));\n    await user.save();\n    return res.json(user);\n  } catch (err) {\n    return next(new _throw.UnprocessableEntity(err));\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    await User.findByIdAndDelete(id);\n    return res.status(204).json({});\n  } catch (err) {\n    return next(new _throw.InternalServerError());\n  }\n}\n\nasync function findOne(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    User\n  } = req.app.get('models');\n\n  try {\n    const user = await User.findById(id);\n\n    if (!user) {\n      throw new Error('404 user not found');\n    }\n\n    return res.json(user);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nconst UserController = {\n  list,\n  create,\n  update,\n  remove,\n  findOne\n};\nexports.UserController = UserController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJsaXN0IiwicmVxIiwicmVzIiwibmV4dCIsIlVzZXIiLCJhcHAiLCJnZXQiLCJsaW1pdCIsInBhcnNlSW50IiwicXVlcnkiLCJERUZBVUxUX1BBR0VfTElNSVQiLCJwYWdlIiwiZmlsdGVyIiwiSlNPTiIsInBhcnNlIiwidXNlcm5hbWUiLCJvcHRpb25zIiwicG9wdWxhdGUiLCJyZXN1bHRzIiwicGFnaW5hdGUiLCJjb3VudCIsInRvdGFsRG9jcyIsInVzZXJzIiwiZG9jcyIsImpzb24iLCJpdGVtcyIsImVyciIsIkludGVybmFsU2VydmVyRXJyb3IiLCJjcmVhdGUiLCJkYXRhIiwiYm9keSIsIndhcmVob3VzZUlkIiwidXNlciIsIlVucHJvY2Vzc2FibGVFbnRpdHkiLCJ1cGRhdGUiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwiTm90Rm91bmQiLCJwYXNzd29yZCIsInBhc3MiLCJzZXQiLCJzYXZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJmaW5kT25lIiwiRXJyb3IiLCJVc2VyQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFNQTs7QUFDQTs7Ozs7O0FBRUEsZUFBZUEsSUFBZixDQUFvQkMsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQyxRQUFNO0FBQUNDLElBQUFBO0FBQUQsTUFBU0gsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQWY7QUFFQSxRQUFNQyxLQUFLLEdBQUdDLFFBQVEsQ0FBQyxpQkFBSVAsR0FBRyxDQUFDUSxLQUFSLEVBQWUsT0FBZixFQUF3QkMseUJBQXhCLENBQUQsQ0FBdEI7QUFDQSxRQUFNQyxJQUFJLEdBQUdILFFBQVEsQ0FBQyxpQkFBSVAsR0FBRyxDQUFDUSxLQUFSLEVBQWUsTUFBZixFQUF1QixDQUF2QixDQUFELENBQXJCO0FBRUEsUUFBTUcsTUFB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LEdBQUcsQ0FBQ3NCLElBQUosQ0FBU1EsSUFBVCxDQUFQO0FBQ0gsR0FSRCxDQVFFLE9BQU9OLEdBQVAsRUFBWTtBQUNWO0FBQ0EsV0FBT3ZCLElBQUksQ0FBQ3VCLEdBQUQsQ0FBWDtBQUNIO0FBQ0o7O0FBRUQsTUFBTXNCLGNBQWMsR0FBRztBQUNuQmhELEVBQUFBLElBRG1CO0FBRW5CNEIsRUFBQUEsTUFGbUI7QUFHbkJNLEVBQUFBLE1BSG1CO0FBSW5CUyxFQUFBQSxNQUptQjtBQUtuQkcsRUFBQUE7QUFMbUIsQ0FBdkIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NvbmxkL3dhcmVob3VzZS9raG8tYXBpL3NyYy9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtcbiAgICBCYWRSZXF1ZXN0LFxuICAgIE5vdEZvdW5kLFxuICAgIEludGVybmFsU2VydmVyRXJyb3IsXG4gICAgVW5wcm9jZXNzYWJsZUVudGl0eVxufSBmcm9tICd0aHJvdy5qcyc7XG5pbXBvcnQgeyBnZXQsIGlzRW1wdHkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgREVGQVVMVF9QQUdFX0xJTUlUIH0gZnJvbSAnLi4vZW51bXMnO1xuXG5hc3luYyBmdW5jdGlvbiBsaXN0KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3Qge1VzZXJ9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChnZXQocmVxLnF1ZXJ5LCAnbGltaXQnLCBERUZBVUxUX1BBR0VfTElNSVQpKTtcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ3BhZ2UnLCAxKSk7XG5cbiAgICBjb25zdCBmaWx0ZXIgPSBKU09OLnBhcnNlKGdldChyZXEucXVlcnksICdmaWx0ZXInLCAne30nKSk7XG5cbiAgICBjb25zdCBxdWVyeSA9IHt9O1xuXG4gICAgaWYgKGZpbHRlci51c2VybmFtZSkge1xuICAgICAgICBxdWVyeS51c2VybmFtZSA9IHsnJHJlZ2V4JzogZmlsdGVyLnVzZXJuYW1lfTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwYWdlLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgcG9wdWxhdGU6IGdldChmaWx0ZXIsICdwb3B1bGF0ZScsIHt9KSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFVzZXIucGFnaW5hdGUocXVlcnksIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGNvdW50ID0gcmVzdWx0cy50b3RhbERvY3M7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gcmVzdWx0cy5kb2NzO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBpdGVtczogdXNlcnMsXG4gICAgICAgICAgICBjb3VudCxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKGVycikpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHtVc2VyfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGlmIChpc0VtcHR5KGRhdGEud2FyZWhvdXNlSWQpKSB7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS53YXJlaG91c2VJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZShkYXRhKTtcblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5KGVycikpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHtVc2VyfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KG5ldyBOb3RGb3VuZCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0VtcHR5KGRhdGEucGFzc3dvcmQpKSB7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS5wYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRW1wdHkoZGF0YS53YXJlaG91c2VJZCkpIHtcbiAgICAgICAgICAgIGRhdGEud2FyZWhvdXNlSWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdXNlci5zZXQoey4uLmRhdGF9KTtcblxuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5KGVycikpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3Qge1VzZXJ9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgVXNlci5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KS5qc29uKHt9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5leHQobmV3IEludGVybmFsU2VydmVyRXJyb3IoKSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kT25lKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IFVzZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignNDA0IHVzZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvclxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuY29uc3QgVXNlckNvbnRyb2xsZXIgPSB7XG4gICAgbGlzdCxcbiAgICBjcmVhdGUsXG4gICAgdXBkYXRlLFxuICAgIHJlbW92ZSxcbiAgICBmaW5kT25lLFxufTtcblxuZXhwb3J0IHtcbiAgICBVc2VyQ29udHJvbGxlcixcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.controller.js"
      ],
      "names": [
        "list",
        "req",
        "res",
        "next",
        "User",
        "app",
        "get",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "filter",
        "JSON",
        "parse",
        "username",
        "options",
        "populate",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "users",
        "docs",
        "json",
        "items",
        "err",
        "InternalServerError",
        "create",
        "data",
        "body",
        "warehouseId",
        "user",
        "UnprocessableEntity",
        "update",
        "id",
        "params",
        "findById",
        "NotFound",
        "password",
        "pass",
        "set",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "findOne",
        "Error",
        "UserController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport {\n    BadRequest,\n    NotFound,\n    InternalServerError,\n    UnprocessableEntity\n} from 'throw.js';\nimport { get, isEmpty } from 'lodash';\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\n\nasync function list(req, res, next) {\n    const {User} = req.app.get('models');\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const filter = JSON.parse(get(req.query, 'filter', '{}'));\n\n    const query = {};\n\n    if (filter.username) {\n        query.username = {'$regex': filter.username};\n    }\n\n    const options = {\n        page,\n        limit,\n        populate: get(filter, 'populate', {}),\n    };\n\n    try {\n        const results = await User.paginate(query, options);\n\n        const count = results.totalDocs;\n        const users = results.docs;\n\n        return res.json({\n            items: users,\n            count,\n        });\n    } catch (err) {\n        return next(new InternalServerError(err));\n    }\n}\n\nasync function create(req, res, next) {\n    const data = req.body;\n    const {User} = req.app.get('models');\n\n    try {\n        if (isEmpty(data.warehouseId)) {\n            delete data.warehouseId;\n        }\n\n        const user = await User.create(data);\n\n        return res.json(user);\n    } catch (err) {\n        return next(new UnprocessableEntity(err));\n    }\n}\n\nasync function update(req, res, next) {\n    const {id} = req.params;\n    const data = req.body;\n    const {User} = req.app.get('models');\n\n    try {\n        const user = await User.findById(id);\n\n        if (!user) {\n            return next(new NotFound());\n        }\n\n        if (isEmpty(data.password)) {\n            delete data.pass;\n        }\n\n        if (isEmpty(data.warehouseId)) {\n            data.warehouseId = null;\n        }\n\n        user.set({...data});\n\n        await user.save();\n\n        return res.json(user);\n    } catch (err) {\n        return next(new UnprocessableEntity(err));\n    }\n}\n\nasync function remove(req, res, next) {\n    const {id} = req.params;\n    const {User} = req.app.get('models');\n\n    try {\n        await User.findByIdAndDelete(id);\n\n        return res.status(204).json({});\n    } catch (err) {\n        return next(new InternalServerError());\n    }\n}\n\nasync function findOne(req, res, next) {\n    const { id } = req.params;\n    const { User } = req.app.get('models');\n\n    try {\n        const user = await User.findById(id);\n\n        if (!user) {\n            throw new Error('404 user not found');\n        }\n\n        return res.json(user);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nconst UserController = {\n    list,\n    create,\n    update,\n    remove,\n    findOne,\n};\n\nexport {\n    UserController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/avatar.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/avatar.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/avatar.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/avatar.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "avatar.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AvatarController = void 0;\n\nvar _sharp = _interopRequireDefault(require(\"sharp\"));\n\nvar _fsExtra = _interopRequireDefault(require(\"fs-extra\"));\n\nvar _config = require(\"../config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nasync function upload(req, res, next) {\n  const {\n    file\n  } = req;\n\n  if (!file) {\n    // TODO: handle error\n    return next(new Error());\n  }\n\n  const avatarPath = `${_config.CONFIG.AVATAR_UPLOAD_PATH}/${file.filename}`;\n\n  try {\n    // resize, convert to jpg and save to avatar path\n    await (0, _sharp.default)(file.path).resize({\n      width: 200,\n      height: 200,\n      fit: 'cover',\n      position: 'centre'\n    }).toFormat('jpg').toFile(avatarPath); // delete original file\n\n    await _fsExtra.default.remove(file.path);\n    return res.json({\n      filename: file.filename,\n      path: avatarPath\n    });\n  } catch (err) {\n    return next(err);\n  }\n}\n\nconst AvatarController = {\n  upload\n};\nexports.AvatarController = AvatarController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF2YXRhci5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbInVwbG9hZCIsInJlcSIsInJlcyIsIm5leHQiLCJmaWxlIiwiRXJyb3IiLCJhdmF0YXJQYXRoIiwiQ09ORklHIiwiQVZBVEFSX1VQTE9BRF9QQVRIIiwiZmlsZW5hbWUiLCJwYXRoIiwicmVzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJmaXQiLCJwb3NpdGlvbiIsInRvRm9ybWF0IiwidG9GaWxlIiwiZnMiLCJyZW1vdmUiLCJqc29uIiwiZXJyIiwiQXZhdGFyQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQUVBLGVBQWVBLE1BQWYsQ0FBc0JDLEdBQXRCLEVBQTJCQyxHQUEzQixFQUFnQ0MsSUFBaEMsRUFBc0M7QUFFbEMsUUFBTTtBQUFFQyxJQUFBQTtBQUFGLE1BQVdILEdBQWpCOztBQUVBLE1BQUksQ0FBQ0csSUFBTCxFQUFXO0FBQ1A7QUFDQSxXQUFPRCxJQUFJLENBQUMsSUFBSUUsS0FBSixFQUFELENBQVg7QUFDSDs7QUFFRCxRQUFNQyxVQUFVLEdBQUksR0FBRUMsZUFBT0Msa0JBQW1CLElBQUdKLElBQUksQ0FBQ0ssUUFBUyxFQUFqRTs7QUFFQSxNQUFJO0FBQ0E7QUFDQSxVQUFNLG9CQUFNTCxJQUFJLENBQUNNLElBQVgsRUFDREMsTUFEQyxDQUNNO0FBQ0pDLE1BQUFBLEtBQUssRUFBRSxHQURIO0FBRUpDLE1BQUFBLE1BQU0sRUFBRSxHQUZKO0FBR0pDLE1BQUFBLEdBQUcsRUFBRSxPQUhEO0FBSUpDLE1BQUFBLFFBQVEsRUFBRTtBQUpOLEtBRE4sRUFPREMsUUFQQyxDQU9RLEtBUFIsRUFRREMsTUFSQyxDQVFNWCxVQVJOLENBQU4sQ0FGQSxDQVlBOztBQUNBLFVBQU1ZLGlCQUFHQyxNQUFILENBQVVmLElBQUksQ0FBQ00sSUFBZixDQUFOO0FBRUEsV0FBT1IsR0FBRyxDQUFDa0IsSUFBSixDQUFTO0FBQ1pYLE1BQUFBLFFBQVEsRUFBRUwsSUFBSSxDQUFDSyxRQURIO0FBRVpDLE1BQUFBLElBQUksRUFBRUo7QUFGTSxLQUFULENBQVA7QUFJSCxHQW5CRCxDQW1CRSxPQUFPZSxHQUFQLEVBQVk7QUFDVixXQUFPbEIsSUFBSSxDQUFDa0IsR0FBRCxDQUFYO0FBQ0g7QUFDSjs7QUFHRCxNQUFNQyxnQkFBZ0IsR0FBRztBQUNyQnRCLEVBQUFBO0FBRHFCLENBQXpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBzaGFycCBmcm9tICdzaGFycCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMtZXh0cmEnO1xuaW1wb3J0IHsgQ09ORklHIH0gZnJvbSAnLi4vY29uZmlnJztcblxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkKHJlcSwgcmVzLCBuZXh0KSB7XG5cbiAgICBjb25zdCB7IGZpbGUgfSA9IHJlcTtcblxuICAgIGlmICghZmlsZSkge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGF2YXRhclBhdGggPSBgJHtDT05GSUcuQVZBVEFSX1VQTE9BRF9QQVRIfS8ke2ZpbGUuZmlsZW5hbWV9YDtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIHJlc2l6ZSwgY29udmVydCB0byBqcGcgYW5kIHNhdmUgdG8gYXZhdGFyIHBhdGhcbiAgICAgICAgYXdhaXQgc2hhcnAoZmlsZS5wYXRoKVxuICAgICAgICAgICAgLnJlc2l6ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgICAgICAgICAgICBmaXQ6ICdjb3ZlcicsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdjZW50cmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50b0Zvcm1hdCgnanBnJylcbiAgICAgICAgICAgIC50b0ZpbGUoYXZhdGFyUGF0aCk7XG5cbiAgICAgICAgLy8gZGVsZXRlIG9yaWdpbmFsIGZpbGVcbiAgICAgICAgYXdhaXQgZnMucmVtb3ZlKGZpbGUucGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLmZpbGVuYW1lLFxuICAgICAgICAgICAgcGF0aDogYXZhdGFyUGF0aCxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5cbmNvbnN0IEF2YXRhckNvbnRyb2xsZXIgPSB7XG4gICAgdXBsb2FkLFxufTtcblxuZXhwb3J0IHtcbiAgICBBdmF0YXJDb250cm9sbGVyLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "avatar.controller.js"
      ],
      "names": [
        "upload",
        "req",
        "res",
        "next",
        "file",
        "Error",
        "avatarPath",
        "CONFIG",
        "AVATAR_UPLOAD_PATH",
        "filename",
        "path",
        "resize",
        "width",
        "height",
        "fit",
        "position",
        "toFormat",
        "toFile",
        "fs",
        "remove",
        "json",
        "err",
        "AvatarController"
      ],
      "mappings": "AAAA;;;;;;;AAEA;;AACA;;AACA;;;;AAEA,eAAeA,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,IAAhC,EAAsC;AAElC,QAAM;AAAEC,IAAAA;AAAF,MAAWH,GAAjB;;AAEA,MAAI,CAACG,IAAL,EAAW;AACP;AACA,WAAOD,IAAI,CAAC,IAAIE,KAAJ,EAAD,CAAX;AACH;;AAED,QAAMC,UAAU,GAAI,GAAEC,eAAOC,kBAAmB,IAAGJ,IAAI,CAACK,QAAS,EAAjE;;AAEA,MAAI;AACA;AACA,UAAM,oBAAML,IAAI,CAACM,IAAX,EACDC,MADC,CACM;AACJC,MAAAA,KAAK,EAAE,GADH;AAEJC,MAAAA,MAAM,EAAE,GAFJ;AAGJC,MAAAA,GAAG,EAAE,OAHD;AAIJC,MAAAA,QAAQ,EAAE;AAJN,KADN,EAODC,QAPC,CAOQ,KAPR,EAQDC,MARC,CAQMX,UARN,CAAN,CAFA,CAYA;;AACA,UAAMY,iBAAGC,MAAH,CAAUf,IAAI,CAACM,IAAf,CAAN;AAEA,WAAOR,GAAG,CAACkB,IAAJ,CAAS;AACZX,MAAAA,QAAQ,EAAEL,IAAI,CAACK,QADH;AAEZC,MAAAA,IAAI,EAAEJ;AAFM,KAAT,CAAP;AAIH,GAnBD,CAmBE,OAAOe,GAAP,EAAY;AACV,WAAOlB,IAAI,CAACkB,GAAD,CAAX;AACH;AACJ;;AAGD,MAAMC,gBAAgB,GAAG;AACrBtB,EAAAA;AADqB,CAAzB",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport sharp from 'sharp';\nimport fs from 'fs-extra';\nimport { CONFIG } from '../config';\n\nasync function upload(req, res, next) {\n\n    const { file } = req;\n\n    if (!file) {\n        // TODO: handle error\n        return next(new Error());\n    }\n\n    const avatarPath = `${CONFIG.AVATAR_UPLOAD_PATH}/${file.filename}`;\n\n    try {\n        // resize, convert to jpg and save to avatar path\n        await sharp(file.path)\n            .resize({\n                width: 200,\n                height: 200,\n                fit: 'cover',\n                position: 'centre',\n            })\n            .toFormat('jpg')\n            .toFile(avatarPath);\n\n        // delete original file\n        await fs.remove(file.path);\n\n        return res.json({\n            filename: file.filename,\n            path: avatarPath,\n        });\n    } catch (err) {\n        return next(err);\n    }\n}\n\n\nconst AvatarController = {\n    upload,\n};\n\nexport {\n    AvatarController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/warehouse.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/warehouse.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/warehouse.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/warehouse.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "warehouse.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WarehouseController = void 0;\n\nvar _enums = require(\"../enums\");\n\nvar _lodash = require(\"lodash\");\n\nvar _httpStatus = _interopRequireDefault(require(\"http-status\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nasync function list(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const query = {};\n  const options = {\n    page,\n    limit\n  };\n\n  try {\n    const results = await Warehouse.paginate(query, options);\n    const count = results.totalDocs;\n    const warehouses = results.docs;\n    return res.json({\n      items: warehouses,\n      count\n    });\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nasync function create(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const data = req.body;\n\n  try {\n    // TODO: validate before create\n    const warehouse = await Warehouse.create(data); // TODO: handle response content\n\n    return res.json(warehouse);\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n  const data = req.body;\n\n  try {\n    const warehouse = await Warehouse.findById(id);\n\n    if (!warehouse) {\n      // TODO: handle model not found error response\n      return next('404');\n    } // TODO: validate data before save\n\n\n    warehouse.set(_objectSpread({}, data));\n    await warehouse.save(); // TODO: handle response\n\n    return res.json(warehouse);\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    Warehouse\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n\n  try {\n    await Warehouse.findByIdAndDelete(id);\n    return res.status(_httpStatus.default.NO_CONTENT).json({});\n  } catch (err) {\n    // TODO: handle error response\n    return next(err);\n  }\n}\n\nconst WarehouseController = {\n  list,\n  create,\n  update,\n  remove\n};\nexports.WarehouseController = WarehouseController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhcmVob3VzZS5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImxpc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiV2FyZWhvdXNlIiwiYXBwIiwiZ2V0IiwibGltaXQiLCJwYXJzZUludCIsInF1ZXJ5IiwiREVGQVVMVF9QQUdFX0xJTUlUIiwicGFnZSIsIm9wdGlvbnMiLCJyZXN1bHRzIiwicGFnaW5hdGUiLCJjb3VudCIsInRvdGFsRG9jcyIsIndhcmVob3VzZXMiLCJkb2NzIiwianNvbiIsIml0ZW1zIiwiZXJyIiwiY3JlYXRlIiwiZGF0YSIsImJvZHkiLCJ3YXJlaG91c2UiLCJ1cGRhdGUiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkIiwic2V0Iiwic2F2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwiSFRUUF9TVEFUVVMiLCJOT19DT05URU5UIiwiV2FyZWhvdXNlQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQSxlQUFlQSxJQUFmLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0FBQ2hDLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFnQkgsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQXRCO0FBRUEsUUFBTUMsS0FBSyxHQUFHQyxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE9BQWYsRUFBd0JDLHlCQUF4QixDQUFELENBQXRCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHSCxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE1BQWYsRUFBdUIsQ0FBdkIsQ0FBRCxDQUFyQjtBQUVBLFFBQU1BLEtBQUssR0FBRyxFQUFkO0FBRUEsUUFBTUcsT0FBTyxHQUFHO0FBQ1pELElBQUFBLElBRFk7QUFFWkosSUFBQUE7QUFGWSxHQUFoQjs7QUFLQSxNQUFJO0FBQ0EsVUFBTU0s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QUEsTUFIK0I7QUFJL0JNLEVBQUFBO0FBSitCLENBQTVCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IERFRkFVTFRfUEFHRV9MSU1JVCB9IGZyb20gJy4uL2VudW1zJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgSFRUUF9TVEFUVVMgZnJvbSAnaHR0cC1zdGF0dXMnO1xuXG5hc3luYyBmdW5jdGlvbiBsaXN0KHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBXYXJlaG91c2UgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ2xpbWl0JywgREVGQVVMVF9QQUdFX0xJTUlUKSk7XG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGdldChyZXEucXVlcnksICdwYWdlJywgMSkpO1xuXG4gICAgY29uc3QgcXVlcnkgPSB7fTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgV2FyZWhvdXNlLnBhZ2luYXRlKHF1ZXJ5LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBjb3VudCA9IHJlc3VsdHMudG90YWxEb2NzO1xuICAgICAgICBjb25zdCB3YXJlaG91c2VzID0gcmVzdWx0cy5kb2NzO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBpdGVtczogd2FyZWhvdXNlcyxcbiAgICAgICAgICAgIGNvdW50LFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFdhcmVob3VzZSB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIFRPRE86IHZhbGlkYXRlIGJlZm9yZSBjcmVhdGVcbiAgICAgICAgY29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgV2FyZWhvdXNlLmNyZWF0ZShkYXRhKTtcblxuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgcmVzcG9uc2UgY29udGVudFxuICAgICAgICByZXR1cm4gcmVzLmpzb24od2FyZWhvdXNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFdhcmVob3VzZSB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgZGF0YSA9IHJlcS5ib2R5O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgV2FyZWhvdXNlLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXdhcmVob3VzZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIG1vZGVsIG5vdCBmb3VuZCBlcnJvciByZXNwb25zZVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoJzQwNCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogdmFsaWRhdGUgZGF0YSBiZWZvcmUgc2F2ZVxuICAgICAgICB3YXJlaG91c2Uuc2V0KHsuLi5kYXRhfSk7XG5cbiAgICAgICAgYXdhaXQgd2FyZWhvdXNlLnNhdmUoKTtcblxuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgcmVzcG9uc2VcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHdhcmVob3VzZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvciByZXNwb25zZVxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBXYXJlaG91c2UgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgV2FyZWhvdXNlLmZpbmRCeUlkQW5kRGVsZXRlKGlkKTtcblxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhIVFRQX1NUQVRVUy5OT19DT05URU5UKS5qc29uKHt9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgV2FyZWhvdXNlQ29udHJvbGxlciA9IHtcbiAgICBsaXN0LFxuICAgIGNyZWF0ZSxcbiAgICB1cGRhdGUsXG4gICAgcmVtb3ZlLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "warehouse.controller.js"
      ],
      "names": [
        "list",
        "req",
        "res",
        "next",
        "Warehouse",
        "app",
        "get",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "options",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "warehouses",
        "docs",
        "json",
        "items",
        "err",
        "create",
        "data",
        "body",
        "warehouse",
        "update",
        "id",
        "params",
        "findById",
        "set",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "HTTP_STATUS",
        "NO_CONTENT",
        "WarehouseController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\nimport { get } from 'lodash';\nimport HTTP_STATUS from 'http-status';\n\nasync function list(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const query = {};\n\n    const options = {\n        page,\n        limit,\n    };\n\n    try {\n        const results = await Warehouse.paginate(query, options);\n\n        const count = results.totalDocs;\n        const warehouses = results.docs;\n\n        return res.json({\n            items: warehouses,\n            count,\n        });\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nasync function create(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n    const data = req.body;\n\n    try {\n        // TODO: validate before create\n        const warehouse = await Warehouse.create(data);\n\n        // TODO: handle response content\n        return res.json(warehouse);\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nasync function update(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n    const { id } = req.params;\n    const data = req.body;\n\n    try {\n        const warehouse = await Warehouse.findById(id);\n\n        if (!warehouse) {\n            // TODO: handle model not found error response\n            return next('404');\n        }\n\n        // TODO: validate data before save\n        warehouse.set({...data});\n\n        await warehouse.save();\n\n        // TODO: handle response\n        return res.json(warehouse);\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nasync function remove(req, res, next) {\n    const { Warehouse } = req.app.get('models');\n    const { id } = req.params;\n\n    try {\n        await Warehouse.findByIdAndDelete(id);\n\n        return res.status(HTTP_STATUS.NO_CONTENT).json({});\n    } catch (err) {\n        // TODO: handle error response\n        return next(err);\n    }\n}\n\nexport const WarehouseController = {\n    list,\n    create,\n    update,\n    remove,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/purchase-order.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/purchase-order.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/purchase-order.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/purchase-order.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "purchase-order.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PurchaseOrderController = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nasync function find(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const query = JSON.parse((0, _lodash.get)(req.query, 'query', '{}'));\n  const sort = JSON.parse((0, _lodash.get)(req.query, 'sort', '{}')); // const query = {};\n\n  /*if (filter.hasOwnProperty('code')) {\n      query['code'] = filter.code;\n  }\n   if (filter.hasOwnProperty('name')) {\n      query['name'] = filter.name;\n  }*/\n\n  const options = {\n    page,\n    limit,\n    sort\n  };\n  /*if (has(filter, 'populate')) {\n      options.populate = get(filter, 'populate');\n  }*/\n\n  try {\n    const results = await PurchaseOrder.paginate(query, options);\n    const count = results.totalDocs;\n    const items = results.docs;\n    return res.json({\n      items,\n      count\n    });\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function findOne(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n\n  try {\n    const item = await PurchaseOrder.findById(id).populate('products.product');\n\n    if (!item) {\n      return next('error 404 product not found');\n    }\n\n    return res.json(item);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function create(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const user = req.user;\n  const data = req.body;\n  data.warehouseId = user.warehouseId;\n  data.createdBy = user.id;\n\n  try {\n    const purchaseOrder = await PurchaseOrder.create(data); // TODO: handle response format\n\n    return res.json(purchaseOrder);\n  } catch (err) {\n    // TODO: validate write error\n    return next(err);\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n  const {\n    user\n  } = req;\n  const data = req.body;\n\n  try {\n    const purchaseOrder = await PurchaseOrder.findById(id);\n\n    if (!purchaseOrder) {\n      return next('404 not found');\n    }\n\n    data.updatedBy = user.id;\n\n    for (const key in data) {\n      purchaseOrder[key] = data[key];\n    }\n\n    await purchaseOrder.save();\n    return res.json(purchaseOrder);\n  } catch (err) {\n    return next(err);\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    PurchaseOrder\n  } = req.app.get('models');\n  const {\n    id\n  } = req.params;\n\n  try {\n    await PurchaseOrder.findByIdAndDelete(id);\n    return res.status(204).json({});\n  } catch (err) {\n    return next(err);\n  }\n}\n\nconst PurchaseOrderController = {\n  find,\n  findOne,\n  create,\n  update,\n  remove\n};\nexports.PurchaseOrderController = PurchaseOrderController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmNoYXNlLW9yZGVyLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZmluZCIsInJlcSIsInJlcyIsIm5leHQiLCJQdXJjaGFzZU9yZGVyIiwiYXBwIiwiZ2V0IiwibGltaXQiLCJwYXJzZUludCIsInF1ZXJ5IiwiREVGQVVMVF9QQUdFX0xJTUlUIiwicGFnZSIsIkpTT04iLCJwYXJzZSIsInNvcnQiLCJvcHRpb25zIiwicmVzdWx0cyIsInBhZ2luYXRlIiwiY291bnQiLCJ0b3RhbERvY3MiLCJpdGVtcyIsImRvY3MiLCJqc29uIiwiZXJyIiwiZmluZE9uZSIsImlkIiwicGFyYW1zIiwiaXRlbSIsImZpbmRCeUlkIiwicG9wdWxhdGUiLCJjcmVhdGUiLCJ1c2VyIiwiZGF0YSIsImJvZHkiLCJ3YXJlaG91c2VJZCIsImNyZWF0ZWRCeSIsInB1cmNoYXNlT3JkZXIiLCJ1cGRhdGUiLCJ1cGRhdGVkQnkiLCJrZXkiLCJzYXZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJQdXJjaGFzZU9yZGVyQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFFQTs7QUFFQSxlQUFlQSxJQUFmLENBQW9CQyxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLEVBQW9DO0FBQ2hDLFFBQU07QUFBRUMsSUFBQUE7QUFBRixNQUFvQkgsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQTFCO0FBRUEsUUFBTUMsS0FBSyxHQUFHQyxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE9BQWYsRUFBd0JDLHlCQUF4QixDQUFELENBQXRCO0FBRUEsUUFBTUMsSUFBSSxHQUFHSCxRQUFRLENBQUMsaUJBQUlQLEdBQUcsQ0FBQ1EsS0FBUixFQUFlLE1BQWYsRUFBdUIsQ0FBdkIsQ0FBRCxDQUFyQjtBQUVBLFFBQU1BLEtBQUssR0FBR0csSUFBSSxDQUFDQyxLQUFMLENBQVcsaUJBQUla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SUFBSSxDQUFDb0IsR0FBRCxDQUFYO0FBQ0g7QUFDSjs7QUFFRCxNQUFNcUIsdUJBQXVCLEdBQUc7QUFDNUI1QyxFQUFBQSxJQUQ0QjtBQUU1QndCLEVBQUFBLE9BRjRCO0FBRzVCTSxFQUFBQSxNQUg0QjtBQUk1Qk8sRUFBQUEsTUFKNEI7QUFLNUJJLEVBQUFBO0FBTDRCLENBQWhDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zb25sZC93YXJlaG91c2Uva2hvLWFwaS9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdldCwgb21pdEJ5LCBpc05pbCwgc3VtQnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBERUZBVUxUX1BBR0VfTElNSVQgfSBmcm9tICcuLi9lbnVtcyc7XG5cbmFzeW5jIGZ1bmN0aW9uIGZpbmQocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFB1cmNoYXNlT3JkZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ2xpbWl0JywgREVGQVVMVF9QQUdFX0xJTUlUKSk7XG5cbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoZ2V0KHJlcS5xdWVyeSwgJ3BhZ2UnLCAxKSk7XG5cbiAgICBjb25zdCBxdWVyeSA9IEpTT04ucGFyc2UoZ2V0KHJlcS5xdWVyeSwgJ3F1ZXJ5JywgJ3t9JykpO1xuXG4gICAgY29uc3Qgc29ydCA9IEpTT04ucGFyc2UoZ2V0KHJlcS5xdWVyeSwgJ3NvcnQnLCAne30nKSk7XG5cbiAgICAvLyBjb25zdCBxdWVyeSA9IHt9O1xuXG4gICAgLyppZiAoZmlsdGVyLmhhc093blByb3BlcnR5KCdjb2RlJykpIHtcbiAgICAgICAgcXVlcnlbJ2NvZGUnXSA9IGZpbHRlci5jb2RlO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXIuaGFzT3duUHJvcGVydHkoJ25hbWUnKSkge1xuICAgICAgICBxdWVyeVsnbmFtZSddID0gZmlsdGVyLm5hbWU7XG4gICAgfSovXG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwYWdlLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgc29ydCxcbiAgICB9O1xuXG4gICAgLyppZiAoaGFzKGZpbHRlciwgJ3BvcHVsYXRlJykpIHtcbiAgICAgICAgb3B0aW9ucy5wb3B1bGF0ZSA9IGdldChmaWx0ZXIsICdwb3B1bGF0ZScpO1xuICAgIH0qL1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFB1cmNoYXNlT3JkZXIucGFnaW5hdGUocXVlcnksIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGNvdW50ID0gcmVzdWx0cy50b3RhbERvY3M7XG5cbiAgICAgICAgY29uc3QgaXRlbXMgPSByZXN1bHRzLmRvY3M7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICAgIGl0ZW1zLFxuICAgICAgICAgICAgY291bnQsXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZpbmRPbmUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFB1cmNoYXNlT3JkZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IFB1cmNoYXNlT3JkZXJcbiAgICAgICAgICAgIC5maW5kQnlJZChpZClcbiAgICAgICAgICAgIC5wb3B1bGF0ZSgncHJvZHVjdHMucHJvZHVjdCcpO1xuXG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoJ2Vycm9yIDQwNCBwcm9kdWN0IG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKGl0ZW0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHsgUHVyY2hhc2VPcmRlciB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuICAgIGNvbnN0IHVzZXIgPSByZXEudXNlcjtcblxuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcbiAgICBkYXRhLndhcmVob3VzZUlkID0gdXNlci53YXJlaG91c2VJZDtcbiAgICBkYXRhLmNyZWF0ZWRCeSA9IHVzZXIuaWQ7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwdXJjaGFzZU9yZGVyID0gYXdhaXQgUHVyY2hhc2VPcmRlci5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIHJlc3BvbnNlIGZvcm1hdFxuICAgICAgICByZXR1cm4gcmVzLmpzb24ocHVyY2hhc2VPcmRlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86IHZhbGlkYXRlIHdyaXRlIGVycm9yXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCB7IFB1cmNoYXNlT3JkZXIgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IHsgdXNlciB9ID0gcmVxO1xuICAgIGNvbnN0IGRhdGEgPSByZXEuYm9keTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHB1cmNoYXNlT3JkZXIgPSBhd2FpdCBQdXJjaGFzZU9yZGVyLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXB1cmNoYXNlT3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCc0MDQgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnVwZGF0ZWRCeSA9IHVzZXIuaWQ7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgcHVyY2hhc2VPcmRlcltrZXldID0gZGF0YVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgcHVyY2hhc2VPcmRlci5zYXZlKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHB1cmNoYXNlT3JkZXIpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBQdXJjaGFzZU9yZGVyIH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFB1cmNoYXNlT3JkZXIuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwNCkuanNvbih7fSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5jb25zdCBQdXJjaGFzZU9yZGVyQ29udHJvbGxlciA9IHtcbiAgICBmaW5kLFxuICAgIGZpbmRPbmUsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICByZW1vdmUsXG59O1xuXG5leHBvcnQge1xuICAgIFB1cmNoYXNlT3JkZXJDb250cm9sbGVyXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "purchase-order.controller.js"
      ],
      "names": [
        "find",
        "req",
        "res",
        "next",
        "PurchaseOrder",
        "app",
        "get",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "JSON",
        "parse",
        "sort",
        "options",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "items",
        "docs",
        "json",
        "err",
        "findOne",
        "id",
        "params",
        "item",
        "findById",
        "populate",
        "create",
        "user",
        "data",
        "body",
        "warehouseId",
        "createdBy",
        "purchaseOrder",
        "update",
        "updatedBy",
        "key",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "PurchaseOrderController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { get, omitBy, isNil, sumBy } from 'lodash';\n\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\n\nasync function find(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const query = JSON.parse(get(req.query, 'query', '{}'));\n\n    const sort = JSON.parse(get(req.query, 'sort', '{}'));\n\n    // const query = {};\n\n    /*if (filter.hasOwnProperty('code')) {\n        query['code'] = filter.code;\n    }\n\n    if (filter.hasOwnProperty('name')) {\n        query['name'] = filter.name;\n    }*/\n\n    const options = {\n        page,\n        limit,\n        sort,\n    };\n\n    /*if (has(filter, 'populate')) {\n        options.populate = get(filter, 'populate');\n    }*/\n\n    try {\n        const results = await PurchaseOrder.paginate(query, options);\n\n        const count = results.totalDocs;\n\n        const items = results.docs;\n\n        return res.json({\n            items,\n            count,\n        });\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function findOne(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const { id } = req.params;\n\n    try {\n        const item = await PurchaseOrder\n            .findById(id)\n            .populate('products.product');\n\n        if (!item) {\n            return next('error 404 product not found');\n        }\n\n        return res.json(item);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function create(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const user = req.user;\n\n    const data = req.body;\n    data.warehouseId = user.warehouseId;\n    data.createdBy = user.id;\n\n    try {\n        const purchaseOrder = await PurchaseOrder.create(data);\n\n        // TODO: handle response format\n        return res.json(purchaseOrder);\n    } catch (err) {\n        // TODO: validate write error\n        return next(err);\n    }\n}\n\nasync function update(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const { id } = req.params;\n    const { user } = req;\n    const data = req.body;\n\n    try {\n        const purchaseOrder = await PurchaseOrder.findById(id);\n\n        if (!purchaseOrder) {\n            return next('404 not found');\n        }\n\n        data.updatedBy = user.id;\n\n        for (const key in data) {\n            purchaseOrder[key] = data[key];\n        }\n\n        await purchaseOrder.save();\n\n        return res.json(purchaseOrder);\n    } catch (err) {\n        return next(err);\n    }\n}\n\nasync function remove(req, res, next) {\n    const { PurchaseOrder } = req.app.get('models');\n    const { id } = req.params;\n\n    try {\n        await PurchaseOrder.findByIdAndDelete(id);\n\n        return res.status(204).json({});\n    } catch (err) {\n        return next(err);\n    }\n}\n\nconst PurchaseOrderController = {\n    find,\n    findOne,\n    create,\n    update,\n    remove,\n};\n\nexport {\n    PurchaseOrderController\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  },
  "{\"plugins\":[{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"sourceRoot\":\"/Users/sonld/warehouse/kho-api/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sonld/warehouse/kho-api\",\"filename\":\"/Users/sonld/warehouse/kho-api/src/controllers/product.controller.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sonld/warehouse/kho-api\",\"presets\":[]}:7.1.2": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/sonld/warehouse/kho-api",
      "filename": "/Users/sonld/warehouse/kho-api/src/controllers/product.controller.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/sonld/warehouse/kho-api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/plugin-proposal-export-namespace-from/lib/index.js",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$1",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$2",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$3",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$4",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$5",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "/Users/sonld/warehouse/kho-api/node_modules/@babel/preset-env/lib/index.js$6",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/sonld/warehouse/kho-api/src/controllers/product.controller.js",
        "plugins": [
          "exportNamespaceFrom",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/sonld/warehouse/kho-api/src/controllers/product.controller.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
        "sourceFileName": "product.controller.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ProductController = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _enums = require(\"../enums\");\n\nasync function find(req, res, next) {\n  const {\n    Product\n  } = req.app.get('models');\n  const user = req.user;\n  const limit = parseInt((0, _lodash.get)(req.query, 'limit', _enums.DEFAULT_PAGE_LIMIT));\n  const page = parseInt((0, _lodash.get)(req.query, 'page', 1));\n  const query = JSON.parse((0, _lodash.get)(req.query, 'query', '{}'));\n  const sort = JSON.parse((0, _lodash.get)(req.query, 'sort', '{}'));\n  const options = {\n    page,\n    limit,\n    sort\n  }; // DEFAULT QUERY ONLY IN CURRENT USER WAREHOUSE\n\n  query.warehouseId = user.warehouseId;\n\n  try {\n    const results = await Product.paginate(query, options);\n    const count = results.totalDocs;\n    const products = results.docs;\n    return res.json({\n      items: products,\n      count\n    });\n  } catch (err) {\n    return next(err);\n  }\n}\n\nasync function findOne(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    const product = await Product.findById(id);\n\n    if (!product) {\n      return next('error 404 product not found');\n    }\n\n    return res.json(product);\n  } catch (err) {\n    // TODO: handle error\n    return next(err);\n  }\n}\n\nasync function create(req, res, next) {\n  const data = req.body;\n  const user = req.user;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    // TODO: validate duplicate\n    if (await Product.isProductCodeExists(data.code)) {\n      return next('duplicate');\n    } // TODO:\n\n\n    data.warehouseId = user.warehouseId;\n    const product = await Product.create(data); // TODO:\n\n    return res.json(product);\n  } catch (err) {\n    // TODO:\n    return next(err);\n  }\n}\n\nasync function update(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    const product = await Product.findById(id);\n\n    if (!product) {\n      return next('404 product not found');\n    }\n\n    const data = (0, _lodash.omitBy)({\n      code: (0, _lodash.get)(req.body, 'code'),\n      name: (0, _lodash.get)(req.body, 'name'),\n      description: (0, _lodash.get)(req.body, 'description'),\n      manufacturer: (0, _lodash.get)(req.body, 'manufacturer'),\n      machinePart: (0, _lodash.get)(req.body, 'machinePart')\n    }, _lodash.isNil);\n\n    for (const key in data) {\n      product[key] = data[key];\n    }\n\n    await product.save();\n    return res.json(product);\n  } catch (err) {\n    // TODO:\n    return next(err);\n  }\n}\n\nasync function remove(req, res, next) {\n  const {\n    id\n  } = req.params;\n  const {\n    Product\n  } = req.app.get('models');\n\n  try {\n    await Product.findByIdAndDelete(id);\n    return res.status(204).json({});\n  } catch (err) {\n    // TODO:\n    return next(err);\n  }\n}\n\nconst ProductController = {\n  find,\n  findOne,\n  create,\n  update,\n  remove\n};\nexports.ProductController = ProductController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJmaW5kIiwicmVxIiwicmVzIiwibmV4dCIsIlByb2R1Y3QiLCJhcHAiLCJnZXQiLCJ1c2VyIiwibGltaXQiLCJwYXJzZUludCIsInF1ZXJ5IiwiREVGQVVMVF9QQUdFX0xJTUlUIiwicGFnZSIsIkpTT04iLCJwYXJzZSIsInNvcnQiLCJvcHRpb25zIiwid2FyZWhvdXNlSWQiLCJyZXN1bHRzIiwicGFnaW5hdGUiLCJjb3VudCIsInRvdGFsRG9jcyIsInByb2R1Y3RzIiwiZG9jcyIsImpzb24iLCJpdGVtcyIsImVyciIsImZpbmRPbmUiLCJpZCIsInBhcmFtcyIsInByb2R1Y3QiLCJmaW5kQnlJZCIsImNyZWF0ZSIsImRhdGEiLCJib2R5IiwiaXNQcm9kdWN0Q29kZUV4aXN0cyIsImNvZGUiLCJ1cGRhdGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJtYW51ZmFjdHVyZXIiLCJtYWNoaW5lUGFydCIsImlzTmlsIiwia2V5Iiwic2F2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwiUHJvZHVjdENvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBRUEsZUFBZUEsSUFBZixDQUFvQkMsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNoQyxRQUFNO0FBQUVDLElBQUFBO0FBQUYsTUFBY0gsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQXBCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHTixHQUFHLENBQUNNLElBQWpCO0FBRUEsUUFBTUMsS0FBSyxHQUFHQyxRQUFRLENBQUMsaUJBQUlSLEdBQUcsQ0FBQ1MsS0FBUixFQUFlLE9BQWYsRUFBd0JDLHlCQUF4QixDQUFELENBQXRCO0FBRUEsUUFBTUMsSUFBSSxHQUFHSCxRQUFRLENBQUMsaUJBQUlSLEdBQUcsQ0FBQ1MsS0FBUixFQUFlLE1BQWYsRUFB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QUN1QixHQUFELENBQVg7QUFDSDtBQUNKOztBQUVELGVBQWVtQixNQUFmLENBQXNCNUMsR0FBdEIsRUFBMkJDLEdBQTNCLEVBQWdDQyxJQUFoQyxFQUFzQztBQUNsQyxRQUFNO0FBQUV5QixJQUFBQTtBQUFGLE1BQVMzQixHQUFHLENBQUM0QixNQUFuQjtBQUNBLFFBQU07QUFBRXpCLElBQUFBO0FBQUYsTUFBY0gsR0FBRyxDQUFDSSxHQUFKLENBQVFDLEdBQVIsQ0FBWSxRQUFaLENBQXBCOztBQUVBLE1BQUk7QUFDQSxVQUFNRixPQUFPLENBQUMwQyxpQkFBUixDQUEwQmxCLEVBQTFCLENBQU47QUFFQSxXQUFPMUIsR0FBRyxDQUFDNkMsTUFBSixDQUFXLEdBQVgsRUFBZ0J2QixJQUFoQixDQUFxQixFQUFyQixDQUFQO0FBQ0gsR0FKRCxDQUlFLE9BQU9FLEdBQVAsRUFBWTtBQUNWO0FBQ0EsV0FBT3ZCLElBQUksQ0FBQ3VCLEdBQUQsQ0FBWDtBQUNIO0FBQ0o7O0FBRUQsTUFBTXNCLGlCQUFpQixHQUFHO0FBQ3RCaEQsRUFBQUEsSUFEc0I7QUFFdEIyQixFQUFBQSxPQUZzQjtBQUd0QkssRUFBQUEsTUFIc0I7QUFJdEJLLEVBQUFBLE1BSnNCO0FBS3RCUSxFQUFBQTtBQUxzQixDQUExQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc29ubGQvd2FyZWhvdXNlL2toby1hcGkvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBnZXQsIGlzTmlsLCBvbWl0QnkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgREVGQVVMVF9QQUdFX0xJTUlUIH0gZnJvbSAnLi4vZW51bXMnO1xuXG5hc3luYyBmdW5jdGlvbiBmaW5kKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBQcm9kdWN0IH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG4gICAgY29uc3QgdXNlciA9IHJlcS51c2VyO1xuXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChnZXQocmVxLnF1ZXJ5LCAnbGltaXQnLCBERUZBVUxUX1BBR0VfTElNSVQpKTtcblxuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChnZXQocmVxLnF1ZXJ5LCAncGFnZScsIDEpKTtcblxuICAgIGNvbnN0IHF1ZXJ5ID0gSlNPTi5wYXJzZShnZXQocmVxLnF1ZXJ5LCAncXVlcnknLCAne30nKSk7XG5cbiAgICBjb25zdCBzb3J0ID0gSlNPTi5wYXJzZShnZXQocmVxLnF1ZXJ5LCAnc29ydCcsICd7fScpKTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBzb3J0LFxuICAgIH07XG5cbiAgICAvLyBERUZBVUxUIFFVRVJZIE9OTFkgSU4gQ1VSUkVOVCBVU0VSIFdBUkVIT1VTRVxuICAgIHF1ZXJ5LndhcmVob3VzZUlkID0gdXNlci53YXJlaG91c2VJZDtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9kdWN0LnBhZ2luYXRlKHF1ZXJ5LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBjb3VudCA9IHJlc3VsdHMudG90YWxEb2NzO1xuXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzID0gcmVzdWx0cy5kb2NzO1xuXG4gICAgICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICAgICAgICBpdGVtczogcHJvZHVjdHMsXG4gICAgICAgICAgICBjb3VudCxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kT25lKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IFByb2R1Y3QgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCdlcnJvciA0MDQgcHJvZHVjdCBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXMuanNvbihwcm9kdWN0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGVycm9yXG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlciA9IHJlcS51c2VyO1xuICAgIGNvbnN0IHsgUHJvZHVjdCB9ID0gcmVxLmFwcC5nZXQoJ21vZGVscycpO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gVE9ETzogdmFsaWRhdGUgZHVwbGljYXRlXG4gICAgICAgIGlmIChhd2FpdCBQcm9kdWN0LmlzUHJvZHVjdENvZGVFeGlzdHMoZGF0YS5jb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoJ2R1cGxpY2F0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgZGF0YS53YXJlaG91c2VJZCA9IHVzZXIud2FyZWhvdXNlSWQ7XG5cbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuY3JlYXRlKGRhdGEpO1xuXG4gICAgICAgIC8vIFRPRE86XG4gICAgICAgIHJldHVybiByZXMuanNvbihwcm9kdWN0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgeyBQcm9kdWN0IH0gPSByZXEuYXBwLmdldCgnbW9kZWxzJyk7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChpZCk7XG5cbiAgICAgICAgaWYgKCFwcm9kdWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dCgnNDA0IHByb2R1Y3Qgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gb21pdEJ5KHtcbiAgICAgICAgICAgIGNvZGU6IGdldChyZXEuYm9keSwgJ2NvZGUnKSxcbiAgICAgICAgICAgIG5hbWU6IGdldChyZXEuYm9keSwgJ25hbWUnKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBnZXQocmVxLmJvZHksICdkZXNjcmlwdGlvbicpLFxuICAgICAgICAgICAgbWFudWZhY3R1cmVyOiBnZXQocmVxLmJvZHksICdtYW51ZmFjdHVyZXInKSxcbiAgICAgICAgICAgIG1hY2hpbmVQYXJ0OiBnZXQocmVxLmJvZHksICdtYWNoaW5lUGFydCcpLFxuICAgICAgICB9LCBpc05pbCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgcHJvZHVjdFtrZXldID0gZGF0YVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHByb2R1Y3QpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUT0RPOlxuICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IFByb2R1Y3QgfSA9IHJlcS5hcHAuZ2V0KCdtb2RlbHMnKTtcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFByb2R1Y3QuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwNCkuanNvbih7fSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE86XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxufVxuXG5jb25zdCBQcm9kdWN0Q29udHJvbGxlciA9IHtcbiAgICBmaW5kLFxuICAgIGZpbmRPbmUsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICByZW1vdmUsXG59O1xuXG5leHBvcnQge1xuICAgIFByb2R1Y3RDb250cm9sbGVyLFxufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "product.controller.js"
      ],
      "names": [
        "find",
        "req",
        "res",
        "next",
        "Product",
        "app",
        "get",
        "user",
        "limit",
        "parseInt",
        "query",
        "DEFAULT_PAGE_LIMIT",
        "page",
        "JSON",
        "parse",
        "sort",
        "options",
        "warehouseId",
        "results",
        "paginate",
        "count",
        "totalDocs",
        "products",
        "docs",
        "json",
        "items",
        "err",
        "findOne",
        "id",
        "params",
        "product",
        "findById",
        "create",
        "data",
        "body",
        "isProductCodeExists",
        "code",
        "update",
        "name",
        "description",
        "manufacturer",
        "machinePart",
        "isNil",
        "key",
        "save",
        "remove",
        "findByIdAndDelete",
        "status",
        "ProductController"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/sonld/warehouse/kho-api/src/controllers",
      "sourcesContent": [
        "'use strict';\n\nimport { get, isNil, omitBy } from 'lodash';\nimport { DEFAULT_PAGE_LIMIT } from '../enums';\n\nasync function find(req, res, next) {\n    const { Product } = req.app.get('models');\n    const user = req.user;\n\n    const limit = parseInt(get(req.query, 'limit', DEFAULT_PAGE_LIMIT));\n\n    const page = parseInt(get(req.query, 'page', 1));\n\n    const query = JSON.parse(get(req.query, 'query', '{}'));\n\n    const sort = JSON.parse(get(req.query, 'sort', '{}'));\n\n    const options = {\n        page,\n        limit,\n        sort,\n    };\n\n    // DEFAULT QUERY ONLY IN CURRENT USER WAREHOUSE\n    query.warehouseId = user.warehouseId;\n\n    try {\n        const results = await Product.paginate(query, options);\n\n        const count = results.totalDocs;\n\n        const products = results.docs;\n\n        return res.json({\n            items: products,\n            count,\n        });\n    } catch (err) {\n        return next(err);\n    }\n}\n\nasync function findOne(req, res, next) {\n    const { id } = req.params;\n    const { Product } = req.app.get('models');\n\n    try {\n        const product = await Product.findById(id);\n\n        if (!product) {\n            return next('error 404 product not found');\n        }\n\n        return res.json(product);\n    } catch (err) {\n        // TODO: handle error\n        return next(err);\n    }\n}\n\nasync function create(req, res, next) {\n    const data = req.body;\n    const user = req.user;\n    const { Product } = req.app.get('models');\n\n    try {\n        // TODO: validate duplicate\n        if (await Product.isProductCodeExists(data.code)) {\n            return next('duplicate');\n        }\n\n        // TODO:\n        data.warehouseId = user.warehouseId;\n\n        const product = await Product.create(data);\n\n        // TODO:\n        return res.json(product);\n    } catch (err) {\n        // TODO:\n        return next(err);\n    }\n}\n\nasync function update(req, res, next) {\n    const { id } = req.params;\n    const { Product } = req.app.get('models');\n\n    try {\n        const product = await Product.findById(id);\n\n        if (!product) {\n            return next('404 product not found');\n        }\n\n        const data = omitBy({\n            code: get(req.body, 'code'),\n            name: get(req.body, 'name'),\n            description: get(req.body, 'description'),\n            manufacturer: get(req.body, 'manufacturer'),\n            machinePart: get(req.body, 'machinePart'),\n        }, isNil);\n\n        for (const key in data) {\n            product[key] = data[key];\n        }\n\n        await product.save();\n\n        return res.json(product);\n    } catch (err) {\n        // TODO:\n        return next(err);\n    }\n}\n\nasync function remove(req, res, next) {\n    const { id } = req.params;\n    const { Product } = req.app.get('models');\n\n    try {\n        await Product.findByIdAndDelete(id);\n\n        return res.status(204).json({});\n    } catch (err) {\n        // TODO:\n        return next(err);\n    }\n}\n\nconst ProductController = {\n    find,\n    findOne,\n    create,\n    update,\n    remove,\n};\n\nexport {\n    ProductController,\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1550908526000
  }
}